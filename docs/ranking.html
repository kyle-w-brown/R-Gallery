<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Ranking | R-Gallery-Book</title>
  <meta name="description" content="This is the complete guide to the R Gallery." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Ranking | R-Gallery-Book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the complete guide to the R Gallery." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Ranking | R-Gallery-Book" />
  
  <meta name="twitter:description" content="This is the complete guide to the R Gallery." />
  

<meta name="author" content="Kyle W. Brown" />


<meta name="date" content="2021-01-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="correlation.html"/>
<link rel="next" href="part.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/d3-4.13.0/d3.min.js"></script>
<script src="libs/d3-tip-0.8.1/index.js"></script>
<link href="libs/chorddiag-0.1.2.9000/chorddiag.css" rel="stylesheet" />
<script src="libs/chorddiag-0.1.2.9000/chorddiag.js"></script>
<script src="libs/sankey-1/sankey.js"></script>
<script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Gallery Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>2</b> Distributions</a>
<ul>
<li class="chapter" data-level="2.1" data-path="distributions.html"><a href="distributions.html#violin"><i class="fa fa-check"></i><b>2.1</b> Violin</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="distributions.html"><a href="distributions.html#base-r-violin-plot"><i class="fa fa-check"></i><b>2.1.1</b> Base R Violin Plot</a></li>
<li class="chapter" data-level="2.1.2" data-path="distributions.html"><a href="distributions.html#basic-ggplot-violin-plot"><i class="fa fa-check"></i><b>2.1.2</b> Basic ggplot Violin Plot</a></li>
<li class="chapter" data-level="2.1.3" data-path="distributions.html"><a href="distributions.html#note-on-input-format"><i class="fa fa-check"></i><b>2.1.3</b> Note on Input Format</a></li>
<li class="chapter" data-level="2.1.4" data-path="distributions.html"><a href="distributions.html#from-wide-format"><i class="fa fa-check"></i><b>2.1.4</b> From Wide Format</a></li>
<li class="chapter" data-level="2.1.5" data-path="distributions.html"><a href="distributions.html#reorder-a-variable-with-ggplot2"><i class="fa fa-check"></i><b>2.1.5</b> Reorder a variable with <code>ggplot2</code></a></li>
<li class="chapter" data-level="2.1.6" data-path="distributions.html"><a href="distributions.html#method-1-the-forcats-library"><i class="fa fa-check"></i><b>2.1.6</b> Method 1: the <code>forcats</code> library</a></li>
<li class="chapter" data-level="2.1.7" data-path="distributions.html"><a href="distributions.html#method-2-using-dplyr-only"><i class="fa fa-check"></i><b>2.1.7</b> Method 2: Using Dplyr Only</a></li>
<li class="chapter" data-level="2.1.8" data-path="distributions.html"><a href="distributions.html#method-3-the-reorder-function-of-base-r"><i class="fa fa-check"></i><b>2.1.8</b> Method 3: the <code>reorder()</code> Function of Base R</a></li>
<li class="chapter" data-level="2.1.9" data-path="distributions.html"><a href="distributions.html#horizontal-violin-plot-with-ggplot2"><i class="fa fa-check"></i><b>2.1.9</b> Horizontal Violin Plot with <code>ggplot2</code></a></li>
<li class="chapter" data-level="2.1.10" data-path="distributions.html"><a href="distributions.html#violin-plot-with-included-boxplot-and-sample-size-in-ggplot2"><i class="fa fa-check"></i><b>2.1.10</b> Violin Plot with included Boxplot and Sample Size in ggplot2</a></li>
<li class="chapter" data-level="2.1.11" data-path="distributions.html"><a href="distributions.html#grouped-violin-chart-with-ggplot2"><i class="fa fa-check"></i><b>2.1.11</b> Grouped Violin Chart with ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="distributions.html"><a href="distributions.html#density"><i class="fa fa-check"></i><b>2.2</b> Density</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="distributions.html"><a href="distributions.html#basic-density-chart-with-ggplot2"><i class="fa fa-check"></i><b>2.2.1</b> Basic density chart with ggplot2</a></li>
<li class="chapter" data-level="2.2.2" data-path="distributions.html"><a href="distributions.html#custom-with-theme_ipsum"><i class="fa fa-check"></i><b>2.2.2</b> Custom with <code>theme_ipsum</code></a></li>
<li class="chapter" data-level="2.2.3" data-path="distributions.html"><a href="distributions.html#mirror-density-chart-with-ggplot2"><i class="fa fa-check"></i><b>2.2.3</b> Mirror Density Chart with ggplot2</a></li>
<li class="chapter" data-level="2.2.4" data-path="distributions.html"><a href="distributions.html#density-with-geom_density"><i class="fa fa-check"></i><b>2.2.4</b> Density with <code>geom_density</code></a></li>
<li class="chapter" data-level="2.2.5" data-path="distributions.html"><a href="distributions.html#histogram-with-geom_histogram"><i class="fa fa-check"></i><b>2.2.5</b> Histogram with <code>geom_histogram</code></a></li>
<li class="chapter" data-level="2.2.6" data-path="distributions.html"><a href="distributions.html#density-chart-with-several-groups"><i class="fa fa-check"></i><b>2.2.6</b> Density Chart with Several Groups</a></li>
<li class="chapter" data-level="2.2.7" data-path="distributions.html"><a href="distributions.html#multi-density-chart"><i class="fa fa-check"></i><b>2.2.7</b> Multi density chart</a></li>
<li class="chapter" data-level="2.2.8" data-path="distributions.html"><a href="distributions.html#small-multiple-with-facet_wrap"><i class="fa fa-check"></i><b>2.2.8</b> Small Multiple with <code>facet_wrap()</code></a></li>
<li class="chapter" data-level="2.2.9" data-path="distributions.html"><a href="distributions.html#stacked-density-chart"><i class="fa fa-check"></i><b>2.2.9</b> Stacked Density Chart</a></li>
<li class="chapter" data-level="2.2.10" data-path="distributions.html"><a href="distributions.html#marginal-distribution-with-ggplot2-and-ggextra"><i class="fa fa-check"></i><b>2.2.10</b> Marginal distribution with ggplot2 and ggExtra</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="distributions.html"><a href="distributions.html#histogram"><i class="fa fa-check"></i><b>2.3</b> Histogram</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="distributions.html"><a href="distributions.html#ggplot2"><i class="fa fa-check"></i><b>2.3.1</b> GGPLOT2</a></li>
<li class="chapter" data-level="2.3.2" data-path="distributions.html"><a href="distributions.html#basic-histogram-with-ggplot2"><i class="fa fa-check"></i><b>2.3.2</b> Basic histogram with ggplot2</a></li>
<li class="chapter" data-level="2.3.3" data-path="distributions.html"><a href="distributions.html#basic-histogram-with-geom_histogram"><i class="fa fa-check"></i><b>2.3.3</b> Basic Histogram with <code>geom_histogram</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="distributions.html"><a href="distributions.html#control-bin-size-with-binwidth"><i class="fa fa-check"></i><b>2.3.4</b> Control Bin Size with <code>binwidth</code></a></li>
<li class="chapter" data-level="2.3.5" data-path="distributions.html"><a href="distributions.html#histogram-with-several-groups---ggplot2"><i class="fa fa-check"></i><b>2.3.5</b> Histogram with Several Groups - ggplot2</a></li>
<li class="chapter" data-level="2.3.6" data-path="distributions.html"><a href="distributions.html#using-small-multiple"><i class="fa fa-check"></i><b>2.3.6</b> Using Small Multiple</a></li>
<li class="chapter" data-level="2.3.7" data-path="distributions.html"><a href="distributions.html#base-r"><i class="fa fa-check"></i><b>2.3.7</b> Base R</a></li>
<li class="chapter" data-level="2.3.8" data-path="distributions.html"><a href="distributions.html#two-histograms-with-melt-colors"><i class="fa fa-check"></i><b>2.3.8</b> Two Histograms with Melt Colors</a></li>
<li class="chapter" data-level="2.3.9" data-path="distributions.html"><a href="distributions.html#boxplot-on-top-of-histogram"><i class="fa fa-check"></i><b>2.3.9</b> Boxplot on top of Histogram</a></li>
<li class="chapter" data-level="2.3.10" data-path="distributions.html"><a href="distributions.html#histogram-with-colored-tail"><i class="fa fa-check"></i><b>2.3.10</b> Histogram with Colored Tail</a></li>
<li class="chapter" data-level="2.3.11" data-path="distributions.html"><a href="distributions.html#mirrored-histogram-in-base-r"><i class="fa fa-check"></i><b>2.3.11</b> Mirrored Histogram in Base R</a></li>
<li class="chapter" data-level="2.3.12" data-path="distributions.html"><a href="distributions.html#histogram-without-border"><i class="fa fa-check"></i><b>2.3.12</b> Histogram without Border</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="distributions.html"><a href="distributions.html#boxplot"><i class="fa fa-check"></i><b>2.4</b> Boxplot</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="distributions.html"><a href="distributions.html#ggplot2-1"><i class="fa fa-check"></i><b>2.4.1</b> Ggplot2</a></li>
<li class="chapter" data-level="2.4.2" data-path="distributions.html"><a href="distributions.html#ggplot2-boxplot-parameters"><i class="fa fa-check"></i><b>2.4.2</b> Ggplot2 Boxplot Parameters</a></li>
<li class="chapter" data-level="2.4.3" data-path="distributions.html"><a href="distributions.html#control-ggplot2-boxplot-colors"><i class="fa fa-check"></i><b>2.4.3</b> Control ggplot2 Boxplot Colors</a></li>
<li class="chapter" data-level="2.4.4" data-path="distributions.html"><a href="distributions.html#highlighting-a-group"><i class="fa fa-check"></i><b>2.4.4</b> Highlighting a Group</a></li>
<li class="chapter" data-level="2.4.5" data-path="distributions.html"><a href="distributions.html#grouped-boxplot"><i class="fa fa-check"></i><b>2.4.5</b> Grouped Boxplot</a></li>
<li class="chapter" data-level="2.4.6" data-path="distributions.html"><a href="distributions.html#using-small-multiple-1"><i class="fa fa-check"></i><b>2.4.6</b> Using Small Multiple</a></li>
<li class="chapter" data-level="2.4.7" data-path="distributions.html"><a href="distributions.html#ggplot2-boxplot-with-variable-width"><i class="fa fa-check"></i><b>2.4.7</b> Ggplot2 Boxplot with Variable Width</a></li>
<li class="chapter" data-level="2.4.8" data-path="distributions.html"><a href="distributions.html#ggplot2-boxplot-from-continuous-variable"><i class="fa fa-check"></i><b>2.4.8</b> Ggplot2 Boxplot from Continuous Variable</a></li>
<li class="chapter" data-level="2.4.9" data-path="distributions.html"><a href="distributions.html#ggplot2-boxplot-with-mean-value"><i class="fa fa-check"></i><b>2.4.9</b> Ggplot2 Boxplot with Mean Value</a></li>
<li class="chapter" data-level="2.4.10" data-path="distributions.html"><a href="distributions.html#basic-r"><i class="fa fa-check"></i><b>2.4.10</b> Basic R</a></li>
<li class="chapter" data-level="2.4.11" data-path="distributions.html"><a href="distributions.html#basic-r-x-axis-labels-on-several-lines"><i class="fa fa-check"></i><b>2.4.11</b> Basic R: X Axis Labels on Several Lines</a></li>
<li class="chapter" data-level="2.4.12" data-path="distributions.html"><a href="distributions.html#boxplot-with-jitter-in-base-r"><i class="fa fa-check"></i><b>2.4.12</b> Boxplot with Jitter in Base R</a></li>
<li class="chapter" data-level="2.4.13" data-path="distributions.html"><a href="distributions.html#ordering-boxplots-in-base-r"><i class="fa fa-check"></i><b>2.4.13</b> Ordering Boxplots in Base R</a></li>
<li class="chapter" data-level="2.4.14" data-path="distributions.html"><a href="distributions.html#give-a-specific-order"><i class="fa fa-check"></i><b>2.4.14</b> Give a Specific Order</a></li>
<li class="chapter" data-level="2.4.15" data-path="distributions.html"><a href="distributions.html#grouped-and-ordered-boxplot"><i class="fa fa-check"></i><b>2.4.15</b> Grouped and Ordered Boxplot</a></li>
<li class="chapter" data-level="2.4.16" data-path="distributions.html"><a href="distributions.html#add-text-over-boxplot-in-base-r"><i class="fa fa-check"></i><b>2.4.16</b> Add Text over Boxplot in Base R</a></li>
<li class="chapter" data-level="2.4.17" data-path="distributions.html"><a href="distributions.html#tukey-test-and-boxplot-in-r"><i class="fa fa-check"></i><b>2.4.17</b> Tukey Test and Boxplot in R</a></li>
<li class="chapter" data-level="2.4.18" data-path="distributions.html"><a href="distributions.html#tukey-test-result-on-top-of-boxplot"><i class="fa fa-check"></i><b>2.4.18</b> Tukey test result on top of boxplot</a></li>
<li class="chapter" data-level="2.4.19" data-path="distributions.html"><a href="distributions.html#control-box-type-with-the-bty-option"><i class="fa fa-check"></i><b>2.4.19</b> Control Box Type with the bty Option</a></li>
<li class="chapter" data-level="2.4.20" data-path="distributions.html"><a href="distributions.html#split-base-r-plot-window-with-layout"><i class="fa fa-check"></i><b>2.4.20</b> Split Base R Plot Window with <code>layout()</code></a></li>
<li class="chapter" data-level="2.4.21" data-path="distributions.html"><a href="distributions.html#subdivide-second-row"><i class="fa fa-check"></i><b>2.4.21</b> Subdivide Second Row</a></li>
<li class="chapter" data-level="2.4.22" data-path="distributions.html"><a href="distributions.html#custom-proportions"><i class="fa fa-check"></i><b>2.4.22</b> Custom Proportions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="distributions.html"><a href="distributions.html#ridgeline-chart"><i class="fa fa-check"></i><b>2.5</b> Ridgeline Chart</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="distributions.html"><a href="distributions.html#basic-ridgeline-plot"><i class="fa fa-check"></i><b>2.5.1</b> Basic Ridgeline Plot</a></li>
<li class="chapter" data-level="2.5.2" data-path="distributions.html"><a href="distributions.html#shape-variation"><i class="fa fa-check"></i><b>2.5.2</b> Shape Variation</a></li>
<li class="chapter" data-level="2.5.3" data-path="distributions.html"><a href="distributions.html#color-relative-to-numeric-value"><i class="fa fa-check"></i><b>2.5.3</b> Color Relative to Numeric Value</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="correlation.html"><a href="correlation.html"><i class="fa fa-check"></i><b>3</b> Correlation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="correlation.html"><a href="correlation.html#scatterplot"><i class="fa fa-check"></i><b>3.1</b> Scatterplot</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="correlation.html"><a href="correlation.html#custom-ggplot2-scatterplot"><i class="fa fa-check"></i><b>3.1.1</b> Custom <code>ggplot2</code> Scatterplot</a></li>
<li class="chapter" data-level="3.1.2" data-path="correlation.html"><a href="correlation.html#using-theme_ipsum"><i class="fa fa-check"></i><b>3.1.2</b> Using <code>theme_ipsum</code></a></li>
<li class="chapter" data-level="3.1.3" data-path="correlation.html"><a href="correlation.html#map-a-variable-to-marker-feature-in-ggplot2-scatterplot"><i class="fa fa-check"></i><b>3.1.3</b> Map a Variable to Marker Feature in <code>ggplot2</code> Scatterplot</a></li>
<li class="chapter" data-level="3.1.4" data-path="correlation.html"><a href="correlation.html#works-with-any-aesthetics"><i class="fa fa-check"></i><b>3.1.4</b> Works with any Aesthetics</a></li>
<li class="chapter" data-level="3.1.5" data-path="correlation.html"><a href="correlation.html#mapping-to-several-features"><i class="fa fa-check"></i><b>3.1.5</b> Mapping to Several Features</a></li>
<li class="chapter" data-level="3.1.6" data-path="correlation.html"><a href="correlation.html#add-text-labels-with-ggplot2"><i class="fa fa-check"></i><b>3.1.6</b> Add Text Labels with <code>ggplot2</code></a></li>
<li class="chapter" data-level="3.1.7" data-path="correlation.html"><a href="correlation.html#add-labels-with-geom_label"><i class="fa fa-check"></i><b>3.1.7</b> Add Labels with <code>geom_label()</code></a></li>
<li class="chapter" data-level="3.1.8" data-path="correlation.html"><a href="correlation.html#add-one-text-label-only"><i class="fa fa-check"></i><b>3.1.8</b> Add One Text Label Only</a></li>
<li class="chapter" data-level="3.1.9" data-path="correlation.html"><a href="correlation.html#add-labels-for-a-selection-of-marker"><i class="fa fa-check"></i><b>3.1.9</b> Add Labels for a Selection of Marker</a></li>
<li class="chapter" data-level="3.1.10" data-path="correlation.html"><a href="correlation.html#ggplot2-scatterplot-with-rug"><i class="fa fa-check"></i><b>3.1.10</b> Ggplot2 Scatterplot with Rug</a></li>
<li class="chapter" data-level="3.1.11" data-path="distributions.html"><a href="distributions.html#marginal-distribution-with-ggplot2-and-ggextra"><i class="fa fa-check"></i><b>3.1.11</b> Marginal Distribution with <code>ggplot2</code> and <code>ggExtra</code></a></li>
<li class="chapter" data-level="3.1.12" data-path="distributions.html"><a href="distributions.html#more-customization"><i class="fa fa-check"></i><b>3.1.12</b> More Customization</a></li>
<li class="chapter" data-level="3.1.13" data-path="correlation.html"><a href="correlation.html#linear-model-and-confidence-interval-in-ggplot2"><i class="fa fa-check"></i><b>3.1.13</b> Linear Model and Confidence Interval in <code>ggplot2</code></a></li>
<li class="chapter" data-level="3.1.14" data-path="correlation.html"><a href="correlation.html#using-base-r"><i class="fa fa-check"></i><b>3.1.14</b> Using Base R</a></li>
<li class="chapter" data-level="3.1.15" data-path="correlation.html"><a href="correlation.html#map-the-marker-color-to-a-categorical-variable"><i class="fa fa-check"></i><b>3.1.15</b> Map the Marker Color to a Categorical Variable</a></li>
<li class="chapter" data-level="3.1.16" data-path="correlation.html"><a href="correlation.html#map-the-marker-color-to-a-numeric-variable"><i class="fa fa-check"></i><b>3.1.16</b> Map the Marker Color to a Numeric Variable</a></li>
<li class="chapter" data-level="3.1.17" data-path="correlation.html"><a href="correlation.html#scatterplot-with-polynomial-curve-fitting"><i class="fa fa-check"></i><b>3.1.17</b> Scatterplot with Polynomial Curve Fitting</a></li>
<li class="chapter" data-level="3.1.18" data-path="correlation.html"><a href="correlation.html#polynomial-curve-fitting-and-confidence-interval"><i class="fa fa-check"></i><b>3.1.18</b> Polynomial Curve Fitting and Confidence Interval</a></li>
<li class="chapter" data-level="3.1.19" data-path="correlation.html"><a href="correlation.html#lattice-xy-plot-function"><i class="fa fa-check"></i><b>3.1.19</b> Lattice XY Plot Function</a></li>
<li class="chapter" data-level="3.1.20" data-path="correlation.html"><a href="correlation.html#correlation-between-discrete-variable"><i class="fa fa-check"></i><b>3.1.20</b> Correlation between Discrete Variable</a></li>
<li class="chapter" data-level="3.1.21" data-path="correlation.html"><a href="correlation.html#use-mtext-to-write-text-in-margin"><i class="fa fa-check"></i><b>3.1.21</b> Use <code>mtext()</code> to Write Text in Margin</a></li>
<li class="chapter" data-level="3.1.22" data-path="correlation.html"><a href="correlation.html#customizations-1"><i class="fa fa-check"></i><b>3.1.22</b> Customizations</a></li>
<li class="chapter" data-level="3.1.23" data-path="correlation.html"><a href="correlation.html#the-split_screen-function-of-r"><i class="fa fa-check"></i><b>3.1.23</b> The <code>split_screen()</code> Function of R</a></li>
<li class="chapter" data-level="3.1.24" data-path="correlation.html"><a href="correlation.html#use-par-mfrow-to-split-screen"><i class="fa fa-check"></i><b>3.1.24</b> Use par mfrow to Split Screen</a></li>
<li class="chapter" data-level="3.1.25" data-path="correlation.html"><a href="correlation.html#base-r-graph-parameters-a-cheatsheet."><i class="fa fa-check"></i><b>3.1.25</b> Base R Graph Parameters: A Cheatsheet.</a></li>
<li class="chapter" data-level="3.1.26" data-path="correlation.html"><a href="correlation.html#special-use-case-manhattan-plots"><i class="fa fa-check"></i><b>3.1.26</b> Special Use Case: Manhattan Plots</a></li>
<li class="chapter" data-level="3.1.27" data-path="correlation.html"><a href="correlation.html#highly-customizable-with-ggplot2"><i class="fa fa-check"></i><b>3.1.27</b> Highly Customizable with <code>ggplot2</code></a></li>
<li class="chapter" data-level="3.1.28" data-path="correlation.html"><a href="correlation.html#switch-to-an-interactive-version-with-plotly"><i class="fa fa-check"></i><b>3.1.28</b> Switch to an Interactive Version with <code>plotly</code></a></li>
<li class="chapter" data-level="3.1.29" data-path="correlation.html"><a href="correlation.html#circular-version-with-cmplot"><i class="fa fa-check"></i><b>3.1.29</b> Circular Version with CMplot</a></li>
<li class="chapter" data-level="3.1.30" data-path="correlation.html"><a href="correlation.html#snp-density-plot"><i class="fa fa-check"></i><b>3.1.30</b> SNP-Density Plot</a></li>
<li class="chapter" data-level="3.1.31" data-path="correlation.html"><a href="correlation.html#circular-manhattan-plot"><i class="fa fa-check"></i><b>3.1.31</b> Circular-Manhattan Plot</a></li>
<li class="chapter" data-level="3.1.32" data-path="correlation.html"><a href="correlation.html#single_track-rectangular-manhattan-plot"><i class="fa fa-check"></i><b>3.1.32</b> Single_track Rectangular-Manhattan Plot</a></li>
<li class="chapter" data-level="3.1.33" data-path="correlation.html"><a href="correlation.html#multi_tracks-rectangular-manhattan-plot"><i class="fa fa-check"></i><b>3.1.33</b> Multi_tracks Rectangular-Manhattan Plot</a></li>
<li class="chapter" data-level="3.1.34" data-path="correlation.html"><a href="correlation.html#single_track-q-q-plot"><i class="fa fa-check"></i><b>3.1.34</b> Single_track Q-Q Plot</a></li>
<li class="chapter" data-level="3.1.35" data-path="correlation.html"><a href="correlation.html#multi_tracks-q-q-plot"><i class="fa fa-check"></i><b>3.1.35</b> Multi_tracks Q-Q plot</a></li>
<li class="chapter" data-level="3.1.36" data-path="correlation.html"><a href="correlation.html#visualize-correlation-with-ggcorr"><i class="fa fa-check"></i><b>3.1.36</b> Visualize Correlation with <code>ggcorr()</code></a></li>
<li class="chapter" data-level="3.1.37" data-path="correlation.html"><a href="correlation.html#change-plot-types"><i class="fa fa-check"></i><b>3.1.37</b> Change Plot Types</a></li>
<li class="chapter" data-level="3.1.38" data-path="correlation.html"><a href="correlation.html#split-by-group"><i class="fa fa-check"></i><b>3.1.38</b> Split by Group</a></li>
<li class="chapter" data-level="3.1.39" data-path="correlation.html"><a href="correlation.html#using-the-corrgram-package"><i class="fa fa-check"></i><b>3.1.39</b> Using the <code>corrgram</code> Package</a></li>
<li class="chapter" data-level="3.1.40" data-path="correlation.html"><a href="correlation.html#visualize-correlation-with-ggcorr-1"><i class="fa fa-check"></i><b>3.1.40</b> Visualize Correlation with <code>ggcorr()</code></a></li>
<li class="chapter" data-level="3.1.41" data-path="correlation.html"><a href="correlation.html#split-by-group-1"><i class="fa fa-check"></i><b>3.1.41</b> Split by Group</a></li>
<li class="chapter" data-level="3.1.42" data-path="correlation.html"><a href="correlation.html#change-plot-types-1"><i class="fa fa-check"></i><b>3.1.42</b> Change plot types</a></li>
<li class="chapter" data-level="3.1.43" data-path="correlation.html"><a href="correlation.html#other-methods"><i class="fa fa-check"></i><b>3.1.43</b> Other Methods</a></li>
<li class="chapter" data-level="3.1.44" data-path="correlation.html"><a href="correlation.html#basic-scatterplot-matrix"><i class="fa fa-check"></i><b>3.1.44</b> Basic Scatterplot Matrix</a></li>
<li class="chapter" data-level="3.1.45" data-path="correlation.html"><a href="correlation.html#correlogram-with-the-car-package"><i class="fa fa-check"></i><b>3.1.45</b> Correlogram with the <code>car</code> Package</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="correlation.html"><a href="correlation.html#bubble-plot"><i class="fa fa-check"></i><b>3.2</b> Bubble Plot</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="correlation.html"><a href="correlation.html#most-basic-bubble-chart-with-geom_point"><i class="fa fa-check"></i><b>3.2.1</b> Most Basic bubble Chart with <code>geom_point()</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="correlation.html"><a href="correlation.html#control-circle-size-with-scale_size"><i class="fa fa-check"></i><b>3.2.2</b> Control Circle Size with <code>scale_size()</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="correlation.html"><a href="correlation.html#add-a-fourth-dimension-color"><i class="fa fa-check"></i><b>3.2.3</b> Add a Fourth Dimension: Color</a></li>
<li class="chapter" data-level="3.2.4" data-path="correlation.html"><a href="correlation.html#make-it-pretty"><i class="fa fa-check"></i><b>3.2.4</b> Make it Pretty</a></li>
<li class="chapter" data-level="3.2.5" data-path="correlation.html"><a href="correlation.html#interactive-version"><i class="fa fa-check"></i><b>3.2.5</b> Interactive Version</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="correlation.html"><a href="correlation.html#connected-scatterplot"><i class="fa fa-check"></i><b>3.3</b> Connected Scatterplot</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="correlation.html"><a href="correlation.html#connected-scatterplot-with-r-and-ggplot2"><i class="fa fa-check"></i><b>3.3.1</b> Connected Scatterplot with R and Ggplot2</a></li>
<li class="chapter" data-level="3.3.2" data-path="correlation.html"><a href="correlation.html#customize-the-connected-scatterplot"><i class="fa fa-check"></i><b>3.3.2</b> Customize the Connected Scatterplot</a></li>
<li class="chapter" data-level="3.3.3" data-path="correlation.html"><a href="correlation.html#connected-scatterplot-to-show-an-evolution"><i class="fa fa-check"></i><b>3.3.3</b> Connected Scatterplot to show an Evolution</a></li>
<li class="chapter" data-level="3.3.4" data-path="correlation.html"><a href="correlation.html#connected-scatterplot-for-time-series"><i class="fa fa-check"></i><b>3.3.4</b> Connected Scatterplot for <code>Time Series</code></a></li>
<li class="chapter" data-level="3.3.5" data-path="correlation.html"><a href="correlation.html#connected-scatterplot-using-base-r"><i class="fa fa-check"></i><b>3.3.5</b> Connected Scatterplot using Base R</a></li>
<li class="chapter" data-level="3.3.6" data-path="correlation.html"><a href="correlation.html#manage-dates-data-with-base-r"><i class="fa fa-check"></i><b>3.3.6</b> Manage Dates Data with Base R</a></li>
<li class="chapter" data-level="3.3.7" data-path="correlation.html"><a href="correlation.html#switch-to-date-format"><i class="fa fa-check"></i><b>3.3.7</b> Switch to Date Format</a></li>
<li class="chapter" data-level="3.3.8" data-path="correlation.html"><a href="correlation.html#base-r-graph-parameters-cheatsheet"><i class="fa fa-check"></i><b>3.3.8</b> Base R Graph Parameters: Cheatsheet</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="correlation.html"><a href="correlation.html#density-2d"><i class="fa fa-check"></i><b>3.4</b> Density 2D</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="correlation.html"><a href="correlation.html#the-issue-with-geom_point"><i class="fa fa-check"></i><b>3.4.1</b> The Issue with <code>geom_point()</code></a></li>
<li class="chapter" data-level="3.4.2" data-path="correlation.html"><a href="correlation.html#d-histogram-with-geom_bin2d-1"><i class="fa fa-check"></i><b>3.4.2</b> 2d Histogram with <code>geom_bin2d()</code></a></li>
<li class="chapter" data-level="3.4.3" data-path="correlation.html"><a href="correlation.html#hexbin-chart-with-geom_hex"><i class="fa fa-check"></i><b>3.4.3</b> Hexbin Chart with <code>geom_hex()</code></a></li>
<li class="chapter" data-level="3.4.4" data-path="correlation.html"><a href="correlation.html#d-distribution-with-geom_density_2d-or-stat_density_2d"><i class="fa fa-check"></i><b>3.4.4</b> 2d Distribution with <code>geom_density_2d</code> or <code>stat_density_2d</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="correlation.html"><a href="correlation.html#customize-the-color-palette"><i class="fa fa-check"></i><b>3.4.5</b> Customize the Color Palette</a></li>
<li class="chapter" data-level="3.4.6" data-path="correlation.html"><a href="correlation.html#hexbin-chart-with-the-hexbin-package"><i class="fa fa-check"></i><b>3.4.6</b> Hexbin Chart with the Hexbin Package</a></li>
<li class="chapter" data-level="3.4.7" data-path="correlation.html"><a href="correlation.html#hexbin-chart-and-scatterplot-with-ggplot2"><i class="fa fa-check"></i><b>3.4.7</b> Hexbin Chart and Scatterplot with Ggplot2</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ranking.html"><a href="ranking.html"><i class="fa fa-check"></i><b>4</b> Ranking</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ranking.html"><a href="ranking.html#barplot"><i class="fa fa-check"></i><b>4.1</b> Barplot</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="ranking.html"><a href="ranking.html#basic-barplot-with-ggplot2"><i class="fa fa-check"></i><b>4.1.1</b> Basic Barplot with Ggplot2</a></li>
<li class="chapter" data-level="4.1.2" data-path="ranking.html"><a href="ranking.html#control-bar-color"><i class="fa fa-check"></i><b>4.1.2</b> Control Bar Color</a></li>
<li class="chapter" data-level="4.1.3" data-path="ranking.html"><a href="ranking.html#horizontal-barplot-with-coord_flip"><i class="fa fa-check"></i><b>4.1.3</b> Horizontal Barplot with <code>coord_flip()</code></a></li>
<li class="chapter" data-level="4.1.4" data-path="ranking.html"><a href="ranking.html#control-bar-width-with-width"><i class="fa fa-check"></i><b>4.1.4</b> Control Bar Width with <code>width</code></a></li>
<li class="chapter" data-level="4.1.5" data-path="distributions.html"><a href="distributions.html#reorder-a-variable-with-ggplot2"><i class="fa fa-check"></i><b>4.1.5</b> Reorder a Variable with Ggplot2</a></li>
<li class="chapter" data-level="4.1.6" data-path="ranking.html"><a href="ranking.html#method-1-the-forecats-library"><i class="fa fa-check"></i><b>4.1.6</b> Method 1: the <code>Forecats</code> Library</a></li>
<li class="chapter" data-level="4.1.7" data-path="distributions.html"><a href="distributions.html#method-2-using-dplyr-only"><i class="fa fa-check"></i><b>4.1.7</b> Method 2: Using <code>dplyr</code> Only</a></li>
<li class="chapter" data-level="4.1.8" data-path="distributions.html"><a href="distributions.html#method-3-the-reorder-function-of-base-r"><i class="fa fa-check"></i><b>4.1.8</b> Method 3: the <code>reorder()</code> Function of Base R</a></li>
<li class="chapter" data-level="4.1.9" data-path="ranking.html"><a href="ranking.html#barplot-with-variable-width---ggplot2"><i class="fa fa-check"></i><b>4.1.9</b> Barplot with Variable Width - Ggplot2</a></li>
<li class="chapter" data-level="4.1.10" data-path="ranking.html"><a href="ranking.html#barplot-with-error-bars"><i class="fa fa-check"></i><b>4.1.10</b> Barplot with Error Bars</a></li>
<li class="chapter" data-level="4.1.11" data-path="ranking.html"><a href="ranking.html#customization"><i class="fa fa-check"></i><b>4.1.11</b> Customization</a></li>
<li class="chapter" data-level="4.1.12" data-path="ranking.html"><a href="ranking.html#basic-r-and-the-barplot-function"><i class="fa fa-check"></i><b>4.1.12</b> Basic R and the <code>barplot()</code> Function</a></li>
<li class="chapter" data-level="4.1.13" data-path="ranking.html"><a href="ranking.html#custom-color"><i class="fa fa-check"></i><b>4.1.13</b> Custom Color</a></li>
<li class="chapter" data-level="4.1.14" data-path="ranking.html"><a href="ranking.html#title-axis-label-custom-limits"><i class="fa fa-check"></i><b>4.1.14</b> Title, Axis label, Custom Limits</a></li>
<li class="chapter" data-level="4.1.15" data-path="ranking.html"><a href="ranking.html#horizontal-barplot"><i class="fa fa-check"></i><b>4.1.15</b> Horizontal Barplot</a></li>
<li class="chapter" data-level="4.1.16" data-path="ranking.html"><a href="ranking.html#bar-width-space-between-bars"><i class="fa fa-check"></i><b>4.1.16</b> Bar Width &amp; Space between Bars</a></li>
<li class="chapter" data-level="4.1.17" data-path="ranking.html"><a href="ranking.html#barplot-texture"><i class="fa fa-check"></i><b>4.1.17</b> Barplot Texture</a></li>
<li class="chapter" data-level="4.1.18" data-path="ranking.html"><a href="ranking.html#advanced-r-barplot-customization"><i class="fa fa-check"></i><b>4.1.18</b> Advanced R Barplot Customization</a></li>
<li class="chapter" data-level="4.1.19" data-path="ranking.html"><a href="ranking.html#axis-labels-orientation-with-las"><i class="fa fa-check"></i><b>4.1.19</b> Axis Labels Orientation with <code>las()</code></a></li>
<li class="chapter" data-level="4.1.20" data-path="ranking.html"><a href="ranking.html#change-group-labels-with-names.arg"><i class="fa fa-check"></i><b>4.1.20</b> Change Group Labels with <strong>names.arg</strong></a></li>
<li class="chapter" data-level="4.1.21" data-path="ranking.html"><a href="ranking.html#axis-labels-axis-title-style"><i class="fa fa-check"></i><b>4.1.21</b> Axis Labels &amp; Axis Title Style</a></li>
<li class="chapter" data-level="4.1.22" data-path="ranking.html"><a href="ranking.html#increase-margin-size"><i class="fa fa-check"></i><b>4.1.22</b> Increase Margin Size</a></li>
<li class="chapter" data-level="4.1.23" data-path="ranking.html"><a href="ranking.html#barplot-with-error-bars-1"><i class="fa fa-check"></i><b>4.1.23</b> Barplot with Error Bars</a></li>
<li class="chapter" data-level="4.1.24" data-path="ranking.html"><a href="ranking.html#customization-1"><i class="fa fa-check"></i><b>4.1.24</b> Customization</a></li>
<li class="chapter" data-level="4.1.25" data-path="ranking.html"><a href="ranking.html#standard-deviation-standard-error-or-confidence-interval"><i class="fa fa-check"></i><b>4.1.25</b> Standard Deviation, Standard Error or Confidence Interval?</a></li>
<li class="chapter" data-level="4.1.26" data-path="ranking.html"><a href="ranking.html#basic-r-use-the-arrows-function"><i class="fa fa-check"></i><b>4.1.26</b> Basic R: Use the <code>arrows()</code> Function</a></li>
<li class="chapter" data-level="4.1.27" data-path="ranking.html"><a href="ranking.html#barplot-with-number-of-observation"><i class="fa fa-check"></i><b>4.1.27</b> Barplot with Number of Observation</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="ranking.html"><a href="ranking.html#radar-chart"><i class="fa fa-check"></i><b>4.2</b> Radar Chart</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ranking.html"><a href="ranking.html#one-group-only---fmsb-library"><i class="fa fa-check"></i><b>4.2.1</b> One Group Only - <code>FMSB</code> Library</a></li>
<li class="chapter" data-level="4.2.2" data-path="ranking.html"><a href="ranking.html#customization-2"><i class="fa fa-check"></i><b>4.2.2</b> Customization</a></li>
<li class="chapter" data-level="4.2.3" data-path="ranking.html"><a href="ranking.html#several-groups"><i class="fa fa-check"></i><b>4.2.3</b> Several Groups</a></li>
<li class="chapter" data-level="4.2.4" data-path="ranking.html"><a href="ranking.html#customization-3"><i class="fa fa-check"></i><b>4.2.4</b> Customization</a></li>
<li class="chapter" data-level="4.2.5" data-path="ranking.html"><a href="ranking.html#about-axis-limits"><i class="fa fa-check"></i><b>4.2.5</b> About Axis Limits</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ranking.html"><a href="ranking.html#wordcloud"><i class="fa fa-check"></i><b>4.3</b> Wordcloud</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="ranking.html"><a href="ranking.html#wordcloud2"><i class="fa fa-check"></i><b>4.3.1</b> <code>wordcloud2</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="ranking.html"><a href="ranking.html#the-wordcloud2-library"><i class="fa fa-check"></i><b>4.3.2</b> The <strong>Wordcloud2</strong> Library</a></li>
<li class="chapter" data-level="4.3.3" data-path="ranking.html"><a href="ranking.html#color-background-color"><i class="fa fa-check"></i><b>4.3.3</b> Color &amp; Background Color</a></li>
<li class="chapter" data-level="4.3.4" data-path="ranking.html"><a href="ranking.html#shape"><i class="fa fa-check"></i><b>4.3.4</b> Shape</a></li>
<li class="chapter" data-level="4.3.5" data-path="ranking.html"><a href="ranking.html#word-orientation"><i class="fa fa-check"></i><b>4.3.5</b> Word Orientation</a></li>
<li class="chapter" data-level="4.3.6" data-path="ranking.html"><a href="ranking.html#chinese-version"><i class="fa fa-check"></i><b>4.3.6</b> Chinese Version</a></li>
<li class="chapter" data-level="4.3.7" data-path="ranking.html"><a href="ranking.html#use-letter-or-text-as-shape"><i class="fa fa-check"></i><b>4.3.7</b> Use Letter or Text as Shape</a></li>
<li class="chapter" data-level="4.3.8" data-path="ranking.html"><a href="ranking.html#export-the-wordcloud"><i class="fa fa-check"></i><b>4.3.8</b> Export the Wordcloud</a></li>
<li class="chapter" data-level="4.3.9" data-path="ranking.html"><a href="ranking.html#basic-wordcloud-in-r"><i class="fa fa-check"></i><b>4.3.9</b> Basic <code>wordcloud</code> in R</a></li>
<li class="chapter" data-level="4.3.10" data-path="ranking.html"><a href="ranking.html#text-mining-and-wordcloud-with-r"><i class="fa fa-check"></i><b>4.3.10</b> Text mining and <code>wordcloud</code> with R</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="ranking.html"><a href="ranking.html#parallel-coordinates-chart"><i class="fa fa-check"></i><b>4.4</b> Parallel Coordinates Chart</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="ranking.html"><a href="ranking.html#parallel-coordinates-chart-with-ggally"><i class="fa fa-check"></i><b>4.4.1</b> Parallel Coordinates Chart with ggally</a></li>
<li class="chapter" data-level="4.4.2" data-path="ranking.html"><a href="ranking.html#custom-color-theme-general-appearance"><i class="fa fa-check"></i><b>4.4.2</b> Custom Color, Theme, General Appearance</a></li>
<li class="chapter" data-level="4.4.3" data-path="ranking.html"><a href="ranking.html#scaling"><i class="fa fa-check"></i><b>4.4.3</b> Scaling</a></li>
<li class="chapter" data-level="4.4.4" data-path="ranking.html"><a href="ranking.html#highlight-a-group"><i class="fa fa-check"></i><b>4.4.4</b> Highlight a Group</a></li>
<li class="chapter" data-level="4.4.5" data-path="ranking.html"><a href="ranking.html#parallel-chart-with-the-mass-library"><i class="fa fa-check"></i><b>4.4.5</b> Parallel Chart with the <code>MASS</code> Library</a></li>
<li class="chapter" data-level="4.4.6" data-path="ranking.html"><a href="ranking.html#reorder-variables"><i class="fa fa-check"></i><b>4.4.6</b> Reorder Variables</a></li>
<li class="chapter" data-level="4.4.7" data-path="ranking.html"><a href="ranking.html#highlight-a-group-1"><i class="fa fa-check"></i><b>4.4.7</b> Highlight a Group</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="ranking.html"><a href="ranking.html#lollipop-plot"><i class="fa fa-check"></i><b>4.5</b> Lollipop Plot</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="ranking.html"><a href="ranking.html#most-basic-lollipop-plot"><i class="fa fa-check"></i><b>4.5.1</b> Most Basic Lollipop Plot</a></li>
<li class="chapter" data-level="4.5.2" data-path="ranking.html"><a href="ranking.html#from-1-numeric-and-1-categorical-variable"><i class="fa fa-check"></i><b>4.5.2</b> From 1 Numeric and 1 Categorical Variable</a></li>
<li class="chapter" data-level="4.5.3" data-path="ranking.html"><a href="ranking.html#custom-lollipop-chart"><i class="fa fa-check"></i><b>4.5.3</b> Custom Lollipop Chart</a></li>
<li class="chapter" data-level="4.5.4" data-path="ranking.html"><a href="ranking.html#stem"><i class="fa fa-check"></i><b>4.5.4</b> Stem</a></li>
<li class="chapter" data-level="4.5.5" data-path="ranking.html"><a href="ranking.html#general-appearance-with-theme"><i class="fa fa-check"></i><b>4.5.5</b> General Appearance with <code>theme()</code></a></li>
<li class="chapter" data-level="4.5.6" data-path="ranking.html"><a href="ranking.html#horizontal-version"><i class="fa fa-check"></i><b>4.5.6</b> Horizontal Version</a></li>
<li class="chapter" data-level="4.5.7" data-path="ranking.html"><a href="ranking.html#baseline"><i class="fa fa-check"></i><b>4.5.7</b> Baseline</a></li>
<li class="chapter" data-level="4.5.8" data-path="ranking.html"><a href="ranking.html#lollipop-chart-with-2-groups"><i class="fa fa-check"></i><b>4.5.8</b> Lollipop Chart with 2 Groups</a></li>
<li class="chapter" data-level="4.5.9" data-path="ranking.html"><a href="ranking.html#highlight-a-group-in-a-lollipop-chart"><i class="fa fa-check"></i><b>4.5.9</b> Highlight a Group in a Lollipop Chart</a></li>
<li class="chapter" data-level="4.5.10" data-path="ranking.html"><a href="ranking.html#lollipop-chart-with-conditional-color"><i class="fa fa-check"></i><b>4.5.10</b> Lollipop Chart with Conditional Color</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="ranking.html"><a href="ranking.html#circular-barplot"><i class="fa fa-check"></i><b>4.6</b> Circular Barplot</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="ranking.html"><a href="ranking.html#most-basic-circular-barplot"><i class="fa fa-check"></i><b>4.6.1</b> Most Basic Circular Barplot</a></li>
<li class="chapter" data-level="4.6.2" data-path="ranking.html"><a href="ranking.html#add-labels-to-circular-barplot"><i class="fa fa-check"></i><b>4.6.2</b> Add Labels to Circular Barplot</a></li>
<li class="chapter" data-level="4.6.3" data-path="ranking.html"><a href="ranking.html#circular-barplot-with-groups"><i class="fa fa-check"></i><b>4.6.3</b> Circular Barplot with Groups</a></li>
<li class="chapter" data-level="4.6.4" data-path="ranking.html"><a href="ranking.html#space-between-groups"><i class="fa fa-check"></i><b>4.6.4</b> Space between Groups</a></li>
<li class="chapter" data-level="4.6.5" data-path="ranking.html"><a href="ranking.html#order-bars"><i class="fa fa-check"></i><b>4.6.5</b> Order Bars</a></li>
<li class="chapter" data-level="4.6.6" data-path="ranking.html"><a href="ranking.html#circular-barchart-customization"><i class="fa fa-check"></i><b>4.6.6</b> Circular Barchart Customization</a></li>
<li class="chapter" data-level="4.6.7" data-path="ranking.html"><a href="ranking.html#circular-stacked-barplot"><i class="fa fa-check"></i><b>4.6.7</b> Circular Stacked Barplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="part.html"><a href="part.html"><i class="fa fa-check"></i><b>5</b> Part of a Whole</a>
<ul>
<li class="chapter" data-level="5.1" data-path="part.html"><a href="part.html#grouped-and-stacked-barplot"><i class="fa fa-check"></i><b>5.1</b> Grouped and Stacked Barplot</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="part.html"><a href="part.html#grouped-stacked-and-percent-stacked-barplot-in-ggplot2"><i class="fa fa-check"></i><b>5.1.1</b> Grouped, Stacked and Percent Stacked Barplot in <code>ggplot2</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="part.html"><a href="part.html#stacked-barchart"><i class="fa fa-check"></i><b>5.1.2</b> Stacked Barchart</a></li>
<li class="chapter" data-level="5.1.3" data-path="part.html"><a href="part.html#percent-stacked-barchart"><i class="fa fa-check"></i><b>5.1.3</b> Percent Stacked Barchart</a></li>
<li class="chapter" data-level="5.1.4" data-path="part.html"><a href="part.html#grouped-barchart-customization"><i class="fa fa-check"></i><b>5.1.4</b> Grouped Barchart Customization</a></li>
<li class="chapter" data-level="5.1.5" data-path="part.html"><a href="part.html#small-multiple"><i class="fa fa-check"></i><b>5.1.5</b> Small Multiple</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="part.html"><a href="part.html#circular-stacked-barchart"><i class="fa fa-check"></i><b>5.2</b> Circular Stacked Barchart</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="ranking.html"><a href="ranking.html#circular-stacked-barplot"><i class="fa fa-check"></i><b>5.2.1</b> Circular Stacked Barplot</a></li>
<li class="chapter" data-level="5.2.2" data-path="part.html"><a href="part.html#stacked-barplot-for-evolution"><i class="fa fa-check"></i><b>5.2.2</b> Stacked Barplot for Evolution</a></li>
<li class="chapter" data-level="5.2.3" data-path="distributions.html"><a href="distributions.html#base-r"><i class="fa fa-check"></i><b>5.2.3</b> Base R</a></li>
<li class="chapter" data-level="5.2.4" data-path="part.html"><a href="part.html#stacking-barplot"><i class="fa fa-check"></i><b>5.2.4</b> Stacking Barplot</a></li>
<li class="chapter" data-level="5.2.5" data-path="part.html"><a href="part.html#three-periods-stacked-barplot"><i class="fa fa-check"></i><b>5.2.5</b> Three Periods Stacked Barplot</a></li>
<li class="chapter" data-level="5.2.6" data-path="part.html"><a href="part.html#base-r-1"><i class="fa fa-check"></i><b>5.2.6</b> Base R</a></li>
<li class="chapter" data-level="5.2.7" data-path="part.html"><a href="part.html#grouped-stacked-and-percent-stacked-barplot-in-base-r"><i class="fa fa-check"></i><b>5.2.7</b> Grouped, Stacked and Percent Stacked Barplot in Base R</a></li>
<li class="chapter" data-level="5.2.8" data-path="part.html"><a href="part.html#grouped-stacked-barchart"><i class="fa fa-check"></i><b>5.2.8</b> Grouped Stacked Barchart</a></li>
<li class="chapter" data-level="5.2.9" data-path="part.html"><a href="part.html#percent-stacked-barplot"><i class="fa fa-check"></i><b>5.2.9</b> Percent Stacked Barplot</a></li>
<li class="chapter" data-level="5.2.10" data-path="part.html"><a href="part.html#barplot-for-likert-type-items"><i class="fa fa-check"></i><b>5.2.10</b> Barplot for <code>likert</code> Type Items</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="part.html"><a href="part.html#treemap"><i class="fa fa-check"></i><b>5.3</b> Treemap</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="part.html"><a href="part.html#most-basic-treemap-with-r"><i class="fa fa-check"></i><b>5.3.1</b> Most Basic Treemap with R</a></li>
<li class="chapter" data-level="5.3.2" data-path="part.html"><a href="part.html#treemap-with-subgroups"><i class="fa fa-check"></i><b>5.3.2</b> Treemap with Subgroups</a></li>
<li class="chapter" data-level="5.3.3" data-path="part.html"><a href="part.html#customize-your-r-treemap"><i class="fa fa-check"></i><b>5.3.3</b> Customize your R Treemap</a></li>
<li class="chapter" data-level="5.3.4" data-path="part.html"><a href="part.html#borders"><i class="fa fa-check"></i><b>5.3.4</b> Borders</a></li>
<li class="chapter" data-level="5.3.5" data-path="part.html"><a href="part.html#general-features"><i class="fa fa-check"></i><b>5.3.5</b> General Features</a></li>
<li class="chapter" data-level="5.3.6" data-path="part.html"><a href="part.html#interactive-treemap-in-r"><i class="fa fa-check"></i><b>5.3.6</b> Interactive Treemap in R</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="part.html"><a href="part.html#donut-chart"><i class="fa fa-check"></i><b>5.4</b> Donut Chart</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="part.html"><a href="part.html#most-basic-doughnut-chart-with-ggplot2"><i class="fa fa-check"></i><b>5.4.1</b> Most Basic Doughnut Chart with <code>ggplot2</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="ranking.html"><a href="ranking.html#customization"><i class="fa fa-check"></i><b>5.4.2</b> Customization</a></li>
<li class="chapter" data-level="5.4.3" data-path="part.html"><a href="part.html#donut-thickness"><i class="fa fa-check"></i><b>5.4.3</b> Donut Thickness</a></li>
<li class="chapter" data-level="5.4.4" data-path="part.html"><a href="part.html#donut-chart-with-base-r"><i class="fa fa-check"></i><b>5.4.4</b> Donut Chart with Base R</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="part.html"><a href="part.html#piechart"><i class="fa fa-check"></i><b>5.5</b> Piechart</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="part.html"><a href="part.html#most-basic-piechart-with-pie"><i class="fa fa-check"></i><b>5.5.1</b> Most Basic Piechart with <code>pie()</code></a></li>
<li class="chapter" data-level="5.5.2" data-path="part.html"><a href="part.html#change-labels-with-labels"><i class="fa fa-check"></i><b>5.5.2</b> Change Labels with <code>labels</code></a></li>
<li class="chapter" data-level="5.5.3" data-path="part.html"><a href="part.html#non-circular-piechart-with-edges"><i class="fa fa-check"></i><b>5.5.3</b> Non-Circular Piechart with <code>edges</code></a></li>
<li class="chapter" data-level="5.5.4" data-path="part.html"><a href="part.html#add-stripes-with-density"><i class="fa fa-check"></i><b>5.5.4</b> Add Stripes with <code>density</code></a></li>
<li class="chapter" data-level="5.5.5" data-path="part.html"><a href="part.html#color-with-col-and-border"><i class="fa fa-check"></i><b>5.5.5</b> Color with <code>col</code> and <code>border</code></a></li>
<li class="chapter" data-level="5.5.6" data-path="part.html"><a href="part.html#ggplot2-piechart"><i class="fa fa-check"></i><b>5.5.6</b> Ggplot2 Piechart</a></li>
<li class="chapter" data-level="5.5.7" data-path="part.html"><a href="part.html#improve-appearance"><i class="fa fa-check"></i><b>5.5.7</b> Improve Appearance</a></li>
<li class="chapter" data-level="5.5.8" data-path="part.html"><a href="part.html#adding-labels-with-geom_text"><i class="fa fa-check"></i><b>5.5.8</b> Adding Labels with <code>geom_text()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="part.html"><a href="part.html#dendrogram"><i class="fa fa-check"></i><b>5.6</b> Dendrogram</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="part.html"><a href="part.html#dendrogram-fromn-hierarchical-data"><i class="fa fa-check"></i><b>5.6.1</b> Dendrogram fromn Hierarchical Data</a></li>
<li class="chapter" data-level="5.6.2" data-path="part.html"><a href="part.html#dendrogram-from-edge-list"><i class="fa fa-check"></i><b>5.6.2</b> Dendrogram from Edge List</a></li>
<li class="chapter" data-level="5.6.3" data-path="part.html"><a href="part.html#dendrogram-from-a-nested-dataframe"><i class="fa fa-check"></i><b>5.6.3</b> Dendrogram from a Nested Dataframe</a></li>
<li class="chapter" data-level="5.6.4" data-path="part.html"><a href="part.html#dendrogram-customization-with-r-and-ggraph"><i class="fa fa-check"></i><b>5.6.4</b> Dendrogram Customization with R and <code>ggraph</code></a></li>
<li class="chapter" data-level="5.6.5" data-path="part.html"><a href="part.html#circular-or-linear-layout"><i class="fa fa-check"></i><b>5.6.5</b> Circular or Linear <code>layout</code></a></li>
<li class="chapter" data-level="5.6.6" data-path="part.html"><a href="part.html#edge-style"><i class="fa fa-check"></i><b>5.6.6</b> Edge Style</a></li>
<li class="chapter" data-level="5.6.7" data-path="part.html"><a href="part.html#labels-and-nodes"><i class="fa fa-check"></i><b>5.6.7</b> Labels and Nodes</a></li>
<li class="chapter" data-level="5.6.8" data-path="part.html"><a href="part.html#customize-aesthetics"><i class="fa fa-check"></i><b>5.6.8</b> Customize Aesthetics</a></li>
<li class="chapter" data-level="5.6.9" data-path="part.html"><a href="part.html#circular-dendrogram-with-r-and-ggraph"><i class="fa fa-check"></i><b>5.6.9</b> Circular Dendrogram with R and ggraph</a></li>
<li class="chapter" data-level="5.6.10" data-path="part.html"><a href="part.html#interactive-dendrogram-with-r"><i class="fa fa-check"></i><b>5.6.10</b> Interactive Dendrogram with R</a></li>
<li class="chapter" data-level="5.6.11" data-path="part.html"><a href="part.html#dendrogram-from-clustering-result"><i class="fa fa-check"></i><b>5.6.11</b> Dendrogram from <code>Clustering</code> Result</a></li>
<li class="chapter" data-level="5.6.12" data-path="part.html"><a href="part.html#zoom-on-a-group"><i class="fa fa-check"></i><b>5.6.12</b> Zoom on a Group</a></li>
<li class="chapter" data-level="5.6.13" data-path="part.html"><a href="part.html#dendrogram-with-color-and-legend-in-r"><i class="fa fa-check"></i><b>5.6.13</b> Dendrogram with Color and Legend in R</a></li>
<li class="chapter" data-level="5.6.14" data-path="part.html"><a href="part.html#more-customization-with-dendextend"><i class="fa fa-check"></i><b>5.6.14</b> More Customization with <code>Dendextend</code></a></li>
<li class="chapter" data-level="5.6.15" data-path="part.html"><a href="part.html#customized-dendrogram-with-r-and-the-dendextend-package"><i class="fa fa-check"></i><b>5.6.15</b> Customized Dendrogram with R and the Dendextend Package</a></li>
<li class="chapter" data-level="5.6.16" data-path="part.html"><a href="part.html#the-set-function"><i class="fa fa-check"></i><b>5.6.16</b> The <code>set()</code> Function</a></li>
<li class="chapter" data-level="5.6.17" data-path="part.html"><a href="part.html#highlight-clusters"><i class="fa fa-check"></i><b>5.6.17</b> Highlight Clusters</a></li>
<li class="chapter" data-level="5.6.18" data-path="part.html"><a href="part.html#comparing-with-an-expected-clustering"><i class="fa fa-check"></i><b>5.6.18</b> Comparing with an Expected Clustering</a></li>
<li class="chapter" data-level="5.6.19" data-path="part.html"><a href="part.html#comparing-2-dendrograms-with-tanglegram"><i class="fa fa-check"></i><b>5.6.19</b> Comparing 2 Dendrograms with <code>tanglegram()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="part.html"><a href="part.html#circular-packing"><i class="fa fa-check"></i><b>5.7</b> Circular Packing</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="part.html"><a href="part.html#basic-circle-packing-with-one-level"><i class="fa fa-check"></i><b>5.7.1</b> Basic Circle Packing with One Level</a></li>
<li class="chapter" data-level="5.7.2" data-path="part.html"><a href="part.html#circle-packing-customization-with-r"><i class="fa fa-check"></i><b>5.7.2</b> Circle Packing Customization with R</a></li>
<li class="chapter" data-level="5.7.3" data-path="part.html"><a href="part.html#map-color-to-bubble-value"><i class="fa fa-check"></i><b>5.7.3</b> Map Color to Bubble Value</a></li>
<li class="chapter" data-level="5.7.4" data-path="part.html"><a href="part.html#background-customization"><i class="fa fa-check"></i><b>5.7.4</b> Background Customization</a></li>
<li class="chapter" data-level="5.7.5" data-path="part.html"><a href="part.html#space-between-bubbles"><i class="fa fa-check"></i><b>5.7.5</b> Space between Bubbles</a></li>
<li class="chapter" data-level="5.7.6" data-path="part.html"><a href="part.html#interactive-circle-packing-with-r"><i class="fa fa-check"></i><b>5.7.6</b> Interactive Circle Packing with R</a></li>
<li class="chapter" data-level="5.7.7" data-path="part.html"><a href="part.html#basic-circle-packing-with-several-hierarchy-level"><i class="fa fa-check"></i><b>5.7.7</b> Basic Circle Packing with Several Hierarchy Level</a></li>
<li class="chapter" data-level="5.7.8" data-path="part.html"><a href="part.html#input-concept"><i class="fa fa-check"></i><b>5.7.8</b> Input &amp; Concept</a></li>
<li class="chapter" data-level="5.7.9" data-path="part.html"><a href="part.html#switching-to-another-chart-type"><i class="fa fa-check"></i><b>5.7.9</b> Switching to another Chart Type</a></li>
<li class="chapter" data-level="5.7.10" data-path="part.html"><a href="part.html#customized-circle-packing-with-r-and-ggraph"><i class="fa fa-check"></i><b>5.7.10</b> Customized Circle Packing with R and ggraph</a></li>
<li class="chapter" data-level="5.7.11" data-path="part.html"><a href="part.html#map-color-to-hierarchy-depth"><i class="fa fa-check"></i><b>5.7.11</b> Map Color to Hierarchy Depth</a></li>
<li class="chapter" data-level="5.7.12" data-path="part.html"><a href="part.html#map-color-to-hierarchy-depth-1"><i class="fa fa-check"></i><b>5.7.12</b> Map Color to Hierarchy Depth</a></li>
<li class="chapter" data-level="5.7.13" data-path="part.html"><a href="part.html#circular-packing-with-hidden-first-level-of-hierarchy"><i class="fa fa-check"></i><b>5.7.13</b> Circular Packing with Hidden First Level of Hierarchy</a></li>
<li class="chapter" data-level="5.7.14" data-path="part.html"><a href="part.html#hiding-the-first-level-for-better-styling"><i class="fa fa-check"></i><b>5.7.14</b> Hiding the First Level for Better Styling</a></li>
<li class="chapter" data-level="5.7.15" data-path="part.html"><a href="part.html#add-labels-to-a-specific-level-of-the-hierarchy"><i class="fa fa-check"></i><b>5.7.15</b> Add Labels to a Specific Level of the Hierarchy</a></li>
<li class="chapter" data-level="5.7.16" data-path="part.html"><a href="part.html#zoomable-circle-packing-with-r-and-circlepacker"><i class="fa fa-check"></i><b>5.7.16</b> Zoomable Circle Packing with R and circlePacker</a></li>
<li class="chapter" data-level="5.7.17" data-path="part.html"><a href="part.html#circular-packing-fom-edge-list"><i class="fa fa-check"></i><b>5.7.17</b> Circular Packing fom Edge List</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="evolution.html"><a href="evolution.html"><i class="fa fa-check"></i><b>6</b> Evolution</a>
<ul>
<li class="chapter" data-level="6.1" data-path="evolution.html"><a href="evolution.html#line-chart"><i class="fa fa-check"></i><b>6.1</b> Line Chart</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="evolution.html"><a href="evolution.html#line-chart-with-r-and-ggplot2"><i class="fa fa-check"></i><b>6.1.1</b> Line Chart with R and <code>ggplot2</code></a></li>
<li class="chapter" data-level="6.1.2" data-path="evolution.html"><a href="evolution.html#customize-the-line-chart"><i class="fa fa-check"></i><b>6.1.2</b> Customize the Line Chart</a></li>
<li class="chapter" data-level="6.1.3" data-path="correlation.html"><a href="correlation.html#connected-scatterplot-with-r-and-ggplot2"><i class="fa fa-check"></i><b>6.1.3</b> Connected scatterplot with R and ggplot2</a></li>
<li class="chapter" data-level="6.1.4" data-path="correlation.html"><a href="correlation.html#most-basic-connected-scatterplot-geom_point-and-geom_line"><i class="fa fa-check"></i><b>6.1.4</b> Most Basic Connected Scatterplot: <code>geom_point()</code> and <code>geom_line()</code></a></li>
<li class="chapter" data-level="6.1.5" data-path="correlation.html"><a href="correlation.html#customize-the-connected-scatterplot"><i class="fa fa-check"></i><b>6.1.5</b> Customize the Connected Scatterplot</a></li>
<li class="chapter" data-level="6.1.6" data-path="correlation.html"><a href="correlation.html#connected-scatterplot-to-show-an-evolution"><i class="fa fa-check"></i><b>6.1.6</b> Connected Scatterplot to Show an Evolution</a></li>
<li class="chapter" data-level="6.1.7" data-path="evolution.html"><a href="evolution.html#line-plot-with-log-scale"><i class="fa fa-check"></i><b>6.1.7</b> Line Plot with Log Scale</a></li>
<li class="chapter" data-level="6.1.8" data-path="evolution.html"><a href="evolution.html#without-log-transform"><i class="fa fa-check"></i><b>6.1.8</b> Without Log Transform</a></li>
<li class="chapter" data-level="6.1.9" data-path="evolution.html"><a href="evolution.html#multi-groups-line-chart-with-ggplot2"><i class="fa fa-check"></i><b>6.1.9</b> Multi Groups Line Chart with ggplot2</a></li>
<li class="chapter" data-level="6.1.10" data-path="evolution.html"><a href="evolution.html#customize-the-grouped-line-chart"><i class="fa fa-check"></i><b>6.1.10</b> Customize the Grouped Line Chart</a></li>
<li class="chapter" data-level="6.1.11" data-path="correlation.html"><a href="correlation.html#linear-model-and-confidence-interval-in-ggplot2"><i class="fa fa-check"></i><b>6.1.11</b> Linear Model and Confidence Interval in ggplot2</a></li>
<li class="chapter" data-level="6.1.12" data-path="evolution.html"><a href="evolution.html#line-chart-annotation-with-ggplot2"><i class="fa fa-check"></i><b>6.1.12</b> Line Chart Annotation with ggplot2</a></li>
<li class="chapter" data-level="6.1.13" data-path="evolution.html"><a href="evolution.html#dual-y-axis-with-r-and-ggplot2"><i class="fa fa-check"></i><b>6.1.13</b> Dual Y Axis with R and <code>ggplot2</code></a></li>
<li class="chapter" data-level="6.1.14" data-path="evolution.html"><a href="evolution.html#adding-a-second-y-axis-with-sec.axis-the-idea"><i class="fa fa-check"></i><b>6.1.14</b> Adding a Second Y Axis with <code>sec.axis()</code>: The Idea</a></li>
<li class="chapter" data-level="6.1.15" data-path="evolution.html"><a href="evolution.html#show-2-series-on-the-same-line-chart-with-sec.axis"><i class="fa fa-check"></i><b>6.1.15</b> Show 2 Series on the Same Line Chart with <code>sec.axis()</code></a></li>
<li class="chapter" data-level="6.1.16" data-path="evolution.html"><a href="evolution.html#dual-y-axis-customization-with-ggplot2"><i class="fa fa-check"></i><b>6.1.16</b> Dual Y Axis Customization with <code>ggplot2</code></a></li>
<li class="chapter" data-level="6.1.17" data-path="evolution.html"><a href="evolution.html#barplot-with-overlapping-line-chart"><i class="fa fa-check"></i><b>6.1.17</b> Barplot with Overlapping Line Chart</a></li>
<li class="chapter" data-level="6.1.18" data-path="evolution.html"><a href="evolution.html#line-chart-with-error-envelop-ggplot2-and-geom_ribbon"><i class="fa fa-check"></i><b>6.1.18</b> Line Chart with Error Envelop: ggplot2 and geom_ribbon()</a></li>
<li class="chapter" data-level="6.1.19" data-path="evolution.html"><a href="evolution.html#spaghetti-plot"><i class="fa fa-check"></i><b>6.1.19</b> Spaghetti Plot</a></li>
<li class="chapter" data-level="6.1.20" data-path="evolution.html"><a href="evolution.html#change-line-chart-color-according-to-y-value"><i class="fa fa-check"></i><b>6.1.20</b> Change Line Chart Color according to Y Value</a></li>
<li class="chapter" data-level="6.1.21" data-path="correlation.html"><a href="correlation.html#add-a-legend-to-a-base-r-chart"><i class="fa fa-check"></i><b>6.1.21</b> Add a Legend to a Base R Chart</a></li>
<li class="chapter" data-level="6.1.22" data-path="evolution.html"><a href="evolution.html#reversed-y-axis-in-base-r"><i class="fa fa-check"></i><b>6.1.22</b> Reversed Y Axis in Base R</a></li>
<li class="chapter" data-level="6.1.23" data-path="correlation.html"><a href="correlation.html#scatterplot-with-polynomial-curve-fitting"><i class="fa fa-check"></i><b>6.1.23</b> Scatterplot with Polynomial Curve Fitting</a></li>
<li class="chapter" data-level="6.1.24" data-path="evolution.html"><a href="evolution.html#base-r-graph-parameters-a-cheatsheet"><i class="fa fa-check"></i><b>6.1.24</b> Base R Graph Parameters: A Cheatsheet</a></li>
<li class="chapter" data-level="6.1.25" data-path="evolution.html"><a href="evolution.html#dual-y-axis-in-r"><i class="fa fa-check"></i><b>6.1.25</b> Dual Y Axis in R</a></li>
<li class="chapter" data-level="6.1.26" data-path="evolution.html"><a href="evolution.html#adding-a-second-y-axis-with-sec.axis-the-idea-1"><i class="fa fa-check"></i><b>6.1.26</b> Adding a Second Y axis with <code>sec.axis()</code>: The Idea</a></li>
<li class="chapter" data-level="6.1.27" data-path="evolution.html"><a href="evolution.html#show-2-series-on-the-same-line-chart-with-sec.axis-1"><i class="fa fa-check"></i><b>6.1.27</b> Show 2 Series on the Same Line Chart with <code>sec.axis()</code></a></li>
<li class="chapter" data-level="6.1.28" data-path="evolution.html"><a href="evolution.html#dual-y-axis-customization-with-ggplot2-1"><i class="fa fa-check"></i><b>6.1.28</b> Dual Y Axis Customization with <code>ggplot2</code></a></li>
<li class="chapter" data-level="6.1.29" data-path="evolution.html"><a href="evolution.html#barplot-with-overlapping-line-chart-1"><i class="fa fa-check"></i><b>6.1.29</b> Barplot with Overlapping Line Chart</a></li>
<li class="chapter" data-level="6.1.30" data-path="evolution.html"><a href="evolution.html#dual-y-axis-in-r-1"><i class="fa fa-check"></i><b>6.1.30</b> Dual Y axis in R</a></li>
<li class="chapter" data-level="6.1.31" data-path="evolution.html"><a href="evolution.html#dual-y-axis-line-chart"><i class="fa fa-check"></i><b>6.1.31</b> Dual Y Axis Line Chart</a></li>
<li class="chapter" data-level="6.1.32" data-path="evolution.html"><a href="evolution.html#add-legend"><i class="fa fa-check"></i><b>6.1.32</b> Add Legend</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="evolution.html"><a href="evolution.html#area-chart"><i class="fa fa-check"></i><b>6.2</b> Area Chart</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="evolution.html"><a href="evolution.html#area-chart-with-r-and-ggplot2"><i class="fa fa-check"></i><b>6.2.1</b> Area Chart with R and <code>ggplot2</code></a></li>
<li class="chapter" data-level="6.2.2" data-path="evolution.html"><a href="evolution.html#customize-the-line-chart-1"><i class="fa fa-check"></i><b>6.2.2</b> Customize the Line Chart</a></li>
<li class="chapter" data-level="6.2.3" data-path="evolution.html"><a href="evolution.html#basic-stacked-area-chart-with-r"><i class="fa fa-check"></i><b>6.2.3</b> Basic Stacked Area Chart with R</a></li>
<li class="chapter" data-level="6.2.4" data-path="evolution.html"><a href="evolution.html#control-stacking-order-with-ggplot2"><i class="fa fa-check"></i><b>6.2.4</b> Control Stacking Order with <code>ggplot2</code></a></li>
<li class="chapter" data-level="6.2.5" data-path="evolution.html"><a href="evolution.html#proportional-stacked-area-chart"><i class="fa fa-check"></i><b>6.2.5</b> Proportional Stacked Area Chart</a></li>
<li class="chapter" data-level="6.2.6" data-path="evolution.html"><a href="evolution.html#color-style"><i class="fa fa-check"></i><b>6.2.6</b> Color &amp; Style</a></li>
<li class="chapter" data-level="6.2.7" data-path="evolution.html"><a href="evolution.html#stacking-area-charts"><i class="fa fa-check"></i><b>6.2.7</b> Stacking Area Charts</a></li>
<li class="chapter" data-level="6.2.8" data-path="evolution.html"><a href="evolution.html#example-mental-arithmetic"><i class="fa fa-check"></i><b>6.2.8</b> Example: Mental Arithmetic</a></li>
<li class="chapter" data-level="6.2.9" data-path="evolution.html"><a href="evolution.html#interactive-area-chart-with-r-and-plotly"><i class="fa fa-check"></i><b>6.2.9</b> Interactive Area Chart with R and plotly</a></li>
<li class="chapter" data-level="6.2.10" data-path="evolution.html"><a href="evolution.html#basic-line-chart-with-ggplot2-and-geom_line-3"><i class="fa fa-check"></i><b>6.2.10</b> Basic Line Chart with ggplot2 and <code>geom_line()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="evolution.html"><a href="evolution.html#streamgraph"><i class="fa fa-check"></i><b>6.3</b> Streamgraph</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="evolution.html"><a href="evolution.html#most-basic-streamgraph"><i class="fa fa-check"></i><b>6.3.1</b> Most Basic Streamgraph</a></li>
<li class="chapter" data-level="6.3.2" data-path="evolution.html"><a href="evolution.html#control-streamgraph-offset"><i class="fa fa-check"></i><b>6.3.2</b> Control Streamgraph Offset</a></li>
<li class="chapter" data-level="6.3.3" data-path="evolution.html"><a href="evolution.html#change-streamgraph-shape"><i class="fa fa-check"></i><b>6.3.3</b> Change Streamgraph Shape</a></li>
<li class="chapter" data-level="6.3.4" data-path="evolution.html"><a href="evolution.html#change-streamgraph-color"><i class="fa fa-check"></i><b>6.3.4</b> Change Streamgraph Color</a></li>
<li class="chapter" data-level="6.3.5" data-path="evolution.html"><a href="evolution.html#streamgraph-with-dropdown-button"><i class="fa fa-check"></i><b>6.3.5</b> Streamgraph with Dropdown Button</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="evolution.html"><a href="evolution.html#time-series"><i class="fa fa-check"></i><b>6.4</b> Time Series</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="evolution.html"><a href="evolution.html#time-series-with-ggplot2"><i class="fa fa-check"></i><b>6.4.1</b> Time Series with <code>Ggplot2</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="evolution.html"><a href="evolution.html#format-used-on-the-x-axis"><i class="fa fa-check"></i><b>6.4.2</b> Format used on the X Axis</a></li>
<li class="chapter" data-level="6.4.3" data-path="evolution.html"><a href="evolution.html#breaks-and-minor-breaks"><i class="fa fa-check"></i><b>6.4.3</b> Breaks and Minor Breaks</a></li>
<li class="chapter" data-level="6.4.4" data-path="evolution.html"><a href="evolution.html#add-angle-to-x-axis-labels"><i class="fa fa-check"></i><b>6.4.4</b> Add Angle to X Axis Labels</a></li>
<li class="chapter" data-level="6.4.5" data-path="evolution.html"><a href="evolution.html#select-time-frame"><i class="fa fa-check"></i><b>6.4.5</b> Select Time Frame</a></li>
<li class="chapter" data-level="6.4.6" data-path="evolution.html"><a href="evolution.html#line-chart-annotation-with-ggplot2-1"><i class="fa fa-check"></i><b>6.4.6</b> Line Chart Annotation with <code>ggplot2</code></a></li>
<li class="chapter" data-level="6.4.7" data-path="evolution.html"><a href="evolution.html#dual-y-axis-with-r-and-ggplot2-1"><i class="fa fa-check"></i><b>6.4.7</b> Dual Y Axis with R and <code>ggplot2</code></a></li>
<li class="chapter" data-level="6.4.8" data-path="evolution.html"><a href="evolution.html#using-the-ggplotly-function"><i class="fa fa-check"></i><b>6.4.8</b> Using the <code>ggplotly()</code> Function</a></li>
<li class="chapter" data-level="6.4.9" data-path="evolution.html"><a href="evolution.html#using-plot_ly"><i class="fa fa-check"></i><b>6.4.9</b> Using <code>plot_ly()</code></a></li>
<li class="chapter" data-level="6.4.10" data-path="evolution.html"><a href="evolution.html#an-introduction-to-interactive-time-series-with-r-and-dygraphs"><i class="fa fa-check"></i><b>6.4.10</b> An Introduction to Interactive Time Series with R and Dygraphs</a></li>
<li class="chapter" data-level="6.4.11" data-path="evolution.html"><a href="evolution.html#if-time-is-a-numeric-variable"><i class="fa fa-check"></i><b>6.4.11</b> If Time is a <code>numeric</code> Variable</a></li>
<li class="chapter" data-level="6.4.12" data-path="evolution.html"><a href="evolution.html#if-time-is-a-date-variable"><i class="fa fa-check"></i><b>6.4.12</b> If Time is a <code>date</code> Variable</a></li>
<li class="chapter" data-level="6.4.13" data-path="evolution.html"><a href="evolution.html#several-series"><i class="fa fa-check"></i><b>6.4.13</b> Several Series</a></li>
<li class="chapter" data-level="6.4.14" data-path="evolution.html"><a href="evolution.html#getting-the-date-format"><i class="fa fa-check"></i><b>6.4.14</b> Getting the Date Format</a></li>
<li class="chapter" data-level="6.4.15" data-path="evolution.html"><a href="evolution.html#time-series-with-dygraph"><i class="fa fa-check"></i><b>6.4.15</b> Time Series With Dygraph</a></li>
<li class="chapter" data-level="6.4.16" data-path="evolution.html"><a href="evolution.html#area-chart-1"><i class="fa fa-check"></i><b>6.4.16</b> Area Chart</a></li>
<li class="chapter" data-level="6.4.17" data-path="evolution.html"><a href="evolution.html#step-chart"><i class="fa fa-check"></i><b>6.4.17</b> Step Chart</a></li>
<li class="chapter" data-level="6.4.18" data-path="ranking.html"><a href="ranking.html#lollipop-plot"><i class="fa fa-check"></i><b>6.4.18</b> Lollipop Plot</a></li>
<li class="chapter" data-level="6.4.19" data-path="evolution.html"><a href="evolution.html#candlestick-chart"><i class="fa fa-check"></i><b>6.4.19</b> Candlestick Chart</a></li>
<li class="chapter" data-level="6.4.20" data-path="evolution.html"><a href="evolution.html#line-chart-with-interval"><i class="fa fa-check"></i><b>6.4.20</b> Line Chart with Interval</a></li>
<li class="chapter" data-level="6.4.21" data-path="evolution.html"><a href="evolution.html#custom-dygraphs-time-series-example"><i class="fa fa-check"></i><b>6.4.21</b> Custom Dygraphs Time Series Example</a></li>
<li class="chapter" data-level="6.4.22" data-path="evolution.html"><a href="evolution.html#heatmap-for-time-series"><i class="fa fa-check"></i><b>6.4.22</b> Heatmap for Time Series</a></li>
<li class="chapter" data-level="6.4.23" data-path="evolution.html"><a href="evolution.html#dual-y-axis-in-r-2"><i class="fa fa-check"></i><b>6.4.23</b> Dual Y Axis in R</a></li>
<li class="chapter" data-level="6.4.24" data-path="evolution.html"><a href="evolution.html#dual-y-axis-line-chart-1"><i class="fa fa-check"></i><b>6.4.24</b> Dual Y Axis Line Chart</a></li>
<li class="chapter" data-level="6.4.25" data-path="evolution.html"><a href="evolution.html#add-legend-1"><i class="fa fa-check"></i><b>6.4.25</b> Add Legend</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="map.html"><a href="map.html"><i class="fa fa-check"></i><b>7</b> Map</a>
<ul>
<li class="chapter" data-level="7.1" data-path="map.html"><a href="map.html#basic-map"><i class="fa fa-check"></i><b>7.1</b> Basic Map</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="map.html"><a href="map.html#background-map-in-r"><i class="fa fa-check"></i><b>7.1.1</b> Background map in R</a></li>
<li class="chapter" data-level="7.1.2" data-path="map.html"><a href="map.html#most-basic-background-map-with-r-and-leaflet"><i class="fa fa-check"></i><b>7.1.2</b> Most Basic Background Map with R and Leaflet</a></li>
<li class="chapter" data-level="7.1.3" data-path="map.html"><a href="map.html#change-background-tile-with-leaflet-and-r"><i class="fa fa-check"></i><b>7.1.3</b> Change Background Tile with <code>leaflet</code> and R</a></li>
<li class="chapter" data-level="7.1.4" data-path="map.html"><a href="map.html#the-ggmap-package-for-static-maps-with-background-titles"><i class="fa fa-check"></i><b>7.1.4</b> The <code>ggmap</code> Package for Static Maps with Background Titles</a></li>
<li class="chapter" data-level="7.1.5" data-path="map.html"><a href="map.html#calling-stamen-background"><i class="fa fa-check"></i><b>7.1.5</b> Calling Stamen Background</a></li>
<li class="chapter" data-level="7.1.6" data-path="map.html"><a href="map.html#the-maps-mapdata-and-oz-packages-to-get-most-common-boundaries"><i class="fa fa-check"></i><b>7.1.6</b> The <code>Maps</code>, <code>Mapdata</code> and <code>Oz</code> Packages to get Most Common Boundaries</a></li>
<li class="chapter" data-level="7.1.7" data-path="map.html"><a href="map.html#mapdata-package"><i class="fa fa-check"></i><b>7.1.7</b> <code>mapdata</code> Package</a></li>
<li class="chapter" data-level="7.1.8" data-path="map.html"><a href="map.html#oz-package"><i class="fa fa-check"></i><b>7.1.8</b> <code>oz</code> Package</a></li>
<li class="chapter" data-level="7.1.9" data-path="map.html"><a href="map.html#rgdal-and-geojsonio-to-read-shapefiles-and-.geojson-files"><i class="fa fa-check"></i><b>7.1.9</b> <code>Rgdal</code> and <code>Geojsonio</code> to Read Shapefiles and .geojson Files</a></li>
<li class="chapter" data-level="7.1.10" data-path="map.html"><a href="map.html#find-and-download-a-shapefile"><i class="fa fa-check"></i><b>7.1.10</b> Find and Download a Shapefile</a></li>
<li class="chapter" data-level="7.1.11" data-path="map.html"><a href="map.html#read-it-with-rgdal"><i class="fa fa-check"></i><b>7.1.11</b> Read it with <code>rgdal</code></a></li>
<li class="chapter" data-level="7.1.12" data-path="map.html"><a href="map.html#plot-it-with-base-r"><i class="fa fa-check"></i><b>7.1.12</b> Plot it with <code>base R</code></a></li>
<li class="chapter" data-level="7.1.13" data-path="map.html"><a href="map.html#plot-it-with-ggplot2"><i class="fa fa-check"></i><b>7.1.13</b> Plot it with <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.1.14" data-path="map.html"><a href="map.html#open-and-plot-geojson-files-in-r"><i class="fa fa-check"></i><b>7.1.14</b> Open and Plot Geojson files in R</a></li>
<li class="chapter" data-level="7.1.15" data-path="map.html"><a href="map.html#find-and-download-a-.geojson-file"><i class="fa fa-check"></i><b>7.1.15</b> Find and download a <code>.geoJSON</code> file</a></li>
<li class="chapter" data-level="7.1.16" data-path="map.html"><a href="map.html#plot-it-with-base-r-1"><i class="fa fa-check"></i><b>7.1.16</b> Plot it with <code>base R</code></a></li>
<li class="chapter" data-level="7.1.17" data-path="map.html"><a href="map.html#plot-it-with-ggplot2-1"><i class="fa fa-check"></i><b>7.1.17</b> Plot it with <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.1.18" data-path="map.html"><a href="map.html#geospatial-data-manipulation"><i class="fa fa-check"></i><b>7.1.18</b> Geospatial Data Manipulation</a></li>
<li class="chapter" data-level="7.1.19" data-path="map.html"><a href="map.html#simplify-geospatial-object"><i class="fa fa-check"></i><b>7.1.19</b> Simplify Geospatial Object</a></li>
<li class="chapter" data-level="7.1.20" data-path="map.html"><a href="map.html#compute-region-centroid"><i class="fa fa-check"></i><b>7.1.20</b> Compute Region Centroid</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="map.html"><a href="map.html#choropleth-map"><i class="fa fa-check"></i><b>7.2</b> Choropleth Map</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="map.html"><a href="map.html#choropleth-map-with-r-and-ggplot2"><i class="fa fa-check"></i><b>7.2.1</b> Choropleth map with R and <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.2.2" data-path="map.html"><a href="map.html#basic-background-map"><i class="fa fa-check"></i><b>7.2.2</b> Basic Background Map</a></li>
<li class="chapter" data-level="7.2.3" data-path="map.html"><a href="map.html#read-the-numeric-variable"><i class="fa fa-check"></i><b>7.2.3</b> Read the Numeric Variable</a></li>
<li class="chapter" data-level="7.2.4" data-path="map.html"><a href="map.html#merge-geospatial-and-numeric-data"><i class="fa fa-check"></i><b>7.2.4</b> Merge Geospatial and Numeric Data</a></li>
<li class="chapter" data-level="7.2.5" data-path="map.html"><a href="map.html#read-the-numeric-variable-1"><i class="fa fa-check"></i><b>7.2.5</b> Read the Numeric Variable</a></li>
<li class="chapter" data-level="7.2.6" data-path="map.html"><a href="map.html#customized-choropleth-map-with-r-and-ggplot2"><i class="fa fa-check"></i><b>7.2.6</b> Customized Choropleth Map with R and <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.2.7" data-path="map.html"><a href="map.html#choropleth-map-with-r"><i class="fa fa-check"></i><b>7.2.7</b> Choropleth Map with R</a></li>
<li class="chapter" data-level="7.2.8" data-path="map.html"><a href="map.html#find-and-download-a-shape-file"><i class="fa fa-check"></i><b>7.2.8</b> Find and Download a Shape File</a></li>
<li class="chapter" data-level="7.2.9" data-path="map.html"><a href="map.html#plot-the-map"><i class="fa fa-check"></i><b>7.2.9</b> Plot the Map</a></li>
<li class="chapter" data-level="7.2.10" data-path="map.html"><a href="map.html#visualize-the-numeric-variable"><i class="fa fa-check"></i><b>7.2.10</b> Visualize the Numeric Variable</a></li>
<li class="chapter" data-level="7.2.11" data-path="map.html"><a href="map.html#build-the-choropleth"><i class="fa fa-check"></i><b>7.2.11</b> Build the Choropleth</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="map.html"><a href="map.html#interactive-choropleth-map"><i class="fa fa-check"></i><b>7.3</b> Interactive Choropleth Map</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="map.html"><a href="map.html#find-download-and-load-geospatial-data"><i class="fa fa-check"></i><b>7.3.1</b> Find, Download and Load Geospatial Data</a></li>
<li class="chapter" data-level="7.3.2" data-path="map.html"><a href="map.html#default-choropleth"><i class="fa fa-check"></i><b>7.3.2</b> Default Choropleth</a></li>
<li class="chapter" data-level="7.3.3" data-path="map.html"><a href="map.html#visualize-the-numeric-variable-1"><i class="fa fa-check"></i><b>7.3.3</b> Visualize the Numeric Variable</a></li>
<li class="chapter" data-level="7.3.4" data-path="map.html"><a href="map.html#change-color-scale"><i class="fa fa-check"></i><b>7.3.4</b> Change Color Scale</a></li>
<li class="chapter" data-level="7.3.5" data-path="map.html"><a href="map.html#customizied-leaflet-choropleth-map"><i class="fa fa-check"></i><b>7.3.5</b> Customizied <code>leaflet</code> Choropleth Map</a></li>
<li class="chapter" data-level="7.3.6" data-path="map.html"><a href="map.html#basic-choropleth-map-with-the-cartography-package"><i class="fa fa-check"></i><b>7.3.6</b> Basic Choropleth Map with the Cartography Package</a></li>
<li class="chapter" data-level="7.3.7" data-path="map.html"><a href="map.html#data-provided-in-a-shape-file"><i class="fa fa-check"></i><b>7.3.7</b> Data Provided in a Shape File</a></li>
<li class="chapter" data-level="7.3.8" data-path="map.html"><a href="map.html#customized-choropleth-map-with-the-cartography-package"><i class="fa fa-check"></i><b>7.3.8</b> Customized Choropleth Map with the Cartography Package</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="map.html"><a href="map.html#hexbin-map"><i class="fa fa-check"></i><b>7.4</b> Hexbin Map</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="map.html"><a href="map.html#hexbin-map-in-r-example-with-us-states"><i class="fa fa-check"></i><b>7.4.1</b> Hexbin Map in R: Example with US states</a></li>
<li class="chapter" data-level="7.4.2" data-path="map.html"><a href="map.html#ggplot2-and-state-name"><i class="fa fa-check"></i><b>7.4.2</b> <code>ggplot2</code> and State Name</a></li>
<li class="chapter" data-level="7.4.3" data-path="map.html"><a href="map.html#basic-choropleth"><i class="fa fa-check"></i><b>7.4.3</b> Basic Choropleth</a></li>
<li class="chapter" data-level="7.4.4" data-path="map.html"><a href="map.html#customized-hexbin-choropleth-map"><i class="fa fa-check"></i><b>7.4.4</b> Customized Hexbin Choropleth Map</a></li>
<li class="chapter" data-level="7.4.5" data-path="map.html"><a href="map.html#hexbin-map-from-list-of-coordinates"><i class="fa fa-check"></i><b>7.4.5</b> Hexbin Map from List of Coordinates</a></li>
<li class="chapter" data-level="7.4.6" data-path="map.html"><a href="map.html#hexbin-map-for-2d-density-visualization"><i class="fa fa-check"></i><b>7.4.6</b> Hexbin Map for 2D Density Visualization</a></li>
<li class="chapter" data-level="7.4.7" data-path="map.html"><a href="map.html#hexbin-maps"><i class="fa fa-check"></i><b>7.4.7</b> Hexbin Maps</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="map.html"><a href="map.html#cartogram"><i class="fa fa-check"></i><b>7.5</b> Cartogram</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="map.html"><a href="map.html#basic-cartogram-with-r"><i class="fa fa-check"></i><b>7.5.1</b> Basic Cartogram with R</a></li>
<li class="chapter" data-level="7.5.2" data-path="map.html"><a href="map.html#distort-country-size-with-cartogram"><i class="fa fa-check"></i><b>7.5.2</b> Distort Country Size with <code>cartogram</code></a></li>
<li class="chapter" data-level="7.5.3" data-path="map.html"><a href="map.html#cartogram-and-choropleth"><i class="fa fa-check"></i><b>7.5.3</b> Cartogram and Choropleth</a></li>
<li class="chapter" data-level="7.5.4" data-path="correlation.html"><a href="correlation.html#make-it-pretty"><i class="fa fa-check"></i><b>7.5.4</b> Make it Pretty</a></li>
<li class="chapter" data-level="7.5.5" data-path="map.html"><a href="map.html#application-on-hexbin-map"><i class="fa fa-check"></i><b>7.5.5</b> Application on Hexbin Map</a></li>
<li class="chapter" data-level="7.5.6" data-path="map.html"><a href="map.html#basic-cartogram-with-r-1"><i class="fa fa-check"></i><b>7.5.6</b> Basic Cartogram with R</a></li>
<li class="chapter" data-level="7.5.7" data-path="map.html"><a href="map.html#distort-hexagone-size-with-cartogram"><i class="fa fa-check"></i><b>7.5.7</b> Distort Hexagone Size with <code>cartogram</code></a></li>
<li class="chapter" data-level="7.5.8" data-path="map.html"><a href="map.html#cartogram-and-choropleth-1"><i class="fa fa-check"></i><b>7.5.8</b> Cartogram and Choropleth</a></li>
<li class="chapter" data-level="7.5.9" data-path="map.html"><a href="map.html#a-smooth-transition-between-choropleth-and-cartogram"><i class="fa fa-check"></i><b>7.5.9</b> A Smooth Transition between Choropleth and Cartogram</a></li>
<li class="chapter" data-level="7.5.10" data-path="map.html"><a href="map.html#a-basic-map-of-africa"><i class="fa fa-check"></i><b>7.5.10</b> A Basic Map of Africa</a></li>
<li class="chapter" data-level="7.5.11" data-path="map.html"><a href="map.html#compute-cartogram-boundaries"><i class="fa fa-check"></i><b>7.5.11</b> Compute Cartogram Boundaries</a></li>
<li class="chapter" data-level="7.5.12" data-path="map.html"><a href="map.html#a-nicer-representation-using-ggplot2"><i class="fa fa-check"></i><b>7.5.12</b> A Nicer Representation using <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.5.13" data-path="map.html"><a href="map.html#compute-several-intermediate-maps"><i class="fa fa-check"></i><b>7.5.13</b> Compute Several Intermediate Maps</a></li>
<li class="chapter" data-level="7.5.14" data-path="map.html"><a href="map.html#make-the-animation-with-gganimate"><i class="fa fa-check"></i><b>7.5.14</b> Make the Animation with <code>gganimate</code></a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="map.html"><a href="map.html#connection-map"><i class="fa fa-check"></i><b>7.6</b> Connection Map</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="map.html"><a href="map.html#how-to-draw-connecting-routes-on-map-with-r"><i class="fa fa-check"></i><b>7.6.1</b> How to Draw Connecting Routes on Map with R</a></li>
<li class="chapter" data-level="7.6.2" data-path="map.html"><a href="map.html#add-3-cities"><i class="fa fa-check"></i><b>7.6.2</b> Add 3 Cities</a></li>
<li class="chapter" data-level="7.6.3" data-path="map.html"><a href="map.html#show-connection-between-cities"><i class="fa fa-check"></i><b>7.6.3</b> Show Connection between Cities</a></li>
<li class="chapter" data-level="7.6.4" data-path="map.html"><a href="map.html#correcting-gcintermediate"><i class="fa fa-check"></i><b>7.6.4</b> Correcting <code>gcIntermediate</code></a></li>
<li class="chapter" data-level="7.6.5" data-path="map.html"><a href="map.html#apply-it-to-several-pairs-of-cities"><i class="fa fa-check"></i><b>7.6.5</b> Apply it to Several Pairs of Cities</a></li>
<li class="chapter" data-level="7.6.6" data-path="map.html"><a href="map.html#an-alternative-using-the-greatcircle-function"><i class="fa fa-check"></i><b>7.6.6</b> An Alternative using the <code>greatCircle</code> Function</a></li>
<li class="chapter" data-level="7.6.7" data-path="map.html"><a href="map.html#visualizing-geographic-connections"><i class="fa fa-check"></i><b>7.6.7</b> Visualizing Geographic Connections</a></li>
<li class="chapter" data-level="7.6.8" data-path="map.html"><a href="map.html#showing-few-connections-on-a-map"><i class="fa fa-check"></i><b>7.6.8</b> Showing Few Connections on a Map</a></li>
<li class="chapter" data-level="7.6.9" data-path="map.html"><a href="map.html#showing-many-connections-on-a-map"><i class="fa fa-check"></i><b>7.6.9</b> Showing Many Connections on a Map</a></li>
<li class="chapter" data-level="7.6.10" data-path="map.html"><a href="map.html#bubble-map"><i class="fa fa-check"></i><b>7.6.10</b> Bubble Map</a></li>
<li class="chapter" data-level="7.6.11" data-path="map.html"><a href="map.html#use-leaflet-control-widget"><i class="fa fa-check"></i><b>7.6.11</b> Use leaflet control widget</a></li>
<li class="chapter" data-level="7.6.12" data-path="map.html"><a href="map.html#interactive-earthquake-bubble-map-with-r-and-leaflet"><i class="fa fa-check"></i><b>7.6.12</b> Interactive Earthquake Bubble Map with R and leaflet</a></li>
<li class="chapter" data-level="7.6.13" data-path="map.html"><a href="map.html#bubble-map-with-ggplot2"><i class="fa fa-check"></i><b>7.6.13</b> Bubble map with <code>ggplot2</code></a></li>
<li class="chapter" data-level="7.6.14" data-path="map.html"><a href="map.html#basic-scatterplot-map"><i class="fa fa-check"></i><b>7.6.14</b> Basic Scatterplot Map</a></li>
<li class="chapter" data-level="7.6.15" data-path="map.html"><a href="map.html#basic-bubble-map"><i class="fa fa-check"></i><b>7.6.15</b> Basic Bubble Map</a></li>
<li class="chapter" data-level="7.6.16" data-path="map.html"><a href="map.html#customized-bubble-map"><i class="fa fa-check"></i><b>7.6.16</b> Customized Bubble Map</a></li>
<li class="chapter" data-level="7.6.17" data-path="map.html"><a href="map.html#interactive-bubble-map-with-plotly"><i class="fa fa-check"></i><b>7.6.17</b> Interactive Bubble Map with Plotly</a></li>
<li class="chapter" data-level="7.6.18" data-path="map.html"><a href="map.html#proportional-symbol-map-with-the-cartography-package"><i class="fa fa-check"></i><b>7.6.18</b> Proportional Symbol Map with the Cartography Package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="flow.html"><a href="flow.html"><i class="fa fa-check"></i><b>8</b> Flow</a>
<ul>
<li class="chapter" data-level="8.1" data-path="flow.html"><a href="flow.html#chord-diagram"><i class="fa fa-check"></i><b>8.1</b> Chord Diagram</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="flow.html"><a href="flow.html#introduction-to-the-circlize-package"><i class="fa fa-check"></i><b>8.1.1</b> Introduction to the <code>circlize</code> Package</a></li>
<li class="chapter" data-level="8.1.2" data-path="flow.html"><a href="flow.html#circular-chart-customization-for-the-circlize-r-package"><i class="fa fa-check"></i><b>8.1.2</b> Circular Chart Customization for the <code>Circlize</code> R package</a></li>
<li class="chapter" data-level="8.1.3" data-path="flow.html"><a href="flow.html#most-basic-circular-chart"><i class="fa fa-check"></i><b>8.1.3</b> Most Basic Circular Chart</a></li>
<li class="chapter" data-level="8.1.4" data-path="ranking.html"><a href="ranking.html#customization"><i class="fa fa-check"></i><b>8.1.4</b> Customization</a></li>
<li class="chapter" data-level="8.1.5" data-path="flow.html"><a href="flow.html#available-circular-chart-types-with-circlize"><i class="fa fa-check"></i><b>8.1.5</b> Available Circular Chart Types with Circlize</a></li>
<li class="chapter" data-level="8.1.6" data-path="flow.html"><a href="flow.html#circular-line-chart"><i class="fa fa-check"></i><b>8.1.6</b> Circular Line Chart</a></li>
<li class="chapter" data-level="8.1.7" data-path="flow.html"><a href="flow.html#vertical-ablines"><i class="fa fa-check"></i><b>8.1.7</b> Vertical Ablines</a></li>
<li class="chapter" data-level="8.1.8" data-path="flow.html"><a href="flow.html#circular-histogram"><i class="fa fa-check"></i><b>8.1.8</b> Circular Histogram</a></li>
<li class="chapter" data-level="8.1.9" data-path="flow.html"><a href="flow.html#circular-chart-with-several-tracks"><i class="fa fa-check"></i><b>8.1.9</b> Circular Chart with Several Tracks</a></li>
<li class="chapter" data-level="8.1.10" data-path="flow.html"><a href="flow.html#display-several-chord-diagrams-on-same-figure"><i class="fa fa-check"></i><b>8.1.10</b> Display Several Chord Diagrams on same Figure</a></li>
<li class="chapter" data-level="8.1.11" data-path="flow.html"><a href="flow.html#draw-part-of-the-circular-chart-only"><i class="fa fa-check"></i><b>8.1.11</b> Draw Part of the Circular Chart Only</a></li>
<li class="chapter" data-level="8.1.12" data-path="flow.html"><a href="flow.html#advanced-chord-diagram-with-r-and-circlize"><i class="fa fa-check"></i><b>8.1.12</b> Advanced Chord Diagram with R and Circlize</a></li>
<li class="chapter" data-level="8.1.13" data-path="flow.html"><a href="flow.html#chord-diagram-from-edge-list"><i class="fa fa-check"></i><b>8.1.13</b> Chord Diagram from Edge List</a></li>
<li class="chapter" data-level="8.1.14" data-path="flow.html"><a href="flow.html#chord-diagram-1"><i class="fa fa-check"></i><b>8.1.14</b> Chord Diagram</a></li>
<li class="chapter" data-level="8.1.15" data-path="flow.html"><a href="flow.html#variations"><i class="fa fa-check"></i><b>8.1.15</b> Variations</a></li>
<li class="chapter" data-level="8.1.16" data-path="flow.html"><a href="flow.html#static-chord-diagram"><i class="fa fa-check"></i><b>8.1.16</b> Static Chord Diagram</a></li>
<li class="chapter" data-level="8.1.17" data-path="flow.html"><a href="flow.html#introduction-to-chord-diagram"><i class="fa fa-check"></i><b>8.1.17</b> Introduction to Chord Diagram</a></li>
<li class="chapter" data-level="8.1.18" data-path="flow.html"><a href="flow.html#chord-diagram-from-adjacency-matrix-1"><i class="fa fa-check"></i><b>8.1.18</b> Chord Diagram from Adjacency Matrix</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="flow.html"><a href="flow.html#network-graph"><i class="fa fa-check"></i><b>8.2</b> Network Graph</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="flow.html"><a href="flow.html#network-chart-with-r-and-igraph-from-any-type-of-input"><i class="fa fa-check"></i><b>8.2.1</b> Network Chart with R and igraph from any Type of Input</a></li>
<li class="chapter" data-level="8.2.2" data-path="flow.html"><a href="flow.html#incidence-matrix"><i class="fa fa-check"></i><b>8.2.2</b> Incidence Matrix</a></li>
<li class="chapter" data-level="8.2.3" data-path="flow.html"><a href="flow.html#edge-list"><i class="fa fa-check"></i><b>8.2.3</b> Edge List</a></li>
<li class="chapter" data-level="8.2.4" data-path="flow.html"><a href="flow.html#literal-list-of-connections"><i class="fa fa-check"></i><b>8.2.4</b> Literal List of Connections</a></li>
<li class="chapter" data-level="8.2.5" data-path="flow.html"><a href="flow.html#default-network-chart-with-igraph"><i class="fa fa-check"></i><b>8.2.5</b> Default Network Chart with <code>igraph</code></a></li>
<li class="chapter" data-level="8.2.6" data-path="flow.html"><a href="flow.html#customize-node-features"><i class="fa fa-check"></i><b>8.2.6</b> Customize Node Features</a></li>
<li class="chapter" data-level="8.2.7" data-path="flow.html"><a href="flow.html#customize-label-features"><i class="fa fa-check"></i><b>8.2.7</b> Customize Label Features</a></li>
<li class="chapter" data-level="8.2.8" data-path="flow.html"><a href="flow.html#customize-link-features"><i class="fa fa-check"></i><b>8.2.8</b> Customize Link Features</a></li>
<li class="chapter" data-level="8.2.9" data-path="flow.html"><a href="flow.html#all-customization"><i class="fa fa-check"></i><b>8.2.9</b> All Customization</a></li>
<li class="chapter" data-level="8.2.10" data-path="flow.html"><a href="flow.html#network-layouts"><i class="fa fa-check"></i><b>8.2.10</b> Network Layouts</a></li>
<li class="chapter" data-level="8.2.11" data-path="flow.html"><a href="flow.html#map-variable-to-node-and-links-feature-in-r-igraph-network"><i class="fa fa-check"></i><b>8.2.11</b> Map Variable to Node and Links Feature in R <code>igraph</code> Network</a></li>
<li class="chapter" data-level="8.2.12" data-path="flow.html"><a href="flow.html#map-variable-to-link-features"><i class="fa fa-check"></i><b>8.2.12</b> Map Variable to Link Features</a></li>
<li class="chapter" data-level="8.2.13" data-path="flow.html"><a href="flow.html#clustering-result-visualization-with-network-diagram"><i class="fa fa-check"></i><b>8.2.13</b> Clustering Result Visualization with Network Diagram</a></li>
<li class="chapter" data-level="8.2.14" data-path="flow.html"><a href="flow.html#basic-network-diagram"><i class="fa fa-check"></i><b>8.2.14</b> Basic Network Diagram</a></li>
<li class="chapter" data-level="8.2.15" data-path="ranking.html"><a href="ranking.html#customization-1"><i class="fa fa-check"></i><b>8.2.15</b> Customization</a></li>
<li class="chapter" data-level="8.2.16" data-path="flow.html"><a href="flow.html#customize-link-features-1"><i class="fa fa-check"></i><b>8.2.16</b> Customize Link Features</a></li>
<li class="chapter" data-level="8.2.17" data-path="flow.html"><a href="flow.html#all-customization-1"><i class="fa fa-check"></i><b>8.2.17</b> All Customization</a></li>
<li class="chapter" data-level="8.2.18" data-path="flow.html"><a href="flow.html#network-with-node-size-based-on-edge-number"><i class="fa fa-check"></i><b>8.2.18</b> Network with Node Size Based on Edge Number</a></li>
<li class="chapter" data-level="8.2.19" data-path="flow.html"><a href="flow.html#most-basic-network-diagram"><i class="fa fa-check"></i><b>8.2.19</b> Most Basic Network Diagram</a></li>
<li class="chapter" data-level="8.2.20" data-path="flow.html"><a href="flow.html#interactive-network-customization"><i class="fa fa-check"></i><b>8.2.20</b> Interactive Network Customization</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="flow.html"><a href="flow.html#sankey-diagram"><i class="fa fa-check"></i><b>8.3</b> Sankey Diagram</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="flow.html"><a href="flow.html#most-basic-sankey-diagram"><i class="fa fa-check"></i><b>8.3.1</b> Most Basic Sankey Diagram</a></li>
<li class="chapter" data-level="8.3.2" data-path="flow.html"><a href="flow.html#from-incidence-matrix"><i class="fa fa-check"></i><b>8.3.2</b> From Incidence Matrix</a></li>
<li class="chapter" data-level="8.3.3" data-path="flow.html"><a href="flow.html#customize-colors-in-sankey-diagram"><i class="fa fa-check"></i><b>8.3.3</b> Customize Colors in Sankey Diagram</a></li>
<li class="chapter" data-level="8.3.4" data-path="flow.html"><a href="flow.html#set-color-for-groups-of-nodes"><i class="fa fa-check"></i><b>8.3.4</b> Set Color for Groups of Nodes</a></li>
<li class="chapter" data-level="8.3.5" data-path="flow.html"><a href="flow.html#set-color-of-connections"><i class="fa fa-check"></i><b>8.3.5</b> Set Color of Connections</a></li>
<li class="chapter" data-level="8.3.6" data-path="flow.html"><a href="flow.html#sankey-diagram-interactive"><i class="fa fa-check"></i><b>8.3.6</b> Sankey Diagram Interactive</a></li>
<li class="chapter" data-level="8.3.7" data-path="flow.html"><a href="flow.html#what-for"><i class="fa fa-check"></i><b>8.3.7</b> What For</a></li>
<li class="chapter" data-level="8.3.8" data-path="flow.html"><a href="flow.html#variation"><i class="fa fa-check"></i><b>8.3.8</b> Variation</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="flow.html"><a href="flow.html#arc-diagram"><i class="fa fa-check"></i><b>8.4</b> Arc Diagram</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="flow.html"><a href="flow.html#arc-diagrams"><i class="fa fa-check"></i><b>8.4.1</b> Arc Diagrams</a></li>
<li class="chapter" data-level="8.4.2" data-path="flow.html"><a href="flow.html#common-mistakes"><i class="fa fa-check"></i><b>8.4.2</b> Common Mistakes</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="flow.html"><a href="flow.html#edge-bundling"><i class="fa fa-check"></i><b>8.5</b> Edge Bundling</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="flow.html"><a href="flow.html#hierarchical-edge-bundling"><i class="fa fa-check"></i><b>8.5.1</b> Hierarchical Edge Bundling</a></li>
<li class="chapter" data-level="8.5.2" data-path="flow.html"><a href="flow.html#introduction-to-hierarchical-edge-bundling-with-r"><i class="fa fa-check"></i><b>8.5.2</b> Introduction to Hierarchical Edge Bundling with R</a></li>
<li class="chapter" data-level="8.5.3" data-path="flow.html"><a href="flow.html#add-a-few-connections"><i class="fa fa-check"></i><b>8.5.3</b> Add a Few Connections</a></li>
<li class="chapter" data-level="8.5.4" data-path="flow.html"><a href="flow.html#hierarchical-edge-bundling-1"><i class="fa fa-check"></i><b>8.5.4</b> Hierarchical Edge Bundling</a></li>
<li class="chapter" data-level="8.5.5" data-path="flow.html"><a href="flow.html#customize-hierarchical-edge-bundling"><i class="fa fa-check"></i><b>8.5.5</b> Customize Hierarchical Edge Bundling</a></li>
<li class="chapter" data-level="8.5.6" data-path="flow.html"><a href="flow.html#playing-with-tension"><i class="fa fa-check"></i><b>8.5.6</b> Playing with <code>tension</code></a></li>
<li class="chapter" data-level="8.5.7" data-path="flow.html"><a href="flow.html#connection-features"><i class="fa fa-check"></i><b>8.5.7</b> Connection Features</a></li>
<li class="chapter" data-level="8.5.8" data-path="flow.html"><a href="flow.html#node-features"><i class="fa fa-check"></i><b>8.5.8</b> Node Features</a></li>
<li class="chapter" data-level="8.5.9" data-path="flow.html"><a href="flow.html#without-labels"><i class="fa fa-check"></i><b>8.5.9</b> Without Labels</a></li>
<li class="chapter" data-level="8.5.10" data-path="flow.html"><a href="flow.html#create-the-labels"><i class="fa fa-check"></i><b>8.5.10</b> Create the Labels</a></li>
<li class="chapter" data-level="8.5.11" data-path="flow.html"><a href="flow.html#plot-the-labels"><i class="fa fa-check"></i><b>8.5.11</b> Plot the Labels</a></li>
<li class="chapter" data-level="8.5.12" data-path="flow.html"><a href="flow.html#with-customization"><i class="fa fa-check"></i><b>8.5.12</b> With Customization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="general.html"><a href="general.html"><i class="fa fa-check"></i><b>9</b> General Knowledge</a>
<ul>
<li class="chapter" data-level="9.1" data-path="distributions.html"><a href="distributions.html#ggplot2"><i class="fa fa-check"></i><b>9.1</b> <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="correlation.html"><a href="correlation.html#add-text-labels-with-ggplot2"><i class="fa fa-check"></i><b>9.1.1</b> Add Text Labels with ggplot2</a></li>
<li class="chapter" data-level="9.1.2" data-path="correlation.html"><a href="correlation.html#add-labels-with-geom_label"><i class="fa fa-check"></i><b>9.1.2</b> Add Labels with <code>geom_label()</code></a></li>
<li class="chapter" data-level="9.1.3" data-path="correlation.html"><a href="correlation.html#add-one-text-label-only"><i class="fa fa-check"></i><b>9.1.3</b> Add One Text Label Only</a></li>
<li class="chapter" data-level="9.1.4" data-path="correlation.html"><a href="correlation.html#add-labels-for-a-selection-of-marker"><i class="fa fa-check"></i><b>9.1.4</b> Add Labels for a Selection of Marker</a></li>
<li class="chapter" data-level="9.1.5" data-path="general.html"><a href="general.html#how-to-annotate-a-plot-in-ggplot2"><i class="fa fa-check"></i><b>9.1.5</b> How to Annotate a Plot in <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.6" data-path="general.html"><a href="general.html#adding-text-with-geom_text-or-geom_label"><i class="fa fa-check"></i><b>9.1.6</b> Adding text with <code>geom_text()</code> or <code>geom_label()</code></a></li>
<li class="chapter" data-level="9.1.7" data-path="general.html"><a href="general.html#add-shapes-with-annotate"><i class="fa fa-check"></i><b>9.1.7</b> Add Shapes with <code>annotate()</code></a></li>
<li class="chapter" data-level="9.1.8" data-path="general.html"><a href="general.html#add-ablines-with-geom_hline-and-geom_vline"><i class="fa fa-check"></i><b>9.1.8</b> Add Ablines with <code>geom_hline()</code> and <code>geom_vline()</code></a></li>
<li class="chapter" data-level="9.1.9" data-path="general.html"><a href="general.html#add-a-point-and-a-range-with-pointrange"><i class="fa fa-check"></i><b>9.1.9</b> Add a Point and a Range with <code>pointrange()</code></a></li>
<li class="chapter" data-level="9.1.10" data-path="general.html"><a href="general.html#marginal-plot"><i class="fa fa-check"></i><b>9.1.10</b> Marginal Plot</a></li>
<li class="chapter" data-level="9.1.11" data-path="distributions.html"><a href="distributions.html#marginal-distribution-with-ggplot2-and-ggextra"><i class="fa fa-check"></i><b>9.1.11</b> Marginal Distribution with <code>ggplot2</code> and <code>ggExtra</code></a></li>
<li class="chapter" data-level="9.1.12" data-path="distributions.html"><a href="distributions.html#more-customization"><i class="fa fa-check"></i><b>9.1.12</b> More Customization</a></li>
<li class="chapter" data-level="9.1.13" data-path="general.html"><a href="general.html#ggplot2-chart-appearance"><i class="fa fa-check"></i><b>9.1.13</b> <code>ggplot2</code> Chart Appearance</a></li>
<li class="chapter" data-level="9.1.14" data-path="general.html"><a href="general.html#set-axis-title-and-limits-with-xlab-and-xlim"><i class="fa fa-check"></i><b>9.1.14</b> Set Axis Title and Limits with <code>xlab()</code> and <code>xlim()</code></a></li>
<li class="chapter" data-level="9.1.15" data-path="general.html"><a href="general.html#customize-axis-title-appearance-axis.title"><i class="fa fa-check"></i><b>9.1.15</b> Customize Axis Title Appearance: <code>axis.title</code></a></li>
<li class="chapter" data-level="9.1.16" data-path="general.html"><a href="general.html#customize-axis-labels-axis.text"><i class="fa fa-check"></i><b>9.1.16</b> Customize Axis Labels: <code>axis.text</code></a></li>
<li class="chapter" data-level="9.1.17" data-path="general.html"><a href="general.html#customize-axis-ticks-and-axis-line-with-axis.ticks-and-axis.line"><i class="fa fa-check"></i><b>9.1.17</b> Customize Axis Ticks and Axis Line with <code>axis.ticks()</code> and <code>axis.line()</code></a></li>
<li class="chapter" data-level="9.1.18" data-path="general.html"><a href="general.html#background-manipulation-with-r-and-ggplot2"><i class="fa fa-check"></i><b>9.1.18</b> Background Manipulation with R and ggplot2</a></li>
<li class="chapter" data-level="9.1.19" data-path="general.html"><a href="general.html#background-color-plot.background-and-panel.background"><i class="fa fa-check"></i><b>9.1.19</b> Background Color: <code>plot.background</code> and <code>panel.background</code></a></li>
<li class="chapter" data-level="9.1.20" data-path="general.html"><a href="general.html#customize-the-grid-panel.grid.major-and-panel.grid.minor"><i class="fa fa-check"></i><b>9.1.20</b> Customize the Grid: <code>panel.grid.major</code> and <code>panel.grid.minor</code></a></li>
<li class="chapter" data-level="9.1.21" data-path="general.html"><a href="general.html#building-a-nice-legend-with-r-and-ggplot2"><i class="fa fa-check"></i><b>9.1.21</b> Building a Nice Legend with R and <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.22" data-path="general.html"><a href="general.html#change-legend-title-with-labs"><i class="fa fa-check"></i><b>9.1.22</b> Change Legend Title with <code>labs()</code></a></li>
<li class="chapter" data-level="9.1.23" data-path="general.html"><a href="general.html#get-rid-of-the-legend-guides-and-theme"><i class="fa fa-check"></i><b>9.1.23</b> Get Rid of the Legend: <code>guides()</code> and <code>theme()</code></a></li>
<li class="chapter" data-level="9.1.24" data-path="general.html"><a href="general.html#control-legend-position-with-legend.position"><i class="fa fa-check"></i><b>9.1.24</b> Control Legend Position with <code>legend.position</code></a></li>
<li class="chapter" data-level="9.1.25" data-path="general.html"><a href="general.html#legend-appearance"><i class="fa fa-check"></i><b>9.1.25</b> Legend Appearance</a></li>
<li class="chapter" data-level="9.1.26" data-path="distributions.html"><a href="distributions.html#reorder-a-variable-with-ggplot2"><i class="fa fa-check"></i><b>9.1.26</b> Reorder a Variable with <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.27" data-path="ranking.html"><a href="ranking.html#method-1-the-forecats-library"><i class="fa fa-check"></i><b>9.1.27</b> Method 1: the <code>Forecats</code> library</a></li>
<li class="chapter" data-level="9.1.28" data-path="distributions.html"><a href="distributions.html#method-2-using-dplyr-only"><i class="fa fa-check"></i><b>9.1.28</b> Method 2: Using <code>dplyr</code> Only</a></li>
<li class="chapter" data-level="9.1.29" data-path="distributions.html"><a href="distributions.html#method-3-the-reorder-function-of-base-r"><i class="fa fa-check"></i><b>9.1.29</b> Method 3: the <code>reorder()</code> function of Base R</a></li>
<li class="chapter" data-level="9.1.30" data-path="general.html"><a href="general.html#ggplot2-title"><i class="fa fa-check"></i><b>9.1.30</b> <code>ggplot2</code> Title</a></li>
<li class="chapter" data-level="9.1.31" data-path="general.html"><a href="general.html#title-on-several-lines"><i class="fa fa-check"></i><b>9.1.31</b> Title on Several Lines</a></li>
<li class="chapter" data-level="9.1.32" data-path="general.html"><a href="general.html#title-appearance-and-position"><i class="fa fa-check"></i><b>9.1.32</b> Title Appearance and Position</a></li>
<li class="chapter" data-level="9.1.33" data-path="general.html"><a href="general.html#customize-a-specific-word-only"><i class="fa fa-check"></i><b>9.1.33</b> Customize a Specific Word Only</a></li>
<li class="chapter" data-level="9.1.34" data-path="general.html"><a href="general.html#small-multiples-facet_wrap-and-facet_grid"><i class="fa fa-check"></i><b>9.1.34</b> Small Multiples: <code>facet_wrap()</code> and <code>facet_grid()</code></a></li>
<li class="chapter" data-level="9.1.35" data-path="general.html"><a href="general.html#faceting-with-ggplot2"><i class="fa fa-check"></i><b>9.1.35</b> Faceting with <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.36" data-path="general.html"><a href="general.html#faceting-with-facet_wrap"><i class="fa fa-check"></i><b>9.1.36</b> Faceting with <code>facet_wrap()</code></a></li>
<li class="chapter" data-level="9.1.37" data-path="general.html"><a href="general.html#facet_grid"><i class="fa fa-check"></i><b>9.1.37</b> <code>facet_grid()</code></a></li>
<li class="chapter" data-level="9.1.38" data-path="general.html"><a href="general.html#customize-small-multiple-appearance-with-ggplot2"><i class="fa fa-check"></i><b>9.1.38</b> Customize Small Multiple Appearance with <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.39" data-path="general.html"><a href="general.html#multiple-ggplot2-charts-on-a-single-page"><i class="fa fa-check"></i><b>9.1.39</b> Multiple ggplot2 Charts on a Single Page</a></li>
<li class="chapter" data-level="9.1.40" data-path="general.html"><a href="general.html#plotly-turn-your-ggplot-interactive"><i class="fa fa-check"></i><b>9.1.40</b> <code>Plotly</code>: Turn your <code>ggplot</code> Interactive</a></li>
<li class="chapter" data-level="9.1.41" data-path="general.html"><a href="general.html#an-overview-of-ggplot2-possibilities"><i class="fa fa-check"></i><b>9.1.41</b> An Overview of <code>ggplot2</code> Possibilities</a></li>
<li class="chapter" data-level="9.1.42" data-path="distributions.html"><a href="distributions.html#boxplot-with-individual-data-points"><i class="fa fa-check"></i><b>9.1.42</b> Boxplot with Individual Data Points</a></li>
<li class="chapter" data-level="9.1.43" data-path="correlation.html"><a href="correlation.html#map-a-variable-to-marker-feature-in-ggplot2-scatterplot"><i class="fa fa-check"></i><b>9.1.43</b> Map a Variable to Marker Feature in <code>ggplot2</code> Scatterplot</a></li>
<li class="chapter" data-level="9.1.44" data-path="correlation.html"><a href="correlation.html#basic-example"><i class="fa fa-check"></i><b>9.1.44</b> Basic Example</a></li>
<li class="chapter" data-level="9.1.45" data-path="correlation.html"><a href="correlation.html#works-with-any-aesthetics"><i class="fa fa-check"></i><b>9.1.45</b> Works with any Aesthetics</a></li>
<li class="chapter" data-level="9.1.46" data-path="correlation.html"><a href="correlation.html#mapping-to-several-features"><i class="fa fa-check"></i><b>9.1.46</b> Mapping to Several Features</a></li>
<li class="chapter" data-level="9.1.47" data-path="general.html"><a href="general.html#bubble-plot-with-ggplot2"><i class="fa fa-check"></i><b>9.1.47</b> Bubble Plot with <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.48" data-path="correlation.html"><a href="correlation.html#control-circle-size-with-scale_size"><i class="fa fa-check"></i><b>9.1.48</b> Control Circle Size with <code>scale_size()</code></a></li>
<li class="chapter" data-level="9.1.49" data-path="correlation.html"><a href="correlation.html#add-a-fourth-dimension-color"><i class="fa fa-check"></i><b>9.1.49</b> Add a Fourth Dimension: Color</a></li>
<li class="chapter" data-level="9.1.50" data-path="correlation.html"><a href="correlation.html#make-it-pretty"><i class="fa fa-check"></i><b>9.1.50</b> Make it Pretty</a></li>
<li class="chapter" data-level="9.1.51" data-path="correlation.html"><a href="correlation.html#connected-scatterplot-with-r-and-ggplot2"><i class="fa fa-check"></i><b>9.1.51</b> Connected Scatterplot with R and <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.52" data-path="correlation.html"><a href="correlation.html#customize-the-connected-scatterplot"><i class="fa fa-check"></i><b>9.1.52</b> Customize the Connected Scatterplot</a></li>
<li class="chapter" data-level="9.1.53" data-path="correlation.html"><a href="correlation.html#connected-scatterplot-to-show-an-evolution"><i class="fa fa-check"></i><b>9.1.53</b> Connected Scatterplot to Show an Evolution</a></li>
<li class="chapter" data-level="9.1.54" data-path="ranking.html"><a href="ranking.html#parallel-coordinates-chart-with-ggally"><i class="fa fa-check"></i><b>9.1.54</b> Parallel Coordinates Chart with <code>ggally</code></a></li>
<li class="chapter" data-level="9.1.55" data-path="ranking.html"><a href="ranking.html#custom-color-theme-general-appearance"><i class="fa fa-check"></i><b>9.1.55</b> Custom Color, Theme, General Appearance</a></li>
<li class="chapter" data-level="9.1.56" data-path="ranking.html"><a href="ranking.html#scaling"><i class="fa fa-check"></i><b>9.1.56</b> Scaling</a></li>
<li class="chapter" data-level="9.1.57" data-path="ranking.html"><a href="ranking.html#highlight-a-group"><i class="fa fa-check"></i><b>9.1.57</b> Highlight a Group</a></li>
<li class="chapter" data-level="9.1.58" data-path="ranking.html"><a href="ranking.html#lollipop-chart-with-conditional-color"><i class="fa fa-check"></i><b>9.1.58</b> Lollipop Chart with Conditional Color</a></li>
<li class="chapter" data-level="9.1.59" data-path="ranking.html"><a href="ranking.html#marker"><i class="fa fa-check"></i><b>9.1.59</b> Marker</a></li>
<li class="chapter" data-level="9.1.60" data-path="ranking.html"><a href="ranking.html#lollipop-chart-with-2-groups"><i class="fa fa-check"></i><b>9.1.60</b> Lollipop Chart with 2 Groups</a></li>
<li class="chapter" data-level="9.1.61" data-path="ranking.html"><a href="ranking.html#circular-barplot-with-groups"><i class="fa fa-check"></i><b>9.1.61</b> Circular Barplot with Groups</a></li>
<li class="chapter" data-level="9.1.62" data-path="ranking.html"><a href="ranking.html#add-a-gap-in-the-circle"><i class="fa fa-check"></i><b>9.1.62</b> Add a Gap in the Circle</a></li>
<li class="chapter" data-level="9.1.63" data-path="ranking.html"><a href="ranking.html#space-between-groups"><i class="fa fa-check"></i><b>9.1.63</b> Space between Groups</a></li>
<li class="chapter" data-level="9.1.64" data-path="ranking.html"><a href="ranking.html#order-bars"><i class="fa fa-check"></i><b>9.1.64</b> Order Bars</a></li>
<li class="chapter" data-level="9.1.65" data-path="ranking.html"><a href="ranking.html#circular-barchart-customization"><i class="fa fa-check"></i><b>9.1.65</b> Circular Barchart Customization</a></li>
<li class="chapter" data-level="9.1.66" data-path="evolution.html"><a href="evolution.html#what-is-stacking"><i class="fa fa-check"></i><b>9.1.66</b> What is Stacking</a></li>
<li class="chapter" data-level="9.1.67" data-path="general.html"><a href="general.html#example-optical-illusion"><i class="fa fa-check"></i><b>9.1.67</b> Example: Optical Illusion</a></li>
<li class="chapter" data-level="9.1.68" data-path="evolution.html"><a href="evolution.html#workaround"><i class="fa fa-check"></i><b>9.1.68</b> Workaround</a></li>
<li class="chapter" data-level="9.1.69" data-path="evolution.html"><a href="evolution.html#basic-stacked-area-chart-with-r"><i class="fa fa-check"></i><b>9.1.69</b> Basic Stacked area Chart with R</a></li>
<li class="chapter" data-level="9.1.70" data-path="evolution.html"><a href="evolution.html#most-basic-stacked-area-with-ggplot2"><i class="fa fa-check"></i><b>9.1.70</b> Most Basic Stacked Area with <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.71" data-path="evolution.html"><a href="evolution.html#control-stacking-order-with-ggplot2"><i class="fa fa-check"></i><b>9.1.71</b> Control Stacking Order with <code>ggplot2</code></a></li>
<li class="chapter" data-level="9.1.72" data-path="evolution.html"><a href="evolution.html#proportional-stacked-area-chart"><i class="fa fa-check"></i><b>9.1.72</b> Proportional Stacked Area Chart</a></li>
<li class="chapter" data-level="9.1.73" data-path="evolution.html"><a href="evolution.html#color-style"><i class="fa fa-check"></i><b>9.1.73</b> Color &amp; Style</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="general.html"><a href="general.html#data-art"><i class="fa fa-check"></i><b>9.2</b> Data Art</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="general.html"><a href="general.html#using-r-and-ggplot2-for-data-art."><i class="fa fa-check"></i><b>9.2.1</b> Using R and ggplot2 for Data Art.</a></li>
<li class="chapter" data-level="9.2.2" data-path="general.html"><a href="general.html#r-snail"><i class="fa fa-check"></i><b>9.2.2</b> R Snail</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="general.html"><a href="general.html#animation"><i class="fa fa-check"></i><b>9.3</b> Animation</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="general.html"><a href="general.html#animated-bubble-chart-with-r-and-gganimate"><i class="fa fa-check"></i><b>9.3.1</b> Animated Bubble Chart with R and <code>gganimate</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="general.html"><a href="general.html#animated-bubble-chart"><i class="fa fa-check"></i><b>9.3.2</b> Animated Bubble Chart</a></li>
<li class="chapter" data-level="9.3.3" data-path="general.html"><a href="general.html#use-small-multiple"><i class="fa fa-check"></i><b>9.3.3</b> Use Small Multiple</a></li>
<li class="chapter" data-level="9.3.4" data-path="general.html"><a href="general.html#smooth-barplot-transition"><i class="fa fa-check"></i><b>9.3.4</b> Smooth Barplot Transition</a></li>
<li class="chapter" data-level="9.3.5" data-path="general.html"><a href="general.html#progressive-line-chart-rendering"><i class="fa fa-check"></i><b>9.3.5</b> Progressive Line Chart Rendering</a></li>
<li class="chapter" data-level="9.3.6" data-path="general.html"><a href="general.html#concatenate-.png-images-with-image-magick"><i class="fa fa-check"></i><b>9.3.6</b> Concatenate <code>.png</code> Images with <code>Image Magick</code></a></li>
<li class="chapter" data-level="9.3.7" data-path="general.html"><a href="general.html#most-basic-animation-with-r-and-image-magick"><i class="fa fa-check"></i><b>9.3.7</b> Most Basic Animation with R and Image Magick</a></li>
<li class="chapter" data-level="9.3.8" data-path="general.html"><a href="general.html#animated-3d-chart-with-r"><i class="fa fa-check"></i><b>9.3.8</b> Animated 3d Chart with R</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="general.html"><a href="general.html#d-charts"><i class="fa fa-check"></i><b>9.4</b> 3D Charts</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="general.html"><a href="general.html#d-surface-plot-with-r-and-plotly"><i class="fa fa-check"></i><b>9.4.1</b> 3d Surface Plot with R and <code>plotly</code></a></li>
<li class="chapter" data-level="9.4.2" data-path="general.html"><a href="general.html#building-a-3d-knot-with-r-and-rgl"><i class="fa fa-check"></i><b>9.4.2</b> Building a 3D Knot with R and <code>rgl</code></a></li>
<li class="chapter" data-level="9.4.3" data-path="general.html"><a href="general.html#nifty-graph-a-3d-imitation-with-r"><i class="fa fa-check"></i><b>9.4.3</b> Nifty Graph: A 3d Imitation with R</a></li>
<li class="chapter" data-level="9.4.4" data-path="general.html"><a href="general.html#animated-3d-chart-with-r-1"><i class="fa fa-check"></i><b>9.4.4</b> Animated 3d Chart with R</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="general.html"><a href="general.html#interactive-charts"><i class="fa fa-check"></i><b>9.5</b> Interactive Charts</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="evolution.html"><a href="evolution.html#streamgraph-with-dropdown-button"><i class="fa fa-check"></i><b>9.5.1</b> Streamgraph with Dropdown Button</a></li>
<li class="chapter" data-level="9.5.2" data-path="general.html"><a href="general.html#interactive-chord-diagram-with-r"><i class="fa fa-check"></i><b>9.5.2</b> Interactive Chord Diagram with R</a></li>
<li class="chapter" data-level="9.5.3" data-path="general.html"><a href="general.html#interactive-network-chart-with-r"><i class="fa fa-check"></i><b>9.5.3</b> Interactive Network Chart with R</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="general.html"><a href="general.html#caveats"><i class="fa fa-check"></i><b>9.6</b> Caveats</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/kyle-w-brown" target="blank">Kyle W. Brown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R-Gallery-Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ranking" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Ranking</h1>
<hr />
<div class="figure" style="text-align: center"><span id="fig:wordcloud-ranking-intro-image"></span>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library4.png" alt="Wordcloud" width="50%" />
<p class="caption">
Figure 4.1: Wordcloud
</p>
</div>
<div id="barplot" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Barplot</h2>
<hr />
<p>Welcome to the <a href="https://www.data-to-viz.com/graph/barplot.html">barplot</a> section of the R graph gallery. A barplot is used to display the relationship between a numeric and a categorical variable. This section also include stacked barplot and grouped barplot where two levels of grouping are shown.</p>
<div id="step-by-step---ggplot2-and-geom_bar" class="section level4" number="4.1.0.1">
<h4><span class="header-section-number">4.1.0.1</span> Step by Step - <code>ggplot2</code> and <code>geom_bar()</code></h4>
<p><code>ggplot2</code> allows to build barplot thanks to the <code>geom_bar()</code> function. The examples below will guide you through the basics of this tool:</p>
</div>
<div id="basic-barplot-with-ggplot2" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Basic Barplot with Ggplot2</h3>
<p>This section explains how to draw barplots with <code>R</code> and <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a>, using the <code>geom_bar()</code> function. It starts with the most basic example and describes a few possible customizations.</p>
<div id="most-basic-barplot-with-geom_bar" class="section level4" number="4.1.1.1">
<h4><span class="header-section-number">4.1.1.1</span> Most basic barplot with <code>geom_bar()</code></h4>
<p>This is the most basic barplot you can build using the <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a> package. It follows those steps:</p>
<ul>
<li>Always start by calling the <code>ggplot()</code> function.</li>
<li>Then specify the <code>data</code> object. It has to be a data frame. And it needs one numeric and one categorical variable.</li>
<li>Then come thes aesthetics, set in the <code>aes()</code> function: set the categorical variable for the X axis, use the numeric for the Y axis</li>
<li>Finally call <code>geom_bar()</code>. You have to specify <code>stat="identity"</code> for this kind of dataset.</li>
</ul>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="ranking.html#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb200-2"><a href="ranking.html#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb200-3"><a href="ranking.html#cb200-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb200-4"><a href="ranking.html#cb200-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb200-5"><a href="ranking.html#cb200-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>,<span class="st">&quot;E&quot;</span>) ,  </span>
<span id="cb200-6"><a href="ranking.html#cb200-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">12</span>,<span class="dv">5</span>,<span class="dv">18</span>,<span class="dv">45</span>)</span>
<span id="cb200-7"><a href="ranking.html#cb200-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb200-8"><a href="ranking.html#cb200-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Barplot</span></span>
<span id="cb200-9"><a href="ranking.html#cb200-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb200-10"><a href="ranking.html#cb200-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-basic-1.png" width="672" /></p>
</div>
</div>
<div id="control-bar-color" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Control Bar Color</h3>
<p>Here are a few different methods to control bar colors. Note that using a legend in this case is not necessary since names are already displayed on the X axis. You can remove it with <code>theme(legend.position="none")</code>.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="ranking.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb201-2"><a href="ranking.html#cb201-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb201-3"><a href="ranking.html#cb201-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 1: uniform color. Color is for the border, fill is for the inside</span></span>
<span id="cb201-4"><a href="ranking.html#cb201-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(cyl) )) <span class="sc">+</span></span>
<span id="cb201-5"><a href="ranking.html#cb201-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">fill=</span><span class="fu">rgb</span>(<span class="fl">0.1</span>,<span class="fl">0.4</span>,<span class="fl">0.5</span>,<span class="fl">0.7</span>) )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-control-bar-color-1.png" width="672" /></p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="ranking.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2: Using Hue</span></span>
<span id="cb202-2"><a href="ranking.html#cb202-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(cyl), <span class="at">fill=</span><span class="fu">as.factor</span>(cyl) )) <span class="sc">+</span> </span>
<span id="cb202-3"><a href="ranking.html#cb202-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( ) <span class="sc">+</span></span>
<span id="cb202-4"><a href="ranking.html#cb202-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_hue</span>(<span class="at">c =</span> <span class="dv">40</span>) <span class="sc">+</span></span>
<span id="cb202-5"><a href="ranking.html#cb202-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-control-bar-color-2.png" width="672" /></p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="ranking.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3: Using RColorBrewer</span></span>
<span id="cb203-2"><a href="ranking.html#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(cyl), <span class="at">fill=</span><span class="fu">as.factor</span>(cyl) )) <span class="sc">+</span> </span>
<span id="cb203-3"><a href="ranking.html#cb203-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( ) <span class="sc">+</span></span>
<span id="cb203-4"><a href="ranking.html#cb203-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set1&quot;</span>) <span class="sc">+</span></span>
<span id="cb203-5"><a href="ranking.html#cb203-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-control-bar-color-3.png" width="672" /></p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="ranking.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4: Using greyscale:</span></span>
<span id="cb204-2"><a href="ranking.html#cb204-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(cyl), <span class="at">fill=</span><span class="fu">as.factor</span>(cyl) )) <span class="sc">+</span> </span>
<span id="cb204-3"><a href="ranking.html#cb204-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( ) <span class="sc">+</span></span>
<span id="cb204-4"><a href="ranking.html#cb204-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_grey</span>(<span class="at">start =</span> <span class="fl">0.25</span>, <span class="at">end =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb204-5"><a href="ranking.html#cb204-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-control-bar-color-4.png" width="672" /></p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="ranking.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 5: Set manualy</span></span>
<span id="cb205-2"><a href="ranking.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mtcars, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(cyl), <span class="at">fill=</span><span class="fu">as.factor</span>(cyl) )) <span class="sc">+</span>  </span>
<span id="cb205-3"><a href="ranking.html#cb205-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( ) <span class="sc">+</span></span>
<span id="cb205-4"><a href="ranking.html#cb205-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>) ) <span class="sc">+</span></span>
<span id="cb205-5"><a href="ranking.html#cb205-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-control-bar-color-5.png" width="672" /></p>
</div>
<div id="horizontal-barplot-with-coord_flip" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Horizontal Barplot with <code>coord_flip()</code></h3>
<p>It often makes sense to turn your <a href="https://www.r-graph-gallery.com/barplot.htmlv">barplot</a> horizontal. Indeed, it makes the group labels much easier to read. Fortunately, the <code>coord_flip()</code> function makes it a breeze.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="ranking.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb206-2"><a href="ranking.html#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb206-3"><a href="ranking.html#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb206-4"><a href="ranking.html#cb206-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb206-5"><a href="ranking.html#cb206-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>,<span class="st">&quot;E&quot;</span>) ,  </span>
<span id="cb206-6"><a href="ranking.html#cb206-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">12</span>,<span class="dv">5</span>,<span class="dv">18</span>,<span class="dv">45</span>)</span>
<span id="cb206-7"><a href="ranking.html#cb206-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb206-8"><a href="ranking.html#cb206-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Barplot</span></span>
<span id="cb206-9"><a href="ranking.html#cb206-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb206-10"><a href="ranking.html#cb206-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb206-11"><a href="ranking.html#cb206-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horiz-barplot-1.png" width="672" /></p>
</div>
<div id="control-bar-width-with-width" class="section level3" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Control Bar Width with <code>width</code></h3>
<p>The <code>width</code> argument of the <code>geom_bar()</code> function allows to control the bar width. It ranges between 0 and 1, 1 being full width.</p>
<p>See how this can be used to make bar charts with <a href="https://www.r-graph-gallery.com/81-barplot-with-variable-width.html">variable width</a>.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="ranking.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb207-2"><a href="ranking.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb207-3"><a href="ranking.html#cb207-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb207-4"><a href="ranking.html#cb207-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb207-5"><a href="ranking.html#cb207-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;D&quot;</span>,<span class="st">&quot;E&quot;</span>) ,  </span>
<span id="cb207-6"><a href="ranking.html#cb207-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">12</span>,<span class="dv">5</span>,<span class="dv">18</span>,<span class="dv">45</span>)</span>
<span id="cb207-7"><a href="ranking.html#cb207-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb207-8"><a href="ranking.html#cb207-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Barplot</span></span>
<span id="cb207-9"><a href="ranking.html#cb207-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb207-10"><a href="ranking.html#cb207-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">width=</span><span class="fl">0.2</span>) </span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-control-bar-width-1.png" width="672" /></p>
<div id="whats-next" class="section level4" number="4.1.4.1">
<h4><span class="header-section-number">4.1.4.1</span> Whats next?</h4>
<p>This section was an overview of ggplot2 <a href="https://www.r-graph-gallery.com/barplot.html">barplots</a>, showing the basic options of <code>geom_barplot()</code>. Visit the barplot section for more:</p>
<ul>
<li>How to <a href="https://www.r-graph-gallery.com/267-reorder-a-variable-in-ggplot2.html">reorder</a> your barplot</li>
<li>How to use <a href="https://www.r-graph-gallery.com/81-barplot-with-variable-width.html">variable bar width</a></li>
<li>What about <a href="https://www.r-graph-gallery.com/4-barplot-with-error-bar.html">error bars</a></li>
<li>Circular <a href="https://www.r-graph-gallery.com/circular-barplot.html">barplots</a></li>
</ul>
</div>
</div>
<div id="reorder-a-variable-with-ggplot2" class="section level3" number="4.1.5">
<h3><span class="header-section-number">4.1.5</span> Reorder a Variable with Ggplot2</h3>
<p>This section describes how to reorder a variable in a <code>ggplot2</code> chart. Several methods are suggested, always providing examples with reproducible code chunks.</p>
<p>Reordering groups in a ggplot2 chart can be a struggle. This is due to the fact that <code>ggplot2</code> takes into account the order of the <code>factor</code> levels, not the order you observe in your data frame. You can sort your input data frame with <code>sort()</code> or <code>arrange()</code>, it will never have any impact on your <code>ggplot2</code> output.</p>
<p>This section explains how to reorder the level of your factor through several examples. Examples are based on 2 dummy datasets:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="ranking.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb208-2"><a href="ranking.html#cb208-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb208-3"><a href="ranking.html#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb208-4"><a href="ranking.html#cb208-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataset 1: one value per group</span></span>
<span id="cb208-5"><a href="ranking.html#cb208-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb208-6"><a href="ranking.html#cb208-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">c</span>(<span class="st">&quot;north&quot;</span>,<span class="st">&quot;south&quot;</span>,<span class="st">&quot;south-east&quot;</span>,<span class="st">&quot;north-west&quot;</span>,<span class="st">&quot;south-west&quot;</span>,<span class="st">&quot;north-east&quot;</span>,<span class="st">&quot;west&quot;</span>,<span class="st">&quot;east&quot;</span>),</span>
<span id="cb208-7"><a href="ranking.html#cb208-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">val=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>), <span class="dv">8</span> )</span>
<span id="cb208-8"><a href="ranking.html#cb208-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb208-9"><a href="ranking.html#cb208-9" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb208-10"><a href="ranking.html#cb208-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataset 2: several values per group (natively provided in R)</span></span>
<span id="cb208-11"><a href="ranking.html#cb208-11" aria-hidden="true" tabindex="-1"></a><span class="co"># mpg</span></span></code></pre></div>
</div>
<div id="method-1-the-forecats-library" class="section level3" number="4.1.6">
<h3><span class="header-section-number">4.1.6</span> Method 1: the <code>Forecats</code> Library</h3>
<p>The <a href="https://github.com/tidyverse/forcats">Forecats library</a> is a library from the <a href="https://www.tidyverse.org/">tidyverse</a> especially made to handle factors in R. It provides a suite of useful tools that solve common problems with factors. The <code>fact_reorder()</code> function allows to reorder the factor (<code>data$name</code> for example) following the value of another column (<code>data$val</code> here)..</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="ranking.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the library</span></span>
<span id="cb209-2"><a href="ranking.html#cb209-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb209-3"><a href="ranking.html#cb209-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder following the value of another column:</span></span>
<span id="cb209-4"><a href="ranking.html#cb209-4" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb209-5"><a href="ranking.html#cb209-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">fct_reorder</span>(name, val)) <span class="sc">%&gt;%</span></span>
<span id="cb209-6"><a href="ranking.html#cb209-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>val)) <span class="sc">+</span></span>
<span id="cb209-7"><a href="ranking.html#cb209-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;#f68060&quot;</span>, <span class="at">alpha=</span>.<span class="dv">6</span>, <span class="at">width=</span>.<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb209-8"><a href="ranking.html#cb209-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb209-9"><a href="ranking.html#cb209-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb209-10"><a href="ranking.html#cb209-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-forecats-library-reorder-1.png" width="672" /></p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="ranking.html#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reverse side</span></span>
<span id="cb210-2"><a href="ranking.html#cb210-2" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb210-3"><a href="ranking.html#cb210-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">fct_reorder</span>(name, <span class="fu">desc</span>(val))) <span class="sc">%&gt;%</span></span>
<span id="cb210-4"><a href="ranking.html#cb210-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>val)) <span class="sc">+</span></span>
<span id="cb210-5"><a href="ranking.html#cb210-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;#f68060&quot;</span>, <span class="at">alpha=</span>.<span class="dv">6</span>, <span class="at">width=</span>.<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb210-6"><a href="ranking.html#cb210-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb210-7"><a href="ranking.html#cb210-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb210-8"><a href="ranking.html#cb210-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-forecats-library-reorder-2.png" width="672" /></p>
<p>If you have several values per level of your factor, you can specify which function to apply to determine the order. The default is to use the median, but you can use the number of data points per group to make the classification:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="ranking.html#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using median</span></span>
<span id="cb211-2"><a href="ranking.html#cb211-2" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span></span>
<span id="cb211-3"><a href="ranking.html#cb211-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">fct_reorder</span>(class, hwy, <span class="at">.fun=</span><span class="st">&#39;median&#39;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb211-4"><a href="ranking.html#cb211-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(class, hwy), <span class="at">y=</span>hwy, <span class="at">fill=</span>class)) <span class="sc">+</span> </span>
<span id="cb211-5"><a href="ranking.html#cb211-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb211-6"><a href="ranking.html#cb211-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;class&quot;</span>) <span class="sc">+</span></span>
<span id="cb211-7"><a href="ranking.html#cb211-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb211-8"><a href="ranking.html#cb211-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-several-values-per-level-1.png" width="672" /></p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="ranking.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using number of observation per group</span></span>
<span id="cb212-2"><a href="ranking.html#cb212-2" aria-hidden="true" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span></span>
<span id="cb212-3"><a href="ranking.html#cb212-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">fct_reorder</span>(class, hwy, <span class="at">.fun=</span><span class="st">&#39;length&#39;</span> )) <span class="sc">%&gt;%</span></span>
<span id="cb212-4"><a href="ranking.html#cb212-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>class, <span class="at">y=</span>hwy, <span class="at">fill=</span>class)) <span class="sc">+</span> </span>
<span id="cb212-5"><a href="ranking.html#cb212-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb212-6"><a href="ranking.html#cb212-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;class&quot;</span>) <span class="sc">+</span></span>
<span id="cb212-7"><a href="ranking.html#cb212-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb212-8"><a href="ranking.html#cb212-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb212-9"><a href="ranking.html#cb212-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-several-values-per-level-2.png" width="672" /></p>
<p>The last common operation is to provide a specific order to your levels, you can do so using the <code>fct_relevel()</code> function as follow:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="ranking.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder following a precise order</span></span>
<span id="cb213-2"><a href="ranking.html#cb213-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb213-3"><a href="ranking.html#cb213-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">fct_relevel</span>(name, </span>
<span id="cb213-4"><a href="ranking.html#cb213-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;north&quot;</span>, <span class="st">&quot;north-east&quot;</span>, <span class="st">&quot;east&quot;</span>, </span>
<span id="cb213-5"><a href="ranking.html#cb213-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;south-east&quot;</span>, <span class="st">&quot;south&quot;</span>, <span class="st">&quot;south-west&quot;</span>, </span>
<span id="cb213-6"><a href="ranking.html#cb213-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;west&quot;</span>, <span class="st">&quot;north-west&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb213-7"><a href="ranking.html#cb213-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>val)) <span class="sc">+</span></span>
<span id="cb213-8"><a href="ranking.html#cb213-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb213-9"><a href="ranking.html#cb213-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span>
<span id="cb213-10"><a href="ranking.html#cb213-10" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-specific-order-levels-1.png" width="672" /></p>
</div>
<div id="method-2-using-dplyr-only" class="section level3" number="4.1.7">
<h3><span class="header-section-number">4.1.7</span> Method 2: Using <code>dplyr</code> Only</h3>
<p>The <code>mutate()</code> function of <code>dplyr</code> allows to create a new variable or modify an existing one. It is possible to use it to recreate a factor with a specific order. Here are 2 examples:</p>
<ul>
<li>The first use a<code>rrange()</code> to sort your data frame, and reorder the factor following this desired order.</li>
<li>The second specifies a custom order for the factor giving the levels one by one.</li>
</ul>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="ranking.html#cb214-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb214-2"><a href="ranking.html#cb214-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(val) <span class="sc">%&gt;%</span>    <span class="co"># First sort by val. This sort the dataframe but NOT the factor levels</span></span>
<span id="cb214-3"><a href="ranking.html#cb214-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name=</span><span class="fu">factor</span>(name, <span class="at">levels=</span>name)) <span class="sc">%&gt;%</span>   <span class="co"># This trick update the factor levels</span></span>
<span id="cb214-4"><a href="ranking.html#cb214-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>val)) <span class="sc">+</span></span>
<span id="cb214-5"><a href="ranking.html#cb214-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">xend=</span>name, <span class="at">yend=</span><span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb214-6"><a href="ranking.html#cb214-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>( <span class="at">size=</span><span class="dv">4</span>, <span class="at">color=</span><span class="st">&quot;orange&quot;</span>) <span class="sc">+</span></span>
<span id="cb214-7"><a href="ranking.html#cb214-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb214-8"><a href="ranking.html#cb214-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb214-9"><a href="ranking.html#cb214-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-dplyr-mutate-sort-custom-order-levels-1.png" width="672" /></p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="ranking.html#cb215-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb215-2"><a href="ranking.html#cb215-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(val) <span class="sc">%&gt;%</span></span>
<span id="cb215-3"><a href="ranking.html#cb215-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">factor</span>(name, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">&quot;north&quot;</span>, <span class="st">&quot;north-east&quot;</span>, <span class="st">&quot;east&quot;</span>, <span class="st">&quot;south-east&quot;</span>, <span class="st">&quot;south&quot;</span>, <span class="st">&quot;south-west&quot;</span>, <span class="st">&quot;west&quot;</span>, <span class="st">&quot;north-west&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb215-4"><a href="ranking.html#cb215-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>val)) <span class="sc">+</span></span>
<span id="cb215-5"><a href="ranking.html#cb215-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">xend=</span>name, <span class="at">yend=</span><span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb215-6"><a href="ranking.html#cb215-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>( <span class="at">size=</span><span class="dv">4</span>, <span class="at">color=</span><span class="st">&quot;orange&quot;</span>) <span class="sc">+</span></span>
<span id="cb215-7"><a href="ranking.html#cb215-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb215-8"><a href="ranking.html#cb215-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-dplyr-mutate-sort-custom-order-levels-2.png" width="672" /></p>
</div>
<div id="method-3-the-reorder-function-of-base-r" class="section level3" number="4.1.8">
<h3><span class="header-section-number">4.1.8</span> Method 3: the <code>reorder()</code> Function of Base R</h3>
<p>In case your an unconditional user of the good old R, here is how to control the order using the <code>reorder()</code> function inside a <code>with()</code> call:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="ranking.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reorder is close to order, but is made to change the order of the factor levels.</span></span>
<span id="cb216-2"><a href="ranking.html#cb216-2" aria-hidden="true" tabindex="-1"></a>mpg<span class="sc">$</span>class <span class="ot">=</span> <span class="fu">with</span>(mpg, <span class="fu">reorder</span>(class, hwy, median))</span>
<span id="cb216-3"><a href="ranking.html#cb216-3" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> mpg <span class="sc">%&gt;%</span></span>
<span id="cb216-4"><a href="ranking.html#cb216-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>class, <span class="at">y=</span>hwy, <span class="at">fill=</span>class)) <span class="sc">+</span> </span>
<span id="cb216-5"><a href="ranking.html#cb216-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb216-6"><a href="ranking.html#cb216-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;class&quot;</span>) <span class="sc">+</span></span>
<span id="cb216-7"><a href="ranking.html#cb216-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb216-8"><a href="ranking.html#cb216-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span>
<span id="cb216-9"><a href="ranking.html#cb216-9" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-dplyr-reorder-with-1.png" width="672" /></p>
</div>
<div id="barplot-with-variable-width---ggplot2" class="section level3" number="4.1.9">
<h3><span class="header-section-number">4.1.9</span> Barplot with Variable Width - Ggplot2</h3>
<p>This section explains how to draw a <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a> with variable bar width using <code>R</code> and <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a>. It can be useful to represent the sample size available behind each group.</p>
<p>This example shows how to customize bar width in your barchart. It can be used to show the sample size hidden between each category.</p>
<p>It is not possible to draw that kind of chart using <code>geom_bar()</code> directly. You need to compute manually the position of each bar extremity using the <code>cumsum()</code> function, and plot the result using <code>geom_rect()</code>.</p>
<p><u>Note</u>: if you know what the distribution behind each bar is, dont do a barplot, <a href="https://www.data-to-viz.com/caveat/error_bar.html">show it</a>.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="ranking.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb217-2"><a href="ranking.html#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb217-3"><a href="ranking.html#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes) <span class="co"># for style</span></span>
<span id="cb217-4"><a href="ranking.html#cb217-4" aria-hidden="true" tabindex="-1"></a><span class="co"># make data</span></span>
<span id="cb217-5"><a href="ranking.html#cb217-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb217-6"><a href="ranking.html#cb217-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">group=</span><span class="fu">c</span>(<span class="st">&quot;A &quot;</span>,<span class="st">&quot;B &quot;</span>,<span class="st">&quot;C &quot;</span>,<span class="st">&quot;D &quot;</span>) , </span>
<span id="cb217-7"><a href="ranking.html#cb217-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">c</span>(<span class="dv">33</span>,<span class="dv">62</span>,<span class="dv">56</span>,<span class="dv">67</span>) , </span>
<span id="cb217-8"><a href="ranking.html#cb217-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">number_of_obs=</span><span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">500</span>,<span class="dv">459</span>,<span class="dv">342</span>)</span>
<span id="cb217-9"><a href="ranking.html#cb217-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb217-10"><a href="ranking.html#cb217-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb217-11"><a href="ranking.html#cb217-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the future positions on the x axis of each bar (left border, central position, right border)</span></span>
<span id="cb217-12"><a href="ranking.html#cb217-12" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>right <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(data<span class="sc">$</span>number_of_obs) <span class="sc">+</span> <span class="dv">30</span><span class="sc">*</span><span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span>(<span class="fu">nrow</span>(data)<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb217-13"><a href="ranking.html#cb217-13" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>left <span class="ot">&lt;-</span> data<span class="sc">$</span>right <span class="sc">-</span> data<span class="sc">$</span>number_of_obs </span>
<span id="cb217-14"><a href="ranking.html#cb217-14" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb217-15"><a href="ranking.html#cb217-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb217-16"><a href="ranking.html#cb217-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">ymin =</span> <span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb217-17"><a href="ranking.html#cb217-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_rect</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> left, <span class="at">xmax =</span> right, <span class="at">ymax =</span> value, <span class="at">colour =</span> group, <span class="at">fill =</span> group)) <span class="sc">+</span></span>
<span id="cb217-18"><a href="ranking.html#cb217-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;number of obs&quot;</span>) <span class="sc">+</span> </span>
<span id="cb217-19"><a href="ranking.html#cb217-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;value&quot;</span>) <span class="sc">+</span></span>
<span id="cb217-20"><a href="ranking.html#cb217-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span></span>
<span id="cb217-21"><a href="ranking.html#cb217-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>) </span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-variable-width-1.png" width="672" /></p>
</div>
<div id="barplot-with-error-bars" class="section level3" number="4.1.10">
<h3><span class="header-section-number">4.1.10</span> Barplot with Error Bars</h3>
<p>This section describes how to add error bars on your <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a> using R. Both <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a> and base R solutions are considered. A focus on different types of error bar calculation is made.</p>
<div id="the-geom_errorbar-function" class="section level4" number="4.1.10.1">
<h4><span class="header-section-number">4.1.10.1</span> The <code>geom_errorbar()</code> Function</h4>
<p>Error bars give a general idea of how precise a measurement is, or conversely, how far from the reported value the true (error free) value might be. If the value displayed on your <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a> is the result of an aggregation (like the mean value of several data points), you may want to display error bars.</p>
<p>To understand how to build it, you first need to understand how to build a <a href="https://www.r-graph-gallery.com/218-basic-barplots-with-ggplot2.html">basic barplot</a> with R. Then, you just it to add an extra layer using the <code>geom_errorbar()</code> function.</p>
<p>The function takes at least 3 arguments in its aesthetics:</p>
<ul>
<li><code>ymin</code> and <code>ymax</code>: position of the bottom and the top of the error bar respectively</li>
<li><code>x</code>: position on the X axis</li>
</ul>
<p><u>Note</u>: the lower and upper limits of your error bars must be computed before building the chart, and available in a column of the input data.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="ranking.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb218-2"><a href="ranking.html#cb218-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb218-3"><a href="ranking.html#cb218-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb218-4"><a href="ranking.html#cb218-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb218-5"><a href="ranking.html#cb218-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb218-6"><a href="ranking.html#cb218-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>),</span>
<span id="cb218-7"><a href="ranking.html#cb218-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">0.2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>)</span>
<span id="cb218-8"><a href="ranking.html#cb218-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb218-9"><a href="ranking.html#cb218-9" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb218-10"><a href="ranking.html#cb218-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Most basic error bar</span></span>
<span id="cb218-11"><a href="ranking.html#cb218-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb218-12"><a href="ranking.html#cb218-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb218-13"><a href="ranking.html#cb218-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-error-bars-basic-1.png" width="672" /></p>
</div>
</div>
<div id="customization" class="section level3" number="4.1.11">
<h3><span class="header-section-number">4.1.11</span> Customization</h3>
<p>It is possible to change error bar types thanks to similar function: <code>geom_crossbar()</code>, <code>geom_linerange()</code> and <code>geom_pointrange()</code>. Those functions works basically the same as the most common <code>geom_errorbar()</code>.</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="ranking.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb219-2"><a href="ranking.html#cb219-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb219-3"><a href="ranking.html#cb219-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb219-4"><a href="ranking.html#cb219-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb219-5"><a href="ranking.html#cb219-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb219-6"><a href="ranking.html#cb219-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>),</span>
<span id="cb219-7"><a href="ranking.html#cb219-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">0.2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>)</span>
<span id="cb219-8"><a href="ranking.html#cb219-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb219-9"><a href="ranking.html#cb219-9" aria-hidden="true" tabindex="-1"></a><span class="co"># rectangle</span></span>
<span id="cb219-10"><a href="ranking.html#cb219-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb219-11"><a href="ranking.html#cb219-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb219-12"><a href="ranking.html#cb219-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_crossbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-custom-error-bar-types-1.png" width="672" /></p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="ranking.html#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="co"># line</span></span>
<span id="cb220-2"><a href="ranking.html#cb220-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb220-3"><a href="ranking.html#cb220-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb220-4"><a href="ranking.html#cb220-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_linerange</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-custom-error-bar-types-2.png" width="672" /></p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="ranking.html#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="co"># line + dot</span></span>
<span id="cb221-2"><a href="ranking.html#cb221-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb221-3"><a href="ranking.html#cb221-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb221-4"><a href="ranking.html#cb221-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-custom-error-bar-types-3.png" width="672" /></p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="ranking.html#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># horizontal</span></span>
<span id="cb222-2"><a href="ranking.html#cb222-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb222-3"><a href="ranking.html#cb222-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb222-4"><a href="ranking.html#cb222-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>) <span class="sc">+</span></span>
<span id="cb222-5"><a href="ranking.html#cb222-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-custom-error-bar-types-4.png" width="672" /></p>
</div>
<div id="basic-r-and-the-barplot-function" class="section level3" number="4.1.12">
<h3><span class="header-section-number">4.1.12</span> Basic R and the <code>barplot()</code> Function</h3>
<p>Basic R can build quality barplots thanks to the <code>barplot()</code> function. Here is a list of examples guiding you through the most common customization you will need.</p>
<div id="most-basic-barplot" class="section level4" number="4.1.12.1">
<h4><span class="header-section-number">4.1.12.1</span> Most Basic Barplot</h4>
<p>This section describes how to build a basic barplot with R, without any packages, using the <code>barplot()</code> function. In R, a barplot is computed using the <code>barplot()</code> function.</p>
<p>Here is the most basic example you can do. The input data is a data frame with 2 columns. value is used for bar height, name is used as category label.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="ranking.html#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb223-2"><a href="ranking.html#cb223-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb223-3"><a href="ranking.html#cb223-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb223-4"><a href="ranking.html#cb223-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb223-5"><a href="ranking.html#cb223-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb223-6"><a href="ranking.html#cb223-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The most basic barplot you can do:</span></span>
<span id="cb223-7"><a href="ranking.html#cb223-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplots-base-r-1.png" width="672" /></p>
</div>
</div>
<div id="custom-color" class="section level3" number="4.1.13">
<h3><span class="header-section-number">4.1.13</span> Custom Color</h3>
<p>Here are 2 examples showing how to custom the barplot color:</p>
<ul>
<li>Uniform color with col, asking one color only.</li>
<li>Using a palette coming from <code>RColorBrewer</code>.</li>
<li>Change border color with the border argument.</li>
</ul>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="ranking.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb224-2"><a href="ranking.html#cb224-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb224-3"><a href="ranking.html#cb224-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb224-4"><a href="ranking.html#cb224-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb224-5"><a href="ranking.html#cb224-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb224-6"><a href="ranking.html#cb224-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Uniform color</span></span>
<span id="cb224-7"><a href="ranking.html#cb224-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, <span class="at">col=</span><span class="fu">rgb</span>(<span class="fl">0.2</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>,<span class="fl">0.6</span>) )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-base-r-custom-color-1.png" width="672" /></p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="ranking.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specific color for each bar? Use a well known palette</span></span>
<span id="cb225-2"><a href="ranking.html#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb225-3"><a href="ranking.html#cb225-3" aria-hidden="true" tabindex="-1"></a>coul <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">5</span>, <span class="st">&quot;Set2&quot;</span>) </span>
<span id="cb225-4"><a href="ranking.html#cb225-4" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, <span class="at">col=</span>coul )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-base-r-custom-color-2.png" width="672" /></p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="ranking.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change border color</span></span>
<span id="cb226-2"><a href="ranking.html#cb226-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, <span class="at">border=</span><span class="st">&quot;#69b3a2&quot;</span>, <span class="at">col=</span><span class="st">&quot;white&quot;</span> )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-base-r-custom-color-3.png" width="672" /></p>
</div>
<div id="title-axis-label-custom-limits" class="section level3" number="4.1.14">
<h3><span class="header-section-number">4.1.14</span> Title, Axis label, Custom Limits</h3>
<p>Usual customizations with <strong>xlab</strong>, <strong>ylab</strong>, <strong>main</strong> and <strong>ylim</strong>.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="ranking.html#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb227-2"><a href="ranking.html#cb227-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb227-3"><a href="ranking.html#cb227-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb227-4"><a href="ranking.html#cb227-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb227-5"><a href="ranking.html#cb227-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb227-6"><a href="ranking.html#cb227-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Uniform color</span></span>
<span id="cb227-7"><a href="ranking.html#cb227-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, </span>
<span id="cb227-8"><a href="ranking.html#cb227-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span><span class="fu">rgb</span>(<span class="fl">0.8</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.6</span>),</span>
<span id="cb227-9"><a href="ranking.html#cb227-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">&quot;categories&quot;</span>, </span>
<span id="cb227-10"><a href="ranking.html#cb227-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab=</span><span class="st">&quot;values&quot;</span>, </span>
<span id="cb227-11"><a href="ranking.html#cb227-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">main=</span><span class="st">&quot;My title&quot;</span>, </span>
<span id="cb227-12"><a href="ranking.html#cb227-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">40</span>)</span>
<span id="cb227-13"><a href="ranking.html#cb227-13" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-custom-title-axis-label-limits-1.png" width="672" /></p>
</div>
<div id="horizontal-barplot" class="section level3" number="4.1.15">
<h3><span class="header-section-number">4.1.15</span> Horizontal Barplot</h3>
<p>Usual customization with <strong>xlab</strong>, <strong>ylab</strong>, <strong>main</strong> and <strong>ylim</strong>.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="ranking.html#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb228-2"><a href="ranking.html#cb228-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb228-3"><a href="ranking.html#cb228-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb228-4"><a href="ranking.html#cb228-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb228-5"><a href="ranking.html#cb228-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb228-6"><a href="ranking.html#cb228-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Uniform color</span></span>
<span id="cb228-7"><a href="ranking.html#cb228-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, </span>
<span id="cb228-8"><a href="ranking.html#cb228-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span><span class="st">&quot;#69b3a2&quot;</span>,</span>
<span id="cb228-9"><a href="ranking.html#cb228-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">horiz=</span>T, <span class="at">las=</span><span class="dv">1</span></span>
<span id="cb228-10"><a href="ranking.html#cb228-10" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-custom-width-ylab-main-1.png" width="672" /></p>
</div>
<div id="bar-width-space-between-bars" class="section level3" number="4.1.16">
<h3><span class="header-section-number">4.1.16</span> Bar Width &amp; Space between Bars</h3>
<p>It is possible to control the space between bars and the width of the bars using space and width.</p>
<p>Can be useful to represent the number of value behind each bar.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="ranking.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb229-2"><a href="ranking.html#cb229-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb229-3"><a href="ranking.html#cb229-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb229-4"><a href="ranking.html#cb229-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb229-5"><a href="ranking.html#cb229-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb229-6"><a href="ranking.html#cb229-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Control space:</span></span>
<span id="cb229-7"><a href="ranking.html#cb229-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, <span class="at">col=</span><span class="fu">rgb</span>(<span class="fl">0.2</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>,<span class="fl">0.6</span>), <span class="at">space=</span><span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">0.2</span>,<span class="dv">3</span>,<span class="fl">1.5</span>,<span class="fl">0.3</span>) )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-width-space-between-bars-1.png" width="672" /></p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="ranking.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Control width:</span></span>
<span id="cb230-2"><a href="ranking.html#cb230-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, <span class="at">col=</span><span class="fu">rgb</span>(<span class="fl">0.2</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>,<span class="fl">0.6</span>), <span class="at">width=</span><span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">0.2</span>,<span class="dv">3</span>,<span class="fl">1.5</span>,<span class="fl">0.3</span>) )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-width-space-between-bars-2.png" width="672" /></p>
</div>
<div id="barplot-texture" class="section level3" number="4.1.17">
<h3><span class="header-section-number">4.1.17</span> Barplot Texture</h3>
<p>Change bar texture with the density and angle arguments.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="ranking.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb231-2"><a href="ranking.html#cb231-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb231-3"><a href="ranking.html#cb231-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb231-4"><a href="ranking.html#cb231-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb231-5"><a href="ranking.html#cb231-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb231-6"><a href="ranking.html#cb231-6" aria-hidden="true" tabindex="-1"></a><span class="co"># barplot</span></span>
<span id="cb231-7"><a href="ranking.html#cb231-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>( <span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name , <span class="at">density=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">7</span>) , <span class="at">angle=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">45</span>,<span class="dv">90</span>,<span class="dv">11</span>,<span class="dv">36</span>) , <span class="at">col=</span><span class="st">&quot;brown&quot;</span>   )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-density-angle-texture-1.png" width="672" /></p>
</div>
<div id="advanced-r-barplot-customization" class="section level3" number="4.1.18">
<h3><span class="header-section-number">4.1.18</span> Advanced R Barplot Customization</h3>
<p>Take your base R barplot to the next step: modify axis, label orientation, margins, and more.</p>
<div id="start-basic-barplot-function" class="section level4" number="4.1.18.1">
<h4><span class="header-section-number">4.1.18.1</span> Start Basic: <code>barplot()</code> Function</h4>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="ranking.html#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb232-2"><a href="ranking.html#cb232-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb232-3"><a href="ranking.html#cb232-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb232-4"><a href="ranking.html#cb232-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb232-5"><a href="ranking.html#cb232-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb232-6"><a href="ranking.html#cb232-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The most basic barplot you can do:</span></span>
<span id="cb232-7"><a href="ranking.html#cb232-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, <span class="at">col=</span><span class="st">&quot;#69b3a2&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-advanced-axis-label-margins-1.png" width="672" /></p>
</div>
</div>
<div id="axis-labels-orientation-with-las" class="section level3" number="4.1.19">
<h3><span class="header-section-number">4.1.19</span> Axis Labels Orientation with <code>las()</code></h3>
<p>The las argument allows to change the orientation of the axis labels:</p>
<ul>
<li><strong>0</strong>: always parallel to the axis</li>
<li><strong>1</strong>: always horizontal</li>
<li><strong>2</strong>: always perpendicular to the axis</li>
<li><strong>3</strong>: always vertical.</li>
</ul>
<p>This is specially helpful for horizontal bar chart.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="ranking.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb233-2"><a href="ranking.html#cb233-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb233-3"><a href="ranking.html#cb233-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb233-4"><a href="ranking.html#cb233-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb233-5"><a href="ranking.html#cb233-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb233-6"><a href="ranking.html#cb233-6" aria-hidden="true" tabindex="-1"></a><span class="co"># The most basic barplot you can do:</span></span>
<span id="cb233-7"><a href="ranking.html#cb233-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, <span class="at">col=</span><span class="st">&quot;#69b3a2&quot;</span>, <span class="at">horiz=</span>T , <span class="at">las=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-axis-label-orientation-las-1.png" width="672" /></p>
</div>
<div id="change-group-labels-with-names.arg" class="section level3" number="4.1.20">
<h3><span class="header-section-number">4.1.20</span> Change Group Labels with <strong>names.arg</strong></h3>
<p>Change the group names using the <strong>names.arg</strong> argument. The vector you provide must be the same length as the number of categories.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="ranking.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb234-2"><a href="ranking.html#cb234-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb234-3"><a href="ranking.html#cb234-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb234-4"><a href="ranking.html#cb234-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb234-5"><a href="ranking.html#cb234-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb234-6"><a href="ranking.html#cb234-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Uniform color</span></span>
<span id="cb234-7"><a href="ranking.html#cb234-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;group1&quot;</span>,<span class="st">&quot;group2&quot;</span>,<span class="st">&quot;group3&quot;</span>,<span class="st">&quot;group4&quot;</span>,<span class="st">&quot;group5&quot;</span>), <span class="at">col=</span><span class="st">&quot;#69b3a2&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-change-group-labels-1.png" width="672" /></p>
</div>
<div id="axis-labels-axis-title-style" class="section level3" number="4.1.21">
<h3><span class="header-section-number">4.1.21</span> Axis Labels &amp; Axis Title Style</h3>
<p>Customize the labels:</p>
<ul>
<li><strong>font.axis</strong>: font: 1: normal, 2: bold, 3: italic, 4: bold italic</li>
<li><strong>col.axis</strong>: color</li>
<li><strong>cex.axis</strong>: size</li>
</ul>
<p>Customize axis title:</p>
<ul>
<li><strong>font.lab</strong></li>
<li><strong>col.lab</strong></li>
<li><strong>cex.lab</strong></li>
</ul>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="ranking.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb235-2"><a href="ranking.html#cb235-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb235-3"><a href="ranking.html#cb235-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb235-4"><a href="ranking.html#cb235-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb235-5"><a href="ranking.html#cb235-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb235-6"><a href="ranking.html#cb235-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize labels (left)</span></span>
<span id="cb235-7"><a href="ranking.html#cb235-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, </span>
<span id="cb235-8"><a href="ranking.html#cb235-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;group1&quot;</span>,<span class="st">&quot;group2&quot;</span>,<span class="st">&quot;group3&quot;</span>,<span class="st">&quot;group4&quot;</span>,<span class="st">&quot;group5&quot;</span>), </span>
<span id="cb235-9"><a href="ranking.html#cb235-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">font.axis=</span><span class="dv">2</span>, </span>
<span id="cb235-10"><a href="ranking.html#cb235-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.axis=</span><span class="st">&quot;orange&quot;</span>, </span>
<span id="cb235-11"><a href="ranking.html#cb235-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.axis=</span><span class="fl">1.5</span> </span>
<span id="cb235-12"><a href="ranking.html#cb235-12" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-axis-label-and-axis-title-style-1.png" width="672" /></p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="ranking.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize title (right)</span></span>
<span id="cb236-2"><a href="ranking.html#cb236-2" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value, <span class="at">names=</span>data<span class="sc">$</span>name, </span>
<span id="cb236-3"><a href="ranking.html#cb236-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">&quot;category&quot;</span>, </span>
<span id="cb236-4"><a href="ranking.html#cb236-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">font.lab=</span><span class="dv">2</span>, </span>
<span id="cb236-5"><a href="ranking.html#cb236-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">col.lab=</span><span class="st">&quot;orange&quot;</span>, </span>
<span id="cb236-6"><a href="ranking.html#cb236-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">cex.lab=</span><span class="dv">2</span>  </span>
<span id="cb236-7"><a href="ranking.html#cb236-7" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-axis-label-and-axis-title-style-2.png" width="672" /></p>
</div>
<div id="increase-margin-size" class="section level3" number="4.1.22">
<h3><span class="header-section-number">4.1.22</span> Increase Margin Size</h3>
<p>If your group names are long, you need to:</p>
<ul>
<li>Rotate them to avoid overlapping. This is done with las</li>
<li>Increase bottom margin size using the mar parameter of the <code>par()</code> function. Four values are provided: <strong>bottom</strong>, <strong>left</strong>, <strong>top</strong>, <strong>right</strong> respectively.</li>
</ul>
<p>Note: prefer a horizontal barplot in this case.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="ranking.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb237-2"><a href="ranking.html#cb237-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb237-3"><a href="ranking.html#cb237-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb237-4"><a href="ranking.html#cb237-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>)</span>
<span id="cb237-5"><a href="ranking.html#cb237-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb237-6"><a href="ranking.html#cb237-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Increase margin size</span></span>
<span id="cb237-7"><a href="ranking.html#cb237-7" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">11</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>))</span>
<span id="cb237-8"><a href="ranking.html#cb237-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Uniform color</span></span>
<span id="cb237-9"><a href="ranking.html#cb237-9" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height=</span>data<span class="sc">$</span>value,</span>
<span id="cb237-10"><a href="ranking.html#cb237-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">col=</span><span class="st">&quot;#69b3a2&quot;</span>,</span>
<span id="cb237-11"><a href="ranking.html#cb237-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg=</span><span class="fu">c</span>(<span class="st">&quot;very long group name 1&quot;</span>,<span class="st">&quot;very long group name 2&quot;</span>,<span class="st">&quot;very long group name 3&quot;</span>,<span class="st">&quot;very long group name 4&quot;</span>,<span class="st">&quot;very long group name 5&quot;</span>), </span>
<span id="cb237-12"><a href="ranking.html#cb237-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">las=</span><span class="dv">2</span> </span>
<span id="cb237-13"><a href="ranking.html#cb237-13" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-increase-margin-size-1.png" width="672" /></p>
</div>
<div id="barplot-with-error-bars-1" class="section level3" number="4.1.23">
<h3><span class="header-section-number">4.1.23</span> Barplot with Error Bars</h3>
<p>This section describes how to add error bars on your barplot using R. Both ggplot2 and base R solutions are considered. A focus on different types of error bar calculation is made.</p>
<div id="the-geom_errorbar-function-1" class="section level4" number="4.1.23.1">
<h4><span class="header-section-number">4.1.23.1</span> The <code>geom_errorbar()</code> Function</h4>
<p>Error bars give a general idea of how precise a measurement is, or conversely, how far from the reported value the true (error free) value might be. If the value displayed on your barplot is the result of an aggregation (like the mean value of several data points), you may want to display error bars.</p>
<p>To understand how to build it, you first need to understand how to build a basic barplot with R. Then, you just it to add an extra layer using the <code>geom_errorbar()</code> function.</p>
<p>The function takes at least 3 arguments in its aesthetics:</p>
<ul>
<li><strong>ymin</strong> and <strong>ymax</strong>: position of the bottom and the top of the error bar respectively</li>
<li><strong>x</strong>: position on the X axis</li>
</ul>
<p>Note: the lower and upper limits of your error bars must be computed before building the chart, and available in a column of the input data.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="ranking.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb238-2"><a href="ranking.html#cb238-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb238-3"><a href="ranking.html#cb238-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb238-4"><a href="ranking.html#cb238-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb238-5"><a href="ranking.html#cb238-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb238-6"><a href="ranking.html#cb238-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>),</span>
<span id="cb238-7"><a href="ranking.html#cb238-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">0.2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>)</span>
<span id="cb238-8"><a href="ranking.html#cb238-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb238-9"><a href="ranking.html#cb238-9" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb238-10"><a href="ranking.html#cb238-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Most basic error bar</span></span>
<span id="cb238-11"><a href="ranking.html#cb238-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb238-12"><a href="ranking.html#cb238-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb238-13"><a href="ranking.html#cb238-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-error-bars-ggplot-1.png" width="672" /></p>
</div>
</div>
<div id="customization-1" class="section level3" number="4.1.24">
<h3><span class="header-section-number">4.1.24</span> Customization</h3>
<p>It is possible to change error bar types thanks to similar function: <code>geom_crossbar()</code>, <code>geom_linerange()</code> and <code>geom_pointrange()</code>. Those functions works basically the same as the most common <code>geom_errorbar()</code>.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="ranking.html#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Load ggplot2</span></span>
<span id="cb239-2"><a href="ranking.html#cb239-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb239-3"><a href="ranking.html#cb239-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create dummy data</span></span>
<span id="cb239-4"><a href="ranking.html#cb239-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb239-5"><a href="ranking.html#cb239-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">name=</span>letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb239-6"><a href="ranking.html#cb239-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">15</span>),<span class="dv">5</span>),</span>
<span id="cb239-7"><a href="ranking.html#cb239-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">sd=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">0.2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>)</span>
<span id="cb239-8"><a href="ranking.html#cb239-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb239-9"><a href="ranking.html#cb239-9" aria-hidden="true" tabindex="-1"></a><span class="co"># rectangle</span></span>
<span id="cb239-10"><a href="ranking.html#cb239-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb239-11"><a href="ranking.html#cb239-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb239-12"><a href="ranking.html#cb239-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_crossbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-error-bar-custom-1.png" width="672" /></p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="ranking.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="co"># line</span></span>
<span id="cb240-2"><a href="ranking.html#cb240-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb240-3"><a href="ranking.html#cb240-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb240-4"><a href="ranking.html#cb240-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_linerange</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-error-bar-custom-2.png" width="672" /></p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="ranking.html#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="co"># line + dot</span></span>
<span id="cb241-2"><a href="ranking.html#cb241-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb241-3"><a href="ranking.html#cb241-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb241-4"><a href="ranking.html#cb241-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-error-bar-custom-3.png" width="672" /></p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="ranking.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="co"># horizontal</span></span>
<span id="cb242-2"><a href="ranking.html#cb242-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb242-3"><a href="ranking.html#cb242-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb242-4"><a href="ranking.html#cb242-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">ymin=</span>value<span class="sc">-</span>sd, <span class="at">ymax=</span>value<span class="sc">+</span>sd), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.3</span>) <span class="sc">+</span></span>
<span id="cb242-5"><a href="ranking.html#cb242-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-error-bar-custom-4.png" width="672" /></p>
</div>
<div id="standard-deviation-standard-error-or-confidence-interval" class="section level3" number="4.1.25">
<h3><span class="header-section-number">4.1.25</span> Standard Deviation, Standard Error or Confidence Interval?</h3>
<p>Three different types of values are commonly used for error bars, sometimes without even specifying which one is used. It is important to understand how they are calculated, since they give very different results (see above). Lets compute them on a simple vector:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="ranking.html#cb243-1" aria-hidden="true" tabindex="-1"></a>vec<span class="ot">=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">9</span>,<span class="dv">38</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">19</span>,<span class="dv">19</span>)</span></code></pre></div>
<div id="standard-deviation-sd" class="section level4" number="4.1.25.1">
<h4><span class="header-section-number">4.1.25.1</span> Standard Deviation (SD)</h4>
<p>It represents the amount of dispersion of the variable. Calculated as the root square of the variance:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="ranking.html#cb244-1" aria-hidden="true" tabindex="-1"></a>sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(vec)</span>
<span id="cb244-2"><a href="ranking.html#cb244-2" aria-hidden="true" tabindex="-1"></a>sd <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">var</span>(vec))</span>
<span id="cb244-3"><a href="ranking.html#cb244-3" aria-hidden="true" tabindex="-1"></a>sd</span></code></pre></div>
</div>
<div id="standard-error-se" class="section level4" number="4.1.25.2">
<h4><span class="header-section-number">4.1.25.2</span> Standard Error (SE)</h4>
<p>It is the standard deviation of the vector sampling distribution. Calculated as the SD divided by the square root of the sample size. By construction, SE is smaller than SD. With a very big sample size, SE tends toward 0.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="ranking.html#cb245-1" aria-hidden="true" tabindex="-1"></a>se <span class="ot">=</span> <span class="fu">sd</span>(vec) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="fu">length</span>(vec))</span>
<span id="cb245-2"><a href="ranking.html#cb245-2" aria-hidden="true" tabindex="-1"></a>se</span></code></pre></div>
</div>
<div id="confidence-interval-ci" class="section level4" number="4.1.25.3">
<h4><span class="header-section-number">4.1.25.3</span> Confidence Interval (CI)</h4>
<p>This interval is defined so that there is a specified probability that a value lies within it. It is calculated as t * SE. Where t is the value of the Students t-distribution for a specific alpha. Its value is often rounded to 1.96 (its value with a big sample size). If the sample size is huge or the distribution not normal, it is better to calculate the CI using the bootstrap method, however.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="ranking.html#cb246-1" aria-hidden="true" tabindex="-1"></a>alpha<span class="ot">=</span><span class="fl">0.05</span></span>
<span id="cb246-2"><a href="ranking.html#cb246-2" aria-hidden="true" tabindex="-1"></a>t<span class="ot">=</span><span class="fu">qt</span>((<span class="dv">1</span><span class="sc">-</span>alpha)<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> .<span class="dv">5</span>, <span class="fu">length</span>(vec)<span class="sc">-</span><span class="dv">1</span>)   <span class="co"># tend to 1.96 if sample size is big enough</span></span>
<span id="cb246-3"><a href="ranking.html#cb246-3" aria-hidden="true" tabindex="-1"></a>CI<span class="ot">=</span>t<span class="sc">*</span>se</span>
<span id="cb246-4"><a href="ranking.html#cb246-4" aria-hidden="true" tabindex="-1"></a>CI</span></code></pre></div>
<p>After this short introduction, here is how to compute these 3 values for each group of your dataset, and use them as error bars on your <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a>. As you can see, the differences can greatly influence your conclusions.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="ranking.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb247-2"><a href="ranking.html#cb247-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb247-3"><a href="ranking.html#cb247-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb247-4"><a href="ranking.html#cb247-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb247-5"><a href="ranking.html#cb247-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(Species, Sepal.Length) </span>
<span id="cb247-6"><a href="ranking.html#cb247-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb247-7"><a href="ranking.html#cb247-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculates mean, sd, se and IC</span></span>
<span id="cb247-8"><a href="ranking.html#cb247-8" aria-hidden="true" tabindex="-1"></a>my_sum <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb247-9"><a href="ranking.html#cb247-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span></span>
<span id="cb247-10"><a href="ranking.html#cb247-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( </span>
<span id="cb247-11"><a href="ranking.html#cb247-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span><span class="fu">n</span>(),</span>
<span id="cb247-12"><a href="ranking.html#cb247-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean=</span><span class="fu">mean</span>(Sepal.Length),</span>
<span id="cb247-13"><a href="ranking.html#cb247-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd=</span><span class="fu">sd</span>(Sepal.Length)</span>
<span id="cb247-14"><a href="ranking.html#cb247-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb247-15"><a href="ranking.html#cb247-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n))  <span class="sc">%&gt;%</span></span>
<span id="cb247-16"><a href="ranking.html#cb247-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">ic=</span>se <span class="sc">*</span> <span class="fu">qt</span>((<span class="dv">1</span><span class="fl">-0.05</span>)<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> .<span class="dv">5</span>, n<span class="dv">-1</span>))</span>
<span id="cb247-17"><a href="ranking.html#cb247-17" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb247-18"><a href="ranking.html#cb247-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard deviation</span></span>
<span id="cb247-19"><a href="ranking.html#cb247-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my_sum) <span class="sc">+</span></span>
<span id="cb247-20"><a href="ranking.html#cb247-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>Species, <span class="at">y=</span>mean), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;forestgreen&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb247-21"><a href="ranking.html#cb247-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>Species, <span class="at">ymin=</span>mean<span class="sc">-</span>sd, <span class="at">ymax=</span>mean<span class="sc">+</span>sd), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb247-22"><a href="ranking.html#cb247-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;using standard deviation&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/sd-se-ci-plot-1.png" width="672" /></p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="ranking.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard Error</span></span>
<span id="cb248-2"><a href="ranking.html#cb248-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my_sum) <span class="sc">+</span></span>
<span id="cb248-3"><a href="ranking.html#cb248-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>Species, <span class="at">y=</span>mean), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;forestgreen&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb248-4"><a href="ranking.html#cb248-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>Species, <span class="at">ymin=</span>mean<span class="sc">-</span>se, <span class="at">ymax=</span>mean<span class="sc">+</span>se), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb248-5"><a href="ranking.html#cb248-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;using standard error&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/sd-se-ci-plot-2.png" width="672" /></p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="ranking.html#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Confidence Interval</span></span>
<span id="cb249-2"><a href="ranking.html#cb249-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(my_sum) <span class="sc">+</span></span>
<span id="cb249-3"><a href="ranking.html#cb249-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>( <span class="fu">aes</span>(<span class="at">x=</span>Species, <span class="at">y=</span>mean), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="st">&quot;forestgreen&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb249-4"><a href="ranking.html#cb249-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>( <span class="fu">aes</span>(<span class="at">x=</span>Species, <span class="at">ymin=</span>mean<span class="sc">-</span>ic, <span class="at">ymax=</span>mean<span class="sc">+</span>ic), <span class="at">width=</span><span class="fl">0.4</span>, <span class="at">colour=</span><span class="st">&quot;orange&quot;</span>, <span class="at">alpha=</span><span class="fl">0.9</span>, <span class="at">size=</span><span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb249-5"><a href="ranking.html#cb249-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;using confidence interval&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/sd-se-ci-plot-3.png" width="672" /></p>
</div>
</div>
<div id="basic-r-use-the-arrows-function" class="section level3" number="4.1.26">
<h3><span class="header-section-number">4.1.26</span> Basic R: Use the <code>arrows()</code> Function</h3>
<p>It is double to add error bars with base R only as well, but requires more work. In any case, everything relies on the <code>arrows()</code> function.</p>
<p>Lets build a dataset : height of 10 sorgho and poacee sample in 3 environmental conditions (A, B, C)</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="ranking.html#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Let&#39;s build a dataset : height of 10 sorgho and poacee sample in 3 environmental conditions (A, B, C)</span></span>
<span id="cb250-2"><a href="ranking.html#cb250-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb250-3"><a href="ranking.html#cb250-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">specie=</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;sorgho&quot;</span> , <span class="dv">10</span>) , <span class="fu">rep</span>(<span class="st">&quot;poacee&quot;</span> , <span class="dv">10</span>) ),</span>
<span id="cb250-4"><a href="ranking.html#cb250-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">cond_A=</span><span class="fu">rnorm</span>(<span class="dv">20</span>,<span class="dv">10</span>,<span class="dv">4</span>),</span>
<span id="cb250-5"><a href="ranking.html#cb250-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">cond_B=</span><span class="fu">rnorm</span>(<span class="dv">20</span>,<span class="dv">8</span>,<span class="dv">3</span>),</span>
<span id="cb250-6"><a href="ranking.html#cb250-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">cond_C=</span><span class="fu">rnorm</span>(<span class="dv">20</span>,<span class="dv">5</span>,<span class="dv">4</span>)</span>
<span id="cb250-7"><a href="ranking.html#cb250-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb250-8"><a href="ranking.html#cb250-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Let&#39;s calculate the average value for each condition and each specie with the *aggregate* function</span></span>
<span id="cb250-9"><a href="ranking.html#cb250-9" aria-hidden="true" tabindex="-1"></a>bilan <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(<span class="fu">cbind</span>(cond_A,cond_B,cond_C)<span class="sc">~</span>specie , <span class="at">data=</span>data , mean)</span>
<span id="cb250-10"><a href="ranking.html#cb250-10" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(bilan) <span class="ot">&lt;-</span> bilan[,<span class="dv">1</span>]</span>
<span id="cb250-11"><a href="ranking.html#cb250-11" aria-hidden="true" tabindex="-1"></a>bilan <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(bilan[,<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb250-12"><a href="ranking.html#cb250-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb250-13"><a href="ranking.html#cb250-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot boundaries</span></span>
<span id="cb250-14"><a href="ranking.html#cb250-14" aria-hidden="true" tabindex="-1"></a>lim <span class="ot">&lt;-</span> <span class="fl">1.2</span><span class="sc">*</span><span class="fu">max</span>(bilan)</span>
<span id="cb250-15"><a href="ranking.html#cb250-15" aria-hidden="true" tabindex="-1"></a><span class="co">#A function to add arrows on the chart</span></span>
<span id="cb250-16"><a href="ranking.html#cb250-16" aria-hidden="true" tabindex="-1"></a>error.bar <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y, upper, <span class="at">lower=</span>upper, <span class="at">length=</span><span class="fl">0.1</span>,...){</span>
<span id="cb250-17"><a href="ranking.html#cb250-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrows</span>(x,y<span class="sc">+</span>upper, x, y<span class="sc">-</span>lower, <span class="at">angle=</span><span class="dv">90</span>, <span class="at">code=</span><span class="dv">3</span>, <span class="at">length=</span>length, ...)</span>
<span id="cb250-18"><a href="ranking.html#cb250-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb250-19"><a href="ranking.html#cb250-19" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb250-20"><a href="ranking.html#cb250-20" aria-hidden="true" tabindex="-1"></a><span class="co">#Then I calculate the standard deviation for each specie and condition :</span></span>
<span id="cb250-21"><a href="ranking.html#cb250-21" aria-hidden="true" tabindex="-1"></a>stdev <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(<span class="fu">cbind</span>(cond_A,cond_B,cond_C)<span class="sc">~</span>specie , <span class="at">data=</span>data , sd)</span>
<span id="cb250-22"><a href="ranking.html#cb250-22" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(stdev) <span class="ot">&lt;-</span> stdev[,<span class="dv">1</span>]</span>
<span id="cb250-23"><a href="ranking.html#cb250-23" aria-hidden="true" tabindex="-1"></a>stdev <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(stdev[,<span class="sc">-</span><span class="dv">1</span>]) <span class="sc">*</span> <span class="fl">1.96</span> <span class="sc">/</span> <span class="dv">10</span></span>
<span id="cb250-24"><a href="ranking.html#cb250-24" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb250-25"><a href="ranking.html#cb250-25" aria-hidden="true" tabindex="-1"></a><span class="co">#I am ready to add the error bar on the plot using my &quot;error bar&quot; function !</span></span>
<span id="cb250-26"><a href="ranking.html#cb250-26" aria-hidden="true" tabindex="-1"></a>ze_barplot <span class="ot">&lt;-</span> <span class="fu">barplot</span>(bilan , <span class="at">beside=</span>T , <span class="at">legend.text=</span>T,<span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span> , <span class="st">&quot;skyblue&quot;</span>) , <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,lim) , <span class="at">ylab=</span><span class="st">&quot;height&quot;</span>)</span>
<span id="cb250-27"><a href="ranking.html#cb250-27" aria-hidden="true" tabindex="-1"></a><span class="fu">error.bar</span>(ze_barplot,bilan, stdev)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/horizontal-barplot-base-r-arrow-1.png" width="672" /></p>
</div>
<div id="barplot-with-number-of-observation" class="section level3" number="4.1.27">
<h3><span class="header-section-number">4.1.27</span> Barplot with Number of Observation</h3>
<p>A barplot with number of observation on top of bars, legend, ablines, increased margin and more.</p>
<p>This chart illustrates many tips you can apply to a base R barplot:</p>
<ul>
<li>Add abline with <code>abline()</code></li>
<li>Change axis labels orientation with <code>las()</code></li>
<li>Add text with <code>text()</code></li>
<li>Add a legend with <code>legend()</code></li>
</ul>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="ranking.html#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data</span></span>
<span id="cb251-2"><a href="ranking.html#cb251-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb251-3"><a href="ranking.html#cb251-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;DD&quot;</span>,<span class="st">&quot;with himself&quot;</span>,<span class="st">&quot;with DC&quot;</span>,<span class="st">&quot;with Silur&quot;</span> ,<span class="st">&quot;DC&quot;</span>,<span class="st">&quot;with himself&quot;</span>,<span class="st">&quot;with DD&quot;</span>,<span class="st">&quot;with Silur&quot;</span> ,<span class="st">&quot;Silur&quot;</span>,<span class="st">&quot;with himself&quot;</span>,<span class="st">&quot;with DD&quot;</span>,<span class="st">&quot;with DC&quot;</span> ),</span>
<span id="cb251-4"><a href="ranking.html#cb251-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">average =</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>) , <span class="dv">12</span> , <span class="at">replace=</span>T),</span>
<span id="cb251-5"><a href="ranking.html#cb251-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">number =</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">4</span>,<span class="dv">39</span>) , <span class="dv">12</span> , <span class="at">replace=</span>T)</span>
<span id="cb251-6"><a href="ranking.html#cb251-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb251-7"><a href="ranking.html#cb251-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Increase bottom margin</span></span>
<span id="cb251-8"><a href="ranking.html#cb251-8" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>))</span>
<span id="cb251-9"><a href="ranking.html#cb251-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic Barplot</span></span>
<span id="cb251-10"><a href="ranking.html#cb251-10" aria-hidden="true" tabindex="-1"></a>my_bar <span class="ot">&lt;-</span> <span class="fu">barplot</span>(data<span class="sc">$</span>average , <span class="at">border=</span>F , <span class="at">names.arg=</span>data<span class="sc">$</span>name , </span>
<span id="cb251-11"><a href="ranking.html#cb251-11" aria-hidden="true" tabindex="-1"></a>                  <span class="at">las=</span><span class="dv">2</span> , </span>
<span id="cb251-12"><a href="ranking.html#cb251-12" aria-hidden="true" tabindex="-1"></a>                  <span class="at">col=</span><span class="fu">c</span>(<span class="fu">rgb</span>(<span class="fl">0.3</span>,<span class="fl">0.1</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>) , <span class="fu">rgb</span>(<span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>) , <span class="fu">rgb</span>(<span class="fl">0.3</span>,<span class="fl">0.9</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>) ,  <span class="fu">rgb</span>(<span class="fl">0.3</span>,<span class="fl">0.9</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>)) , </span>
<span id="cb251-13"><a href="ranking.html#cb251-13" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">13</span>) , </span>
<span id="cb251-14"><a href="ranking.html#cb251-14" aria-hidden="true" tabindex="-1"></a>                  <span class="at">main=</span><span class="st">&quot;&quot;</span> )</span>
<span id="cb251-15"><a href="ranking.html#cb251-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add abline</span></span>
<span id="cb251-16"><a href="ranking.html#cb251-16" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="fu">c</span>(<span class="fl">4.9</span> , <span class="fl">9.7</span>) , <span class="at">col=</span><span class="st">&quot;grey&quot;</span>)</span>
<span id="cb251-17"><a href="ranking.html#cb251-17" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb251-18"><a href="ranking.html#cb251-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the text </span></span>
<span id="cb251-19"><a href="ranking.html#cb251-19" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(my_bar, data<span class="sc">$</span>average<span class="fl">+0.4</span> , <span class="fu">paste</span>(<span class="st">&quot;n: &quot;</span>, data<span class="sc">$</span>number, <span class="at">sep=</span><span class="st">&quot;&quot;</span>) ,<span class="at">cex=</span><span class="dv">1</span>) </span>
<span id="cb251-20"><a href="ranking.html#cb251-20" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb251-21"><a href="ranking.html#cb251-21" aria-hidden="true" tabindex="-1"></a><span class="co">#Legende</span></span>
<span id="cb251-22"><a href="ranking.html#cb251-22" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Alone&quot;</span>,<span class="st">&quot;with Himself&quot;</span>,<span class="st">&quot;With other genotype&quot;</span> ) , </span>
<span id="cb251-23"><a href="ranking.html#cb251-23" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="fl">0.3</span>,<span class="fl">0.1</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>) , <span class="fu">rgb</span>(<span class="fl">0.3</span>,<span class="fl">0.5</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>) , <span class="fu">rgb</span>(<span class="fl">0.3</span>,<span class="fl">0.9</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>) ,  <span class="fu">rgb</span>(<span class="fl">0.3</span>,<span class="fl">0.9</span>,<span class="fl">0.4</span>,<span class="fl">0.6</span>)) , </span>
<span id="cb251-24"><a href="ranking.html#cb251-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>, <span class="at">pch=</span><span class="dv">20</span> , <span class="at">pt.cex =</span> <span class="dv">2</span>, <span class="at">cex =</span> <span class="fl">0.8</span>, <span class="at">horiz =</span> <span class="cn">FALSE</span>, <span class="at">inset =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>))</span></code></pre></div>
<p><img src="r-graph_files/figure-html/barplot-number-oberservations-1.png" width="672" /></p>
</div>
</div>
<div id="radar-chart" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Radar Chart</h2>
<hr />
<p>A <a href="https://www.data-to-viz.com/caveat/spider.html">radar</a> or <a href="https://www.data-to-viz.com/caveat/spider.html">spider</a> or <a href="https://www.data-to-viz.com/caveat/spider.html">web</a> chart is a two-dimensional chart type designed to plot one or more series of values over multiple quantitative variables. It has several downsides and should be <a href="https://www.data-to-viz.com/caveat/spider.html">used with care</a>. In R, the <code>fmsb</code> library is the best tool to build it.</p>
<div id="one-group-only---fmsb-library" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> One Group Only - <code>FMSB</code> Library</h3>
<p>The <code>fmsb</code> package allows to build radar chart in <code>R</code>. Next examples explain how to format your data to build a basic version, and what are the available option to customize the chart appearance.</p>
<div id="basic-radar-chart" class="section level4" number="4.2.1.1">
<h4><span class="header-section-number">4.2.1.1</span> Basic Radar Chart</h4>
<p>How to build the most basic <a href="https://www.r-graph-gallery.com/spider-or-radar-chart.html">radar chart</a> with <code>R</code> and the <code>fmsb</code> library: check several reproducible examples with explanation and R code.</p>
</div>
<div id="most-basic-radar-chart-with-the-fmsb-package" class="section level4" number="4.2.1.2">
<h4><span class="header-section-number">4.2.1.2</span> Most basic radar chart with the <code>fmsb</code> package</h4>
<p><a href="https://www.r-graph-gallery.com/spider-or-radar-chart.html">Radar charts</a> are also called Spider or Web or Polar charts. They are drawn in <code>R</code> using the <a href="https://cran.r-project.org/web/packages/fmsb/fmsb.pdf">fmsb library</a>.</p>
<p>Input data format is very specific. Each row must be an entity. Each column is a quantitative variable. First 2 rows provide the min and the max that will be used for each variable.</p>
<p>Once you have this format, the <code>radarchart()</code> function makes all the job for you.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="ranking.html#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb252-2"><a href="ranking.html#cb252-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fmsb)</span>
<span id="cb252-3"><a href="ranking.html#cb252-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb252-4"><a href="ranking.html#cb252-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data: note in High school for Jonathan:</span></span>
<span id="cb252-5"><a href="ranking.html#cb252-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>( <span class="fu">sample</span>( <span class="dv">2</span><span class="sc">:</span><span class="dv">20</span> , <span class="dv">10</span> , <span class="at">replace=</span>T) , <span class="at">ncol=</span><span class="dv">10</span>))</span>
<span id="cb252-6"><a href="ranking.html#cb252-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;math&quot;</span> , <span class="st">&quot;english&quot;</span> , <span class="st">&quot;biology&quot;</span> , <span class="st">&quot;music&quot;</span> , <span class="st">&quot;R-coding&quot;</span>, <span class="st">&quot;data-viz&quot;</span> , <span class="st">&quot;french&quot;</span> , <span class="st">&quot;physic&quot;</span>, <span class="st">&quot;statistic&quot;</span>, <span class="st">&quot;sport&quot;</span> )</span>
<span id="cb252-7"><a href="ranking.html#cb252-7" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb252-8"><a href="ranking.html#cb252-8" aria-hidden="true" tabindex="-1"></a><span class="co"># To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each topic to show on the plot!</span></span>
<span id="cb252-9"><a href="ranking.html#cb252-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">rep</span>(<span class="dv">20</span>,<span class="dv">10</span>) , <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">10</span>) , data)</span>
<span id="cb252-10"><a href="ranking.html#cb252-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb252-11"><a href="ranking.html#cb252-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Check your data, it has to look like this!</span></span>
<span id="cb252-12"><a href="ranking.html#cb252-12" aria-hidden="true" tabindex="-1"></a><span class="co"># head(data)</span></span>
<span id="cb252-13"><a href="ranking.html#cb252-13" aria-hidden="true" tabindex="-1"></a><span class="co"># The default radar chart </span></span>
<span id="cb252-14"><a href="ranking.html#cb252-14" aria-hidden="true" tabindex="-1"></a><span class="fu">radarchart</span>(data)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/radar-chart-basic-1.png" width="672" /></p>
</div>
</div>
<div id="customization-2" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Customization</h3>
<p>The <code>radarchart()</code> function offers several options to customize the chart:</p>
<p>Polygon features:
* <code>pcol</code>: line color
* <code>pfcol</code>: fill color
* <code>plwd</code>: line width</p>
<p>Grid features:
* <code>cglcol</code>: color of the net
* <code>cglty</code>: net line type (see possibilities)
* <code>axislabcol</code>: color of axis labels
* <code>caxislabels</code>: vector of axis labels to display
* <code>cglwd</code>: net width</p>
<p>Labels:
* <code>vlcex</code>: group labels size</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="ranking.html#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb253-2"><a href="ranking.html#cb253-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fmsb)</span>
<span id="cb253-3"><a href="ranking.html#cb253-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb253-4"><a href="ranking.html#cb253-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data: note in High school for Jonathan:</span></span>
<span id="cb253-5"><a href="ranking.html#cb253-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>( <span class="fu">sample</span>( <span class="dv">2</span><span class="sc">:</span><span class="dv">20</span> , <span class="dv">10</span> , <span class="at">replace=</span>T) , <span class="at">ncol=</span><span class="dv">10</span>))</span>
<span id="cb253-6"><a href="ranking.html#cb253-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;math&quot;</span> , <span class="st">&quot;english&quot;</span> , <span class="st">&quot;biology&quot;</span> , <span class="st">&quot;music&quot;</span> , <span class="st">&quot;R-coding&quot;</span>, <span class="st">&quot;data-viz&quot;</span> , <span class="st">&quot;french&quot;</span> , <span class="st">&quot;physic&quot;</span>, <span class="st">&quot;statistic&quot;</span>, <span class="st">&quot;sport&quot;</span> )</span>
<span id="cb253-7"><a href="ranking.html#cb253-7" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb253-8"><a href="ranking.html#cb253-8" aria-hidden="true" tabindex="-1"></a><span class="co"># To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each topic to show on the plot!</span></span>
<span id="cb253-9"><a href="ranking.html#cb253-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">rep</span>(<span class="dv">20</span>,<span class="dv">10</span>) , <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">10</span>) , data)</span>
<span id="cb253-10"><a href="ranking.html#cb253-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb253-11"><a href="ranking.html#cb253-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Check your data, it has to look like this!</span></span>
<span id="cb253-12"><a href="ranking.html#cb253-12" aria-hidden="true" tabindex="-1"></a><span class="co"># head(data)</span></span>
<span id="cb253-13"><a href="ranking.html#cb253-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom the radarChart !</span></span>
<span id="cb253-14"><a href="ranking.html#cb253-14" aria-hidden="true" tabindex="-1"></a><span class="fu">radarchart</span>( data  , <span class="at">axistype=</span><span class="dv">1</span> , </span>
<span id="cb253-15"><a href="ranking.html#cb253-15" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb253-16"><a href="ranking.html#cb253-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom polygon</span></span>
<span id="cb253-17"><a href="ranking.html#cb253-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">pcol=</span><span class="fu">rgb</span>(<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.9</span>) , <span class="at">pfcol=</span><span class="fu">rgb</span>(<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>) , <span class="at">plwd=</span><span class="dv">4</span> , </span>
<span id="cb253-18"><a href="ranking.html#cb253-18" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb253-19"><a href="ranking.html#cb253-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom the grid</span></span>
<span id="cb253-20"><a href="ranking.html#cb253-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">cglcol=</span><span class="st">&quot;grey&quot;</span>, <span class="at">cglty=</span><span class="dv">1</span>, <span class="at">axislabcol=</span><span class="st">&quot;grey&quot;</span>, <span class="at">caxislabels=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">20</span>,<span class="dv">5</span>), <span class="at">cglwd=</span><span class="fl">0.8</span>,</span>
<span id="cb253-21"><a href="ranking.html#cb253-21" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb253-22"><a href="ranking.html#cb253-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom labels</span></span>
<span id="cb253-23"><a href="ranking.html#cb253-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">vlcex=</span><span class="fl">0.8</span> </span>
<span id="cb253-24"><a href="ranking.html#cb253-24" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/radar-chart-custom-1.png" width="672" /></p>
</div>
<div id="several-groups" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Several Groups</h3>
<p>It is acceptable to show several groups on the same spider chart, still using the <code>fmsb</code> package. The examples below will guide you through this process. But keep in mind that displaying more than 2 or 3 groups will result in a cluttered and unreadable figure.</p>
<div id="radar-chart-with-several-individuals" class="section level4" number="4.2.3.1">
<h4><span class="header-section-number">4.2.3.1</span> Radar Chart with Several Individuals</h4>
<p>It is possible to display several groups on the same <a href="https://www.r-graph-gallery.com/spider-or-radar-chart.html">radar chart</a>. This section describes how to draw it with <code>R</code> and the <code>fmsb</code> library.</p>
</div>
<div id="multi-group-spider-chart---no-options" class="section level4" number="4.2.3.2">
<h4><span class="header-section-number">4.2.3.2</span> Multi-Group Spider Chart - No Options</h4>
<p>If youre using the <strong>fmsb</strong> package for the first time, have a look to the <a href="https://www.r-graph-gallery.com/142-basic-radar-chart.html">most basic radar chart</a> first, it explains how the data must be formatted for the <code>radarchart()</code> function.</p>
<p>If you have several individuals, the code looks pretty much the same as shown below.</p>
<p><u>Note</u>: Dont show more that 2 or 3 groups on the same web chart, it would make it unreadable. Read more about <a href="https://www.data-to-viz.com/caveat/spider.html">radar chart caveats</a>.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="ranking.html#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb254-2"><a href="ranking.html#cb254-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fmsb)</span>
<span id="cb254-3"><a href="ranking.html#cb254-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb254-4"><a href="ranking.html#cb254-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data: note in High school for several students</span></span>
<span id="cb254-5"><a href="ranking.html#cb254-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">99</span>)</span>
<span id="cb254-6"><a href="ranking.html#cb254-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>( <span class="fu">sample</span>( <span class="dv">0</span><span class="sc">:</span><span class="dv">20</span> , <span class="dv">15</span> , <span class="at">replace=</span>F) , <span class="at">ncol=</span><span class="dv">5</span>))</span>
<span id="cb254-7"><a href="ranking.html#cb254-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;math&quot;</span> , <span class="st">&quot;english&quot;</span> , <span class="st">&quot;biology&quot;</span> , <span class="st">&quot;music&quot;</span> , <span class="st">&quot;R-coding&quot;</span> )</span>
<span id="cb254-8"><a href="ranking.html#cb254-8" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(data) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;mister&quot;</span> , letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] , <span class="at">sep=</span><span class="st">&quot;-&quot;</span>)</span>
<span id="cb254-9"><a href="ranking.html#cb254-9" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb254-10"><a href="ranking.html#cb254-10" aria-hidden="true" tabindex="-1"></a><span class="co"># To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each variable to show on the plot!</span></span>
<span id="cb254-11"><a href="ranking.html#cb254-11" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">rep</span>(<span class="dv">20</span>,<span class="dv">5</span>) , <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>) , data)</span>
<span id="cb254-12"><a href="ranking.html#cb254-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb254-13"><a href="ranking.html#cb254-13" aria-hidden="true" tabindex="-1"></a><span class="co"># plot with default options:</span></span>
<span id="cb254-14"><a href="ranking.html#cb254-14" aria-hidden="true" tabindex="-1"></a><span class="fu">radarchart</span>(data)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/spider-chart-multi-group-1.png" width="672" /></p>
</div>
</div>
<div id="customization-3" class="section level3" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> Customization</h3>
<p>The <code>radarchart()</code> function offers several options to customize the chart:</p>
<p>Polygon features:
* <code>pcol</code>: line color
* <code>pfcol</code>: fill color
* <code>plwd</code>: line width</p>
<p>Grid features:
* <code>cglcol</code>: color of the net
* <code>cglty</code>: net line type (see <a href="https://www.r-graph-gallery.com/6-graph-parameters-reminder.html">possibilities</a>)
* <code>axislabcol</code>: color of axis labels
* <code>caxislabels</code>: vector of axis labels to display
* <code>cglwd</code>: net width</p>
<p>Labels:
* <code>vlcex</code>: group labels size</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="ranking.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb255-2"><a href="ranking.html#cb255-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fmsb)</span>
<span id="cb255-3"><a href="ranking.html#cb255-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb255-4"><a href="ranking.html#cb255-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data: note in High school for several students</span></span>
<span id="cb255-5"><a href="ranking.html#cb255-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">99</span>)</span>
<span id="cb255-6"><a href="ranking.html#cb255-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>( <span class="fu">sample</span>( <span class="dv">0</span><span class="sc">:</span><span class="dv">20</span> , <span class="dv">15</span> , <span class="at">replace=</span>F) , <span class="at">ncol=</span><span class="dv">5</span>))</span>
<span id="cb255-7"><a href="ranking.html#cb255-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;math&quot;</span> , <span class="st">&quot;english&quot;</span> , <span class="st">&quot;biology&quot;</span> , <span class="st">&quot;music&quot;</span> , <span class="st">&quot;R-coding&quot;</span> )</span>
<span id="cb255-8"><a href="ranking.html#cb255-8" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(data) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;mister&quot;</span> , letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] , <span class="at">sep=</span><span class="st">&quot;-&quot;</span>)</span>
<span id="cb255-9"><a href="ranking.html#cb255-9" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb255-10"><a href="ranking.html#cb255-10" aria-hidden="true" tabindex="-1"></a><span class="co"># To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each variable to show on the plot!</span></span>
<span id="cb255-11"><a href="ranking.html#cb255-11" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">rep</span>(<span class="dv">20</span>,<span class="dv">5</span>) , <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>) , data)</span>
<span id="cb255-12"><a href="ranking.html#cb255-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Color vector</span></span>
<span id="cb255-13"><a href="ranking.html#cb255-13" aria-hidden="true" tabindex="-1"></a>colors_border<span class="ot">=</span><span class="fu">c</span>( <span class="fu">rgb</span>(<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.9</span>), <span class="fu">rgb</span>(<span class="fl">0.8</span>,<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.9</span>) , <span class="fu">rgb</span>(<span class="fl">0.7</span>,<span class="fl">0.5</span>,<span class="fl">0.1</span>,<span class="fl">0.9</span>) )</span>
<span id="cb255-14"><a href="ranking.html#cb255-14" aria-hidden="true" tabindex="-1"></a>colors_in<span class="ot">=</span><span class="fu">c</span>( <span class="fu">rgb</span>(<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.4</span>), <span class="fu">rgb</span>(<span class="fl">0.8</span>,<span class="fl">0.2</span>,<span class="fl">0.5</span>,<span class="fl">0.4</span>) , <span class="fu">rgb</span>(<span class="fl">0.7</span>,<span class="fl">0.5</span>,<span class="fl">0.1</span>,<span class="fl">0.4</span>) )</span>
<span id="cb255-15"><a href="ranking.html#cb255-15" aria-hidden="true" tabindex="-1"></a><span class="co"># plot with default options:</span></span>
<span id="cb255-16"><a href="ranking.html#cb255-16" aria-hidden="true" tabindex="-1"></a><span class="fu">radarchart</span>( data  , <span class="at">axistype=</span><span class="dv">1</span> , </span>
<span id="cb255-17"><a href="ranking.html#cb255-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom polygon</span></span>
<span id="cb255-18"><a href="ranking.html#cb255-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">pcol=</span>colors_border , <span class="at">pfcol=</span>colors_in , <span class="at">plwd=</span><span class="dv">4</span> , <span class="at">plty=</span><span class="dv">1</span>,</span>
<span id="cb255-19"><a href="ranking.html#cb255-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom the grid</span></span>
<span id="cb255-20"><a href="ranking.html#cb255-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">cglcol=</span><span class="st">&quot;grey&quot;</span>, <span class="at">cglty=</span><span class="dv">1</span>, <span class="at">axislabcol=</span><span class="st">&quot;grey&quot;</span>, <span class="at">caxislabels=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">20</span>,<span class="dv">5</span>), <span class="at">cglwd=</span><span class="fl">0.8</span>,</span>
<span id="cb255-21"><a href="ranking.html#cb255-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom labels</span></span>
<span id="cb255-22"><a href="ranking.html#cb255-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">vlcex=</span><span class="fl">0.8</span> </span>
<span id="cb255-23"><a href="ranking.html#cb255-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb255-24"><a href="ranking.html#cb255-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a legend</span></span>
<span id="cb255-25"><a href="ranking.html#cb255-25" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x=</span><span class="fl">0.7</span>, <span class="at">y=</span><span class="dv">1</span>, <span class="at">legend =</span> <span class="fu">rownames</span>(data[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),]), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>, <span class="at">pch=</span><span class="dv">20</span> , <span class="at">col=</span>colors_in , <span class="at">text.col =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">cex=</span><span class="fl">1.2</span>, <span class="at">pt.cex=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/radar-chart-custom-polygon-features-label-1.png" width="672" /></p>
</div>
<div id="about-axis-limits" class="section level3" number="4.2.5">
<h3><span class="header-section-number">4.2.5</span> About Axis Limits</h3>
<p>In the previous examples, axis limits were set in the 2 first rows of the input dataset.</p>
<p>If you do not specify these values, the axis limits will be computed automatically, as shown below.</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="ranking.html#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb256-2"><a href="ranking.html#cb256-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fmsb)</span>
<span id="cb256-3"><a href="ranking.html#cb256-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb256-4"><a href="ranking.html#cb256-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data: note in High school for several students</span></span>
<span id="cb256-5"><a href="ranking.html#cb256-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">99</span>)</span>
<span id="cb256-6"><a href="ranking.html#cb256-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>( <span class="fu">sample</span>( <span class="dv">0</span><span class="sc">:</span><span class="dv">20</span> , <span class="dv">15</span> , <span class="at">replace=</span>F) , <span class="at">ncol=</span><span class="dv">5</span>))</span>
<span id="cb256-7"><a href="ranking.html#cb256-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;math&quot;</span> , <span class="st">&quot;english&quot;</span> , <span class="st">&quot;biology&quot;</span> , <span class="st">&quot;music&quot;</span> , <span class="st">&quot;R-coding&quot;</span> )</span>
<span id="cb256-8"><a href="ranking.html#cb256-8" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(data) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;mister&quot;</span> , letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>] , <span class="at">sep=</span><span class="st">&quot;-&quot;</span>)</span>
<span id="cb256-9"><a href="ranking.html#cb256-9" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb256-10"><a href="ranking.html#cb256-10" aria-hidden="true" tabindex="-1"></a><span class="co"># To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each variable to show on the plot!</span></span>
<span id="cb256-11"><a href="ranking.html#cb256-11" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">rep</span>(<span class="dv">20</span>,<span class="dv">5</span>) , <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">5</span>) , data)</span>
<span id="cb256-12"><a href="ranking.html#cb256-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb256-13"><a href="ranking.html#cb256-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Set graphic colors</span></span>
<span id="cb256-14"><a href="ranking.html#cb256-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb256-15"><a href="ranking.html#cb256-15" aria-hidden="true" tabindex="-1"></a>coul <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="st">&quot;BuPu&quot;</span>)</span>
<span id="cb256-16"><a href="ranking.html#cb256-16" aria-hidden="true" tabindex="-1"></a>colors_border <span class="ot">&lt;-</span> coul</span>
<span id="cb256-17"><a href="ranking.html#cb256-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb256-18"><a href="ranking.html#cb256-18" aria-hidden="true" tabindex="-1"></a>colors_in <span class="ot">&lt;-</span> <span class="fu">alpha</span>(coul,<span class="fl">0.3</span>)</span>
<span id="cb256-19"><a href="ranking.html#cb256-19" aria-hidden="true" tabindex="-1"></a><span class="co"># If you remove the 2 first lines, the function compute the max and min of each variable with the available data:</span></span>
<span id="cb256-20"><a href="ranking.html#cb256-20" aria-hidden="true" tabindex="-1"></a><span class="fu">radarchart</span>( data[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),]  , <span class="at">axistype=</span><span class="dv">0</span> , <span class="at">maxmin=</span>F,</span>
<span id="cb256-21"><a href="ranking.html#cb256-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom polygon</span></span>
<span id="cb256-22"><a href="ranking.html#cb256-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">pcol=</span>colors_border , <span class="at">pfcol=</span>colors_in , <span class="at">plwd=</span><span class="dv">4</span> , <span class="at">plty=</span><span class="dv">1</span>,</span>
<span id="cb256-23"><a href="ranking.html#cb256-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom the grid</span></span>
<span id="cb256-24"><a href="ranking.html#cb256-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">cglcol=</span><span class="st">&quot;grey&quot;</span>, <span class="at">cglty=</span><span class="dv">1</span>, <span class="at">axislabcol=</span><span class="st">&quot;black&quot;</span>, <span class="at">cglwd=</span><span class="fl">0.8</span>, </span>
<span id="cb256-25"><a href="ranking.html#cb256-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#custom labels</span></span>
<span id="cb256-26"><a href="ranking.html#cb256-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">vlcex=</span><span class="fl">0.8</span> </span>
<span id="cb256-27"><a href="ranking.html#cb256-27" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb256-28"><a href="ranking.html#cb256-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a legend</span></span>
<span id="cb256-29"><a href="ranking.html#cb256-29" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x=</span><span class="fl">0.7</span>, <span class="at">y=</span><span class="dv">1</span>, <span class="at">legend =</span> <span class="fu">rownames</span>(data[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),]), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>, <span class="at">pch=</span><span class="dv">20</span> , <span class="at">col=</span>colors_in , <span class="at">text.col =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">cex=</span><span class="fl">1.2</span>, <span class="at">pt.cex=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/radar-chart-about-axis-limits-1.png" width="672" /></p>
<div id="warning" class="section level4" number="4.2.5.1">
<h4><span class="header-section-number">4.2.5.1</span> Warning</h4>
<p>There is a lot of criticism going around spider chart. Before using it in a project, you probably want to <a href="https://www.data-to-viz.com/caveat/spider.html">learn more about it</a>.</p>
</div>
</div>
</div>
<div id="wordcloud" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Wordcloud</h2>
<hr />
<p>A <a href="https://www.data-to-viz.com/graph/wordcloud.html">wordcloud</a> (or tag cloud) is a visual representation of text data. Tags are usually single words, and the importance of each tag is shown with font size or color. In <code>R</code>, two packages allow to create wordclouds: <code>Wordcloud</code> and <code>Wordcloud2</code>.</p>
<div id="wordcloud2" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> <code>wordcloud2</code></h3>
<p>The <a href="https://cran.r-project.org/web/packages/wordcloud2/vignettes/wordcloud.html">Wordcloud2</a> package by <a href="https://github.com/Lchiffon">Chiffon Lang</a> is probably the best way to build <a href="https://www.data-to-viz.com/graph/wordcloud.html">wordclouds</a> with R. Note that it is a html widget. Thus the default output format is <code>HTML</code>. If you need a <code>PNG</code> or <code>PDF</code>, read this section.</p>
</div>
<div id="the-wordcloud2-library" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> The <strong>Wordcloud2</strong> Library</h3>
<p>This section explains how to draw <a href="https://www.r-graph-gallery.com/wordcloud.html">wordclouds</a> with <code>R</code> and the <code>wordcloud2</code> package. It provides several reproducible examples with explanation and R code. It is largely inspired from the very well done <a href="https://cran.r-project.org/web/packages/wordcloud2/vignettes/wordcloud.html">vignette</a>.</p>
<div id="most-basic-with-wordcloud2" class="section level4" number="4.3.2.1">
<h4><span class="header-section-number">4.3.2.1</span> Most Basic with <code>wordcloud2()</code></h4>
<p>This is the most basic barplot you can build with the <code>wordcloud2</code> library, using its <code>wordcloud2()</code> function. Note:</p>
<ul>
<li><code>data</code>: is a data frame including word and freq in each column.</li>
<li><code>size</code>: is the font size, default is 1.</li>
</ul>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="ranking.html#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb257-2"><a href="ranking.html#cb257-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2) </span>
<span id="cb257-3"><a href="ranking.html#cb257-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb257-4"><a href="ranking.html#cb257-4" aria-hidden="true" tabindex="-1"></a><span class="co"># have a look to the example dataset</span></span>
<span id="cb257-5"><a href="ranking.html#cb257-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(demoFreq)</span>
<span id="cb257-6"><a href="ranking.html#cb257-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic plot</span></span>
<span id="cb257-7"><a href="ranking.html#cb257-7" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(<span class="at">data=</span>demoFreq, <span class="at">size=</span><span class="fl">1.6</span>)</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library1.png" />
</center>
</div>
</div>
<div id="color-background-color" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Color &amp; Background Color</h3>
<p>It is possible to change the word <code>color</code> using the color argument. You can provide a vector of color, or use <code>random-dark</code> or <code>random-light</code>. You can also customize the background color with <code>backgroundColor</code>.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="ranking.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb258-2"><a href="ranking.html#cb258-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2) </span>
<span id="cb258-3"><a href="ranking.html#cb258-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb258-4"><a href="ranking.html#cb258-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Gives a proposed palette</span></span>
<span id="cb258-5"><a href="ranking.html#cb258-5" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(demoFreq, <span class="at">size=</span><span class="fl">1.6</span>, <span class="at">color=</span><span class="st">&#39;random-dark&#39;</span>)</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library2.png" />
</center>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="ranking.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="co"># or a vector of colors. vector must be same length than input data</span></span>
<span id="cb259-2"><a href="ranking.html#cb259-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(demoFreq, <span class="at">size=</span><span class="fl">1.6</span>, <span class="at">color=</span><span class="fu">rep_len</span>( <span class="fu">c</span>(<span class="st">&quot;green&quot;</span>,<span class="st">&quot;blue&quot;</span>), <span class="fu">nrow</span>(demoFreq) ) )</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library3.png" />
</center>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="ranking.html#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the background color</span></span>
<span id="cb260-2"><a href="ranking.html#cb260-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(demoFreq, <span class="at">size=</span><span class="fl">1.6</span>, <span class="at">color=</span><span class="st">&#39;random-light&#39;</span>, <span class="at">backgroundColor=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library4.png" />
</center>
</div>
<div id="shape" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Shape</h3>
<p>You can custom the wordcloud shape using the shape argument. Available shapes are:</p>
<ul>
<li><code>circle</code></li>
<li><code>cardioid</code></li>
<li><code>diamond</code></li>
<li><code>triangle-forward</code></li>
<li><code>triangle</code></li>
<li><code>pentagon</code></li>
<li><code>star</code></li>
</ul>
<p>You can also use an image like <a href="https://github.com/holtzy/R-graph-gallery/blob/master/img/other/peaceAndLove.jpg">this one</a> as a mask.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="ranking.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb261-2"><a href="ranking.html#cb261-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2) </span>
<span id="cb261-3"><a href="ranking.html#cb261-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb261-4"><a href="ranking.html#cb261-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the shape:</span></span>
<span id="cb261-5"><a href="ranking.html#cb261-5" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(demoFreq, <span class="at">size =</span> <span class="fl">0.7</span>, <span class="at">shape =</span> <span class="st">&#39;star&#39;</span>)</span></code></pre></div>
<center>
<p><img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library5.png" /></p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="ranking.html#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the shape using your image</span></span>
<span id="cb262-2"><a href="ranking.html#cb262-2" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(demoFreq, <span class="at">figPath =</span> <span class="st">&quot;~/Desktop/R-graph-gallery/img/other/peaceAndLove.jpg&quot;</span>, <span class="at">size =</span> <span class="fl">1.5</span>, <span class="at">color =</span> <span class="st">&quot;skyblue&quot;</span>, <span class="at">backgroundColor=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library6.png" />
</center>
</div>
<div id="word-orientation" class="section level3" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Word Orientation</h3>
<p>Rotate words with 3 arguments: <code>minRotation</code>, <code>maxRotation</code> and <code>rotateRatio</code>.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="ranking.html#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb263-2"><a href="ranking.html#cb263-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2) </span>
<span id="cb263-3"><a href="ranking.html#cb263-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb263-4"><a href="ranking.html#cb263-4" aria-hidden="true" tabindex="-1"></a><span class="co"># wordcloud</span></span>
<span id="cb263-5"><a href="ranking.html#cb263-5" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(demoFreq, <span class="at">size =</span> <span class="fl">2.3</span>, <span class="at">minRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">6</span>, <span class="at">maxRotation =</span> <span class="sc">-</span>pi<span class="sc">/</span><span class="dv">6</span>, <span class="at">rotateRatio =</span> <span class="dv">1</span>)</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library7.png" />
</center>
<hr />
</div>
<div id="chinese-version" class="section level3" number="4.3.6">
<h3><span class="header-section-number">4.3.6</span> Chinese Version</h3>
<p>Chinese version. Comes from the <a href="https://cran.r-project.org/web/packages/wordcloud2/vignettes/wordcloud.html">doc</a>.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="ranking.html#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb264-2"><a href="ranking.html#cb264-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2) </span>
<span id="cb264-3"><a href="ranking.html#cb264-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb264-4"><a href="ranking.html#cb264-4" aria-hidden="true" tabindex="-1"></a><span class="co"># wordcloud</span></span>
<span id="cb264-5"><a href="ranking.html#cb264-5" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud2</span>(demoFreqC, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">fontFamily =</span> <span class="st">&quot;????????????&quot;</span>, <span class="at">color =</span> <span class="st">&quot;random-light&quot;</span>, <span class="at">backgroundColor =</span> <span class="st">&quot;grey&quot;</span>)</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library8.png" />
</center>
</div>
<div id="use-letter-or-text-as-shape" class="section level3" number="4.3.7">
<h3><span class="header-section-number">4.3.7</span> Use Letter or Text as Shape</h3>
<p>The <code>letterCloud</code> function allows to use a letter or a word as a mask for the wordcloud:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="ranking.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb265-2"><a href="ranking.html#cb265-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2) </span>
<span id="cb265-3"><a href="ranking.html#cb265-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb265-4"><a href="ranking.html#cb265-4" aria-hidden="true" tabindex="-1"></a><span class="fu">letterCloud</span>( demoFreq, <span class="at">word =</span> <span class="st">&quot;R&quot;</span>, <span class="at">color=</span><span class="st">&#39;random-light&#39;</span> , <span class="at">backgroundColor=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library9.png" />
</center>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="ranking.html#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="fu">letterCloud</span>( demoFreq, <span class="at">word =</span> <span class="st">&quot;PEACE&quot;</span>, <span class="at">color=</span><span class="st">&quot;white&quot;</span>, <span class="at">backgroundColor=</span><span class="st">&quot;pink&quot;</span>)</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/196-the-wordcloud2-library10.png" />
</center>
</div>
<div id="export-the-wordcloud" class="section level3" number="4.3.8">
<h3><span class="header-section-number">4.3.8</span> Export the Wordcloud</h3>
<p><code>Wordcloud2</code> is a <a href="https://www.htmlwidgets.org/">html widget</a>. It means your wordcloud will be output in a <code>HTML</code> format.</p>
<p>You can export it as a <code>png</code> image using rstudio, or using the <code>webshot</code> library as follow:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="ranking.html#cb267-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load wordcloud2</span></span>
<span id="cb267-2"><a href="ranking.html#cb267-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud2) </span>
<span id="cb267-3"><a href="ranking.html#cb267-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install webshot</span></span>
<span id="cb267-4"><a href="ranking.html#cb267-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(webshot)</span>
<span id="cb267-5"><a href="ranking.html#cb267-5" aria-hidden="true" tabindex="-1"></a>webshot<span class="sc">::</span><span class="fu">install_phantomjs</span>()</span>
<span id="cb267-6"><a href="ranking.html#cb267-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the graph</span></span>
<span id="cb267-7"><a href="ranking.html#cb267-7" aria-hidden="true" tabindex="-1"></a>my_graph <span class="ot">&lt;-</span> <span class="fu">wordcloud2</span>(demoFreq, <span class="at">size=</span><span class="fl">1.5</span>)</span>
<span id="cb267-8"><a href="ranking.html#cb267-8" aria-hidden="true" tabindex="-1"></a><span class="co"># save it in html</span></span>
<span id="cb267-9"><a href="ranking.html#cb267-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;htmlwidgets&quot;</span>)</span>
<span id="cb267-10"><a href="ranking.html#cb267-10" aria-hidden="true" tabindex="-1"></a><span class="fu">saveWidget</span>(my_graph,<span class="st">&quot;tmp.html&quot;</span>,<span class="at">selfcontained =</span> F)</span>
<span id="cb267-11"><a href="ranking.html#cb267-11" aria-hidden="true" tabindex="-1"></a><span class="co"># and in png or pdf</span></span>
<span id="cb267-12"><a href="ranking.html#cb267-12" aria-hidden="true" tabindex="-1"></a><span class="fu">webshot</span>(<span class="st">&quot;tmp.html&quot;</span>,<span class="st">&quot;fig_1.pdf&quot;</span>, <span class="at">delay =</span><span class="dv">5</span>, <span class="at">vwidth =</span> <span class="dv">480</span>, <span class="at">vheight=</span><span class="dv">480</span>)</span></code></pre></div>
</div>
<div id="basic-wordcloud-in-r" class="section level3" number="4.3.9">
<h3><span class="header-section-number">4.3.9</span> Basic <code>wordcloud</code> in R</h3>
<p>A wordcloud is a visual representation of text data. Learn how to build a basic wordcloud with R and the wordcloud library, with reproducible code provided.</p>
<p><a href="https://www.r-graph-gallery.com/wordcloud.html">Wordclouds</a> can be very useful to highlight the main topics in text.</p>
<p>In <code>R</code>, it can be built using the <code>wordcloud</code> package as described below.</p>
<p><u>Note</u>: the wordcloud2 package allows more customizations and is extensively described <a href="https://www.r-graph-gallery.com/196-the-wordcloud2-library.html">here</a>.</p>
<p><u>Note</u>: this <a href="https://www.jasondavies.com/wordcloud/#%2F%2Fwww.r-graph-gallery.com%0A">online tool</a> is a good non-programming alternative.</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="ranking.html#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Charge the wordcloud library</span></span>
<span id="cb268-2"><a href="ranking.html#cb268-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span>
<span id="cb268-3"><a href="ranking.html#cb268-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb268-4"><a href="ranking.html#cb268-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a list of words (Random words concerning my work)</span></span>
<span id="cb268-5"><a href="ranking.html#cb268-5" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Cereal&quot;</span>,<span class="st">&quot;WSSMV&quot;</span>,<span class="st">&quot;SBCMV&quot;</span>,<span class="st">&quot;Experimentation&quot;</span>,<span class="st">&quot;Talk&quot;</span>,<span class="st">&quot;Conference&quot;</span>,<span class="st">&quot;Writing&quot;</span>, </span>
<span id="cb268-6"><a href="ranking.html#cb268-6" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;Publication&quot;</span>,<span class="st">&quot;Analysis&quot;</span>,<span class="st">&quot;Bioinformatics&quot;</span>,<span class="st">&quot;Science&quot;</span>,<span class="st">&quot;Statistics&quot;</span>,<span class="st">&quot;Data&quot;</span>, </span>
<span id="cb268-7"><a href="ranking.html#cb268-7" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;Programming&quot;</span>,<span class="st">&quot;Wheat&quot;</span>,<span class="st">&quot;Virus&quot;</span>,<span class="st">&quot;Genotyping&quot;</span>,<span class="st">&quot;Work&quot;</span>,<span class="st">&quot;Fun&quot;</span>,<span class="st">&quot;Surfing&quot;</span>,<span class="st">&quot;R&quot;</span>, <span class="st">&quot;R&quot;</span>,</span>
<span id="cb268-8"><a href="ranking.html#cb268-8" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;Data-Viz&quot;</span>,<span class="st">&quot;Python&quot;</span>,<span class="st">&quot;Linux&quot;</span>,<span class="st">&quot;Programming&quot;</span>,<span class="st">&quot;Graph Gallery&quot;</span>,<span class="st">&quot;Biologie&quot;</span>, <span class="st">&quot;Resistance&quot;</span>,</span>
<span id="cb268-9"><a href="ranking.html#cb268-9" aria-hidden="true" tabindex="-1"></a>   <span class="st">&quot;Computing&quot;</span>,<span class="st">&quot;Data-Science&quot;</span>,<span class="st">&quot;Reproductible&quot;</span>,<span class="st">&quot;GitHub&quot;</span>,<span class="st">&quot;Script&quot;</span>)</span>
<span id="cb268-10"><a href="ranking.html#cb268-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb268-11"><a href="ranking.html#cb268-11" aria-hidden="true" tabindex="-1"></a><span class="co">#I give a frequency to each word of this list </span></span>
<span id="cb268-12"><a href="ranking.html#cb268-12" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.01</span>) , <span class="fu">length</span>(a) , <span class="at">replace=</span><span class="cn">TRUE</span>) </span>
<span id="cb268-13"><a href="ranking.html#cb268-13" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb268-14"><a href="ranking.html#cb268-14" aria-hidden="true" tabindex="-1"></a><span class="co">#The package will automatically make the wordcloud ! (I add a black background)</span></span>
<span id="cb268-15"><a href="ranking.html#cb268-15" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">bg=</span><span class="st">&quot;black&quot;</span>) </span>
<span id="cb268-16"><a href="ranking.html#cb268-16" aria-hidden="true" tabindex="-1"></a><span class="fu">wordcloud</span>(a , b , <span class="at">col=</span><span class="fu">terrain.colors</span>(<span class="fu">length</span>(a) , <span class="at">alpha=</span><span class="fl">0.9</span>) , <span class="at">rot.per=</span><span class="fl">0.3</span> )</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/15-wordcloud_files/figure-html/thecode-1.png" />
</center>
</div>
<div id="text-mining-and-wordcloud-with-r" class="section level3" number="4.3.10">
<h3><span class="header-section-number">4.3.10</span> Text mining and <code>wordcloud</code> with R</h3>
<p>This section describes a text mining project done with <code>R</code>, showing results as wordclouds. It was used for a document classification challenge. R code is provided.</p>
<p>These graphics come from the blog of <a href="http://www.btovar.com/">Benjamin Tovarcis</a>. He answered a machine learning challenge at H<a href="https://www.hackerrank.com/">ackerrank</a> which consisted on document classification.</p>
<p>The dataset consists of 5485 documents distributed among 8 different classes, perfect to learn text mining (with the <a href="https://cran.r-project.org/web/packages/tm/index.html">tm package</a>) and compute <a href="https://www.r-graph-gallery.com/wordcloud.html">wordclouds</a> (using the <code>wordcloud</code> package).</p>
<p>If you need a more basic approach of wordcloud, have a look to the <a href="https://www.r-graph-gallery.com/15-wordcloud">graph #15</a>. Have a look to the blog of Benjamin for more explanations and thanks to him for his contribution !</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="ranking.html#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages</span></span>
<span id="cb269-2"><a href="ranking.html#cb269-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape)</span>
<span id="cb269-3"><a href="ranking.html#cb269-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span>
<span id="cb269-4"><a href="ranking.html#cb269-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span>
<span id="cb269-5"><a href="ranking.html#cb269-5" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-6"><a href="ranking.html#cb269-6" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span></span>
<span id="cb269-7"><a href="ranking.html#cb269-7" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-8"><a href="ranking.html#cb269-8" aria-hidden="true" tabindex="-1"></a><span class="co"># -- STEP 1 : GET THE DATA</span></span>
<span id="cb269-9"><a href="ranking.html#cb269-9" aria-hidden="true" tabindex="-1"></a><span class="co"># A dataset with 5485 lines, each line has several words.</span></span>
<span id="cb269-10"><a href="ranking.html#cb269-10" aria-hidden="true" tabindex="-1"></a>dataset<span class="ot">=</span><span class="fu">read.delim</span>(<span class="st">&quot;https://raw.githubusercontent.com/TATABOX42/text-mining-in-r/master/dataset.txt&quot;</span>, <span class="at">header=</span><span class="cn">FALSE</span>)</span>
<span id="cb269-11"><a href="ranking.html#cb269-11" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-12"><a href="ranking.html#cb269-12" aria-hidden="true" tabindex="-1"></a><span class="co"># The labels of each line of the dataset file</span></span>
<span id="cb269-13"><a href="ranking.html#cb269-13" aria-hidden="true" tabindex="-1"></a>dataset_labels <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">&quot;https://raw.githubusercontent.com/TATABOX42/text-mining-in-r/master/labels.txt&quot;</span>,<span class="at">header=</span><span class="cn">FALSE</span>)</span>
<span id="cb269-14"><a href="ranking.html#cb269-14" aria-hidden="true" tabindex="-1"></a>dataset_labels <span class="ot">&lt;-</span> dataset_labels[,<span class="dv">1</span>]</span>
<span id="cb269-15"><a href="ranking.html#cb269-15" aria-hidden="true" tabindex="-1"></a>dataset_labels_p <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;class&quot;</span>,dataset_labels,<span class="at">sep=</span><span class="st">&quot;_&quot;</span>)</span>
<span id="cb269-16"><a href="ranking.html#cb269-16" aria-hidden="true" tabindex="-1"></a>unique_labels <span class="ot">&lt;-</span> <span class="fu">unique</span>(dataset_labels_p)</span>
<span id="cb269-17"><a href="ranking.html#cb269-17" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-18"><a href="ranking.html#cb269-18" aria-hidden="true" tabindex="-1"></a><span class="co"># merge documents that match certain class into a list object</span></span>
<span id="cb269-19"><a href="ranking.html#cb269-19" aria-hidden="true" tabindex="-1"></a>dataset_s <span class="ot">&lt;-</span> <span class="fu">sapply</span>(unique_labels,<span class="cf">function</span>(label) <span class="fu">list</span>( dataset[dataset_labels_p <span class="sc">%in%</span> label,<span class="dv">1</span>] ) )</span>
<span id="cb269-20"><a href="ranking.html#cb269-20" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-21"><a href="ranking.html#cb269-21" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-22"><a href="ranking.html#cb269-22" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span></span>
<span id="cb269-23"><a href="ranking.html#cb269-23" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-24"><a href="ranking.html#cb269-24" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-25"><a href="ranking.html#cb269-25" aria-hidden="true" tabindex="-1"></a><span class="co"># -- STEP2 : COMPUTE DOCUMENT CORPUS TO MAKE TEXT MINING</span></span>
<span id="cb269-26"><a href="ranking.html#cb269-26" aria-hidden="true" tabindex="-1"></a><span class="co"># convert each list content into a corpus</span></span>
<span id="cb269-27"><a href="ranking.html#cb269-27" aria-hidden="true" tabindex="-1"></a>dataset_corpus <span class="ot">&lt;-</span> <span class="fu">lapply</span>(dataset_s, <span class="cf">function</span>(x) <span class="fu">Corpus</span>(<span class="fu">VectorSource</span>( <span class="fu">toString</span>(x) ))) </span>
<span id="cb269-28"><a href="ranking.html#cb269-28" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-29"><a href="ranking.html#cb269-29" aria-hidden="true" tabindex="-1"></a><span class="co"># merge all documents into one single corpus</span></span>
<span id="cb269-30"><a href="ranking.html#cb269-30" aria-hidden="true" tabindex="-1"></a>dataset_corpus_all <span class="ot">&lt;-</span> dataset_corpus[[<span class="dv">1</span>]]</span>
<span id="cb269-31"><a href="ranking.html#cb269-31" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span><span class="fu">length</span>(unique_labels)) { dataset_corpus_all <span class="ot">&lt;-</span> <span class="fu">c</span>(dataset_corpus_all,dataset_corpus[[i]]) }</span>
<span id="cb269-32"><a href="ranking.html#cb269-32" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-33"><a href="ranking.html#cb269-33" aria-hidden="true" tabindex="-1"></a><span class="co"># remove punctuation, numbers and stopwords</span></span>
<span id="cb269-34"><a href="ranking.html#cb269-34" aria-hidden="true" tabindex="-1"></a>dataset_corpus_all <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(dataset_corpus_all, removePunctuation)</span>
<span id="cb269-35"><a href="ranking.html#cb269-35" aria-hidden="true" tabindex="-1"></a>dataset_corpus_all <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(dataset_corpus_all, removeNumbers)</span>
<span id="cb269-36"><a href="ranking.html#cb269-36" aria-hidden="true" tabindex="-1"></a>dataset_corpus_all <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(dataset_corpus_all, <span class="cf">function</span>(x) <span class="fu">removeWords</span>(x,<span class="fu">stopwords</span>(<span class="st">&quot;english&quot;</span>)))</span>
<span id="cb269-37"><a href="ranking.html#cb269-37" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-38"><a href="ranking.html#cb269-38" aria-hidden="true" tabindex="-1"></a><span class="co">#remove some unintersting words</span></span>
<span id="cb269-39"><a href="ranking.html#cb269-39" aria-hidden="true" tabindex="-1"></a>words_to_remove <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;said&quot;</span>,<span class="st">&quot;from&quot;</span>,<span class="st">&quot;what&quot;</span>,<span class="st">&quot;told&quot;</span>,<span class="st">&quot;over&quot;</span>,<span class="st">&quot;more&quot;</span>,<span class="st">&quot;other&quot;</span>,<span class="st">&quot;have&quot;</span>,<span class="st">&quot;last&quot;</span>,<span class="st">&quot;with&quot;</span>,<span class="st">&quot;this&quot;</span>,<span class="st">&quot;that&quot;</span>,<span class="st">&quot;such&quot;</span>,<span class="st">&quot;when&quot;</span>,<span class="st">&quot;been&quot;</span>,<span class="st">&quot;says&quot;</span>,<span class="st">&quot;will&quot;</span>,<span class="st">&quot;also&quot;</span>,<span class="st">&quot;where&quot;</span>,<span class="st">&quot;why&quot;</span>,<span class="st">&quot;would&quot;</span>,<span class="st">&quot;today&quot;</span>)</span>
<span id="cb269-40"><a href="ranking.html#cb269-40" aria-hidden="true" tabindex="-1"></a>dataset_corpus_all <span class="ot">&lt;-</span> <span class="fu">tm_map</span>(dataset_corpus_all, removeWords, words_to_remove)</span>
<span id="cb269-41"><a href="ranking.html#cb269-41" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-42"><a href="ranking.html#cb269-42" aria-hidden="true" tabindex="-1"></a><span class="co"># compute term matrix &amp; convert to matrix class --&gt; you get a table summarizing the occurence of each word in each class.</span></span>
<span id="cb269-43"><a href="ranking.html#cb269-43" aria-hidden="true" tabindex="-1"></a>document_tm <span class="ot">&lt;-</span> <span class="fu">TermDocumentMatrix</span>(dataset_corpus_all)</span>
<span id="cb269-44"><a href="ranking.html#cb269-44" aria-hidden="true" tabindex="-1"></a>document_tm_mat <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(document_tm)</span>
<span id="cb269-45"><a href="ranking.html#cb269-45" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(document_tm_mat) <span class="ot">&lt;-</span> unique_labels</span>
<span id="cb269-46"><a href="ranking.html#cb269-46" aria-hidden="true" tabindex="-1"></a>document_tm_clean <span class="ot">&lt;-</span> <span class="fu">removeSparseTerms</span>(document_tm, <span class="fl">0.8</span>)</span>
<span id="cb269-47"><a href="ranking.html#cb269-47" aria-hidden="true" tabindex="-1"></a>document_tm_clean_mat <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(document_tm_clean)</span>
<span id="cb269-48"><a href="ranking.html#cb269-48" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(document_tm_clean_mat) <span class="ot">&lt;-</span> unique_labels</span>
<span id="cb269-49"><a href="ranking.html#cb269-49" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-50"><a href="ranking.html#cb269-50" aria-hidden="true" tabindex="-1"></a><span class="co"># remove words in term matrix with length &lt; 4</span></span>
<span id="cb269-51"><a href="ranking.html#cb269-51" aria-hidden="true" tabindex="-1"></a>index <span class="ot">&lt;-</span> <span class="fu">as.logical</span>(<span class="fu">sapply</span>(<span class="fu">rownames</span>(document_tm_clean_mat), <span class="cf">function</span>(x) (<span class="fu">nchar</span>(x)<span class="sc">&gt;</span><span class="dv">3</span>) ))</span>
<span id="cb269-52"><a href="ranking.html#cb269-52" aria-hidden="true" tabindex="-1"></a>document_tm_clean_mat_s <span class="ot">&lt;-</span> document_tm_clean_mat[index,]</span>
<span id="cb269-53"><a href="ranking.html#cb269-53" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-54"><a href="ranking.html#cb269-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Have a look to the matrix you are going to use for wordcloud !</span></span>
<span id="cb269-55"><a href="ranking.html#cb269-55" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(document_tm_clean_mat_s)</span>
<span id="cb269-56"><a href="ranking.html#cb269-56" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-57"><a href="ranking.html#cb269-57" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-58"><a href="ranking.html#cb269-58" aria-hidden="true" tabindex="-1"></a><span class="co"># --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span></span>
<span id="cb269-59"><a href="ranking.html#cb269-59" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-60"><a href="ranking.html#cb269-60" aria-hidden="true" tabindex="-1"></a><span class="co"># -- STEP 3 : make the graphics !</span></span>
<span id="cb269-61"><a href="ranking.html#cb269-61" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb269-62"><a href="ranking.html#cb269-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph 1 : first top 500 discriminant words</span></span>
<span id="cb269-63"><a href="ranking.html#cb269-63" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="st">&quot;#102_1_comparison_cloud_top_500_words.png&quot;</span>, <span class="at">width =</span> <span class="dv">480</span>, <span class="at">height =</span> <span class="dv">480</span>)</span>
<span id="cb269-64"><a href="ranking.html#cb269-64" aria-hidden="true" tabindex="-1"></a><span class="fu">comparison.cloud</span>(document_tm_clean_mat_s, <span class="at">max.words=</span><span class="dv">500</span>, <span class="at">random.order=</span><span class="cn">FALSE</span>,<span class="fu">c</span>(<span class="dv">4</span>,<span class="fl">0.4</span>), <span class="at">title.size=</span><span class="fl">1.4</span>)</span>
<span id="cb269-65"><a href="ranking.html#cb269-65" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/102-text-mining-and-wordcloud1.png" />
</center>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="ranking.html#cb270-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph 2 : first top 2000 discriminant words</span></span>
<span id="cb270-2"><a href="ranking.html#cb270-2" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="st">&quot;#102_1_comparison_cloud_top_2000_words.png&quot;</span>, <span class="at">width =</span> <span class="dv">480</span>, <span class="at">height =</span> <span class="dv">480</span>)</span>
<span id="cb270-3"><a href="ranking.html#cb270-3" aria-hidden="true" tabindex="-1"></a><span class="fu">comparison.cloud</span>(document_tm_clean_mat_s,<span class="at">max.words=</span><span class="dv">2000</span>,<span class="at">random.order=</span><span class="cn">FALSE</span>,<span class="fu">c</span>(<span class="dv">4</span>,<span class="fl">0.4</span>), <span class="at">title.size=</span><span class="fl">1.4</span>)</span>
<span id="cb270-4"><a href="ranking.html#cb270-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/102-text-mining-and-wordcloud2.png" />
</center>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="ranking.html#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph 3: commonality word cloud : first top 2000 common words across classes</span></span>
<span id="cb271-2"><a href="ranking.html#cb271-2" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="st">&quot;#103_commonality_wordcloud.png&quot;</span>, <span class="at">width =</span> <span class="dv">480</span>, <span class="at">height =</span> <span class="dv">480</span>)</span>
<span id="cb271-3"><a href="ranking.html#cb271-3" aria-hidden="true" tabindex="-1"></a><span class="fu">commonality.cloud</span>(document_tm_clean_mat_s, <span class="at">max.words=</span><span class="dv">2000</span>, <span class="at">random.order=</span><span class="cn">FALSE</span>)</span>
<span id="cb271-4"><a href="ranking.html#cb271-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/102-text-mining-and-wordcloud3.png" />
</center>
</div>
</div>
<div id="parallel-coordinates-chart" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Parallel Coordinates Chart</h2>
<hr />
<p>This is the <a href="https://www.data-to-viz.com/graph/parallel.html">Parallel Coordinates chart</a> section of the gallery. If you want to know more about this kind of chart, visit <a href="https://www.data-to-viz.com/graph/parallel.html">data-to-viz.com</a>. If youre looking for a simple way to implement it in d3.js, pick an example below.</p>
<div id="step-by-step---the-ggally-library" class="section level4" number="4.4.0.1">
<h4><span class="header-section-number">4.4.0.1</span> Step by Step - The <code>ggally</code> Library</h4>
<p>The <a href="https://github.com/ggobi/ggally">ggally</a> package is a ggplot2 extension that allows to build parallel coordinates charts thanks to the parcoord() function. It allows to beneficiate the grammar of graphics and all the usual ggplot2 customization.</p>
</div>
<div id="parallel-coordinates-chart-with-ggally" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Parallel Coordinates Chart with ggally</h3>
<p><code>ggally</code> is a <code>ggplot2</code> extension. It allows to build <a href="https://www.r-graph-gallery.com/parallel-plot.html">parallel coordinates charts</a> thanks to the <code>ggparcoord()</code> function. Check several reproducible examples in this section.</p>
<div id="most-basic" class="section level4" number="4.4.1.1">
<h4><span class="header-section-number">4.4.1.1</span> Most Basic</h4>
<p>This is the most basic parallel coordinates chart you can build with <code>R</code>, the <code>ggally</code> packages and its <code>ggparcoord()</code> function.</p>
<p>The input dataset must be a data frame with several numeric variables, each being used as a vertical axis on the chart. Columns number of these variables are specified in the <code>columns</code> argument of the function.</p>
<p><u>Note</u>: Categoric variable is used to color lines, as specified in the <code>groupColumn</code> variable.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="ranking.html#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb272-2"><a href="ranking.html#cb272-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb272-3"><a href="ranking.html#cb272-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Data set is provided by R natively</span></span>
<span id="cb272-4"><a href="ranking.html#cb272-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> iris</span>
<span id="cb272-5"><a href="ranking.html#cb272-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb272-6"><a href="ranking.html#cb272-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggparcoord</span>(data,</span>
<span id="cb272-7"><a href="ranking.html#cb272-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">groupColumn =</span> <span class="dv">5</span></span>
<span id="cb272-8"><a href="ranking.html#cb272-8" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/parallel-plot-ggally_files/figure-html/thecode-1.png" /></p>
</div>
</div>
<div id="custom-color-theme-general-appearance" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Custom Color, Theme, General Appearance</h3>
<p>This is pretty much the same chart as the previous one, except for the following customizations:</p>
<ul>
<li>Color palette is improved thanks to the <code>viridis</code> package.</li>
<li>Title is added with <code>title</code>, and customized in theme.</li>
<li>Dots are added with <code>showPoints</code>.</li>
<li>Transparency is applied to lines with <code>alphaLines</code>.</li>
<li><code>theme_ipsum()</code> is used for the general appearance.</li>
</ul>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="ranking.html#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb273-2"><a href="ranking.html#cb273-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb273-3"><a href="ranking.html#cb273-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb273-4"><a href="ranking.html#cb273-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb273-5"><a href="ranking.html#cb273-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Data set is provided by R natively</span></span>
<span id="cb273-6"><a href="ranking.html#cb273-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> iris</span>
<span id="cb273-7"><a href="ranking.html#cb273-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb273-8"><a href="ranking.html#cb273-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggparcoord</span>(data,</span>
<span id="cb273-9"><a href="ranking.html#cb273-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">groupColumn =</span> <span class="dv">5</span>, <span class="at">order =</span> <span class="st">&quot;anyClass&quot;</span>,</span>
<span id="cb273-10"><a href="ranking.html#cb273-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">showPoints =</span> <span class="cn">TRUE</span>, </span>
<span id="cb273-11"><a href="ranking.html#cb273-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Parallel Coordinate Plot for the Iris Data&quot;</span>,</span>
<span id="cb273-12"><a href="ranking.html#cb273-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">alphaLines =</span> <span class="fl">0.3</span></span>
<span id="cb273-13"><a href="ranking.html#cb273-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> </span>
<span id="cb273-14"><a href="ranking.html#cb273-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>(<span class="at">discrete=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb273-15"><a href="ranking.html#cb273-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()<span class="sc">+</span></span>
<span id="cb273-16"><a href="ranking.html#cb273-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb273-17"><a href="ranking.html#cb273-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb273-18"><a href="ranking.html#cb273-18" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/parallel-plot-ggally_files/figure-html/thecode2-1.png" /></p>
</div>
<div id="scaling" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Scaling</h3>
<p>Scaling transforms the raw data to a new scale that is common with other variables. It is a crucial step to compare variables that do not have the same unit, but can also help otherwise as shown in the example below.</p>
<p>The <code>ggally</code> package offers a scale argument. Four possible options are applied on the same dataset below:</p>
<ul>
<li><code>globalminmax</code>: No scaling</li>
<li><code>uniminmax</code>: Standardize to Min = 0 and Max = 1</li>
<li><code>std</code>:Normalize univariately (substract mean &amp; divide by sd)</li>
<li><code>center</code>: Standardize and center variables</li>
</ul>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="ranking.html#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggparcoord</span>(data,</span>
<span id="cb274-2"><a href="ranking.html#cb274-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">groupColumn =</span> <span class="dv">5</span>, <span class="at">order =</span> <span class="st">&quot;anyClass&quot;</span>,</span>
<span id="cb274-3"><a href="ranking.html#cb274-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">scale=</span><span class="st">&quot;globalminmax&quot;</span>,</span>
<span id="cb274-4"><a href="ranking.html#cb274-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">showPoints =</span> <span class="cn">TRUE</span>, </span>
<span id="cb274-5"><a href="ranking.html#cb274-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;No scaling&quot;</span>,</span>
<span id="cb274-6"><a href="ranking.html#cb274-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">alphaLines =</span> <span class="fl">0.3</span></span>
<span id="cb274-7"><a href="ranking.html#cb274-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> </span>
<span id="cb274-8"><a href="ranking.html#cb274-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>(<span class="at">discrete=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb274-9"><a href="ranking.html#cb274-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()<span class="sc">+</span></span>
<span id="cb274-10"><a href="ranking.html#cb274-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb274-11"><a href="ranking.html#cb274-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>,</span>
<span id="cb274-12"><a href="ranking.html#cb274-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">13</span>)</span>
<span id="cb274-13"><a href="ranking.html#cb274-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb274-14"><a href="ranking.html#cb274-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/parallel-plot-ggally_files/figure-html/thecode31-1.png" /></p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="ranking.html#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggparcoord</span>(data,</span>
<span id="cb275-2"><a href="ranking.html#cb275-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">groupColumn =</span> <span class="dv">5</span>, <span class="at">order =</span> <span class="st">&quot;anyClass&quot;</span>,</span>
<span id="cb275-3"><a href="ranking.html#cb275-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">scale=</span><span class="st">&quot;uniminmax&quot;</span>,</span>
<span id="cb275-4"><a href="ranking.html#cb275-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">showPoints =</span> <span class="cn">TRUE</span>, </span>
<span id="cb275-5"><a href="ranking.html#cb275-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Standardize to Min = 0 and Max = 1&quot;</span>,</span>
<span id="cb275-6"><a href="ranking.html#cb275-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">alphaLines =</span> <span class="fl">0.3</span></span>
<span id="cb275-7"><a href="ranking.html#cb275-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> </span>
<span id="cb275-8"><a href="ranking.html#cb275-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>(<span class="at">discrete=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb275-9"><a href="ranking.html#cb275-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()<span class="sc">+</span></span>
<span id="cb275-10"><a href="ranking.html#cb275-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb275-11"><a href="ranking.html#cb275-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>,</span>
<span id="cb275-12"><a href="ranking.html#cb275-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">13</span>)</span>
<span id="cb275-13"><a href="ranking.html#cb275-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb275-14"><a href="ranking.html#cb275-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/parallel-plot-ggally_files/figure-html/thecode32-1.png" /></p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="ranking.html#cb276-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggparcoord</span>(data,</span>
<span id="cb276-2"><a href="ranking.html#cb276-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">groupColumn =</span> <span class="dv">5</span>, <span class="at">order =</span> <span class="st">&quot;anyClass&quot;</span>,</span>
<span id="cb276-3"><a href="ranking.html#cb276-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">scale=</span><span class="st">&quot;std&quot;</span>,</span>
<span id="cb276-4"><a href="ranking.html#cb276-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">showPoints =</span> <span class="cn">TRUE</span>, </span>
<span id="cb276-5"><a href="ranking.html#cb276-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Normalize univariately (substract mean &amp; divide by sd)&quot;</span>,</span>
<span id="cb276-6"><a href="ranking.html#cb276-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">alphaLines =</span> <span class="fl">0.3</span></span>
<span id="cb276-7"><a href="ranking.html#cb276-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> </span>
<span id="cb276-8"><a href="ranking.html#cb276-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>(<span class="at">discrete=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb276-9"><a href="ranking.html#cb276-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()<span class="sc">+</span></span>
<span id="cb276-10"><a href="ranking.html#cb276-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb276-11"><a href="ranking.html#cb276-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>,</span>
<span id="cb276-12"><a href="ranking.html#cb276-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">13</span>)</span>
<span id="cb276-13"><a href="ranking.html#cb276-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb276-14"><a href="ranking.html#cb276-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/parallel-plot-ggally_files/figure-html/thecode33-1.png" /></p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="ranking.html#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggparcoord</span>(data,</span>
<span id="cb277-2"><a href="ranking.html#cb277-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">groupColumn =</span> <span class="dv">5</span>, <span class="at">order =</span> <span class="st">&quot;anyClass&quot;</span>,</span>
<span id="cb277-3"><a href="ranking.html#cb277-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">scale=</span><span class="st">&quot;center&quot;</span>,</span>
<span id="cb277-4"><a href="ranking.html#cb277-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">showPoints =</span> <span class="cn">TRUE</span>, </span>
<span id="cb277-5"><a href="ranking.html#cb277-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Standardize and center variables&quot;</span>,</span>
<span id="cb277-6"><a href="ranking.html#cb277-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">alphaLines =</span> <span class="fl">0.3</span></span>
<span id="cb277-7"><a href="ranking.html#cb277-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> </span>
<span id="cb277-8"><a href="ranking.html#cb277-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>(<span class="at">discrete=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb277-9"><a href="ranking.html#cb277-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()<span class="sc">+</span></span>
<span id="cb277-10"><a href="ranking.html#cb277-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb277-11"><a href="ranking.html#cb277-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>,</span>
<span id="cb277-12"><a href="ranking.html#cb277-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">13</span>)</span>
<span id="cb277-13"><a href="ranking.html#cb277-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb277-14"><a href="ranking.html#cb277-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/parallel-plot-ggally_files/figure-html/thecode34-1.png" /></p>
</div>
<div id="highlight-a-group" class="section level3" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> Highlight a Group</h3>
<p>Data visualization aims to highlight a story in the data. If you are interested in a specific group, you can highlight it as follow:</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="ranking.html#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb278-2"><a href="ranking.html#cb278-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb278-3"><a href="ranking.html#cb278-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb278-4"><a href="ranking.html#cb278-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Data set is provided by R natively</span></span>
<span id="cb278-5"><a href="ranking.html#cb278-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> iris</span>
<span id="cb278-6"><a href="ranking.html#cb278-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb278-7"><a href="ranking.html#cb278-7" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb278-8"><a href="ranking.html#cb278-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Species)) <span class="sc">%&gt;%</span></span>
<span id="cb278-9"><a href="ranking.html#cb278-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggparcoord</span>(</span>
<span id="cb278-10"><a href="ranking.html#cb278-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">groupColumn =</span> <span class="dv">5</span>, <span class="at">order =</span> <span class="st">&quot;anyClass&quot;</span>,</span>
<span id="cb278-11"><a href="ranking.html#cb278-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">showPoints =</span> <span class="cn">TRUE</span>, </span>
<span id="cb278-12"><a href="ranking.html#cb278-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Original&quot;</span>,</span>
<span id="cb278-13"><a href="ranking.html#cb278-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">alphaLines =</span> <span class="dv">1</span></span>
<span id="cb278-14"><a href="ranking.html#cb278-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> </span>
<span id="cb278-15"><a href="ranking.html#cb278-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>( <span class="st">&quot;#69b3a2&quot;</span>, <span class="st">&quot;#E8E8E8&quot;</span>, <span class="st">&quot;#E8E8E8&quot;</span>) ) <span class="sc">+</span></span>
<span id="cb278-16"><a href="ranking.html#cb278-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>()<span class="sc">+</span></span>
<span id="cb278-17"><a href="ranking.html#cb278-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb278-18"><a href="ranking.html#cb278-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position=</span><span class="st">&quot;Default&quot;</span>,</span>
<span id="cb278-19"><a href="ranking.html#cb278-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb278-20"><a href="ranking.html#cb278-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb278-21"><a href="ranking.html#cb278-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/parallel-plot-ggally_files/figure-html/thecode4-1.png" /></p>
<div id="step-by-step---the-mass-library" class="section level4" number="4.4.4.1">
<h4><span class="header-section-number">4.4.4.1</span> Step by Step - The <code>MASS</code> Library</h4>
<p>The <a href="https://cran.r-project.org/web/packages/MASS/index.html">MASS</a> library allows to build parallel coordinates chart thanks to the <code>parcoord()</code> function. Learn how to <a href="https://www.r-graph-gallery.com/93-parrallel-plot.html">use</a> the function, how to <a href="https://www.r-graph-gallery.com/93-parrallel-plot.html#reorder">reorder</a> variables, how to custom the <a href="https://www.r-graph-gallery.com/93-parrallel-plot.html#reorder">color</a> palette and how to <a href="https://www.r-graph-gallery.com/93-parrallel-plot.html#highlight">highlight</a> a group on the chart.</p>
</div>
</div>
<div id="parallel-chart-with-the-mass-library" class="section level3" number="4.4.5">
<h3><span class="header-section-number">4.4.5</span> Parallel Chart with the <code>MASS</code> Library</h3>
<p>This section explains how to build a <a href="https://www.r-graph-gallery.com/parallel-plot.html">parallel coordinate chart</a> with <code>R</code> and the <code>MASS</code> library. Note that using <code>ggplot2</code> is probably a better option.</p>
<div id="the-parcoord-function-of-the-mass-library" class="section level4" number="4.4.5.1">
<h4><span class="header-section-number">4.4.5.1</span> The <code>parcoord()</code> Function of the <code>MASS</code> Library</h4>
<p>The <code>MASS</code> library provides the <code>parcoord()</code> function that automatically builds parallel coordinates chart. The input dataset must be a data frame composed by numeric variables only. Each variable will be used to build one vertical axis of the chart.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="ranking.html#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You need the MASS library</span></span>
<span id="cb279-2"><a href="ranking.html#cb279-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb279-3"><a href="ranking.html#cb279-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb279-4"><a href="ranking.html#cb279-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Vector color</span></span>
<span id="cb279-5"><a href="ranking.html#cb279-5" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">colors</span>()[<span class="fu">as.numeric</span>(iris<span class="sc">$</span>Species)<span class="sc">*</span><span class="dv">11</span>]</span>
<span id="cb279-6"><a href="ranking.html#cb279-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb279-7"><a href="ranking.html#cb279-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the graph !</span></span>
<span id="cb279-8"><a href="ranking.html#cb279-8" aria-hidden="true" tabindex="-1"></a><span class="fu">parcoord</span>(iris[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)] , <span class="at">col=</span> my_colors  )</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/93-parrallel-plot_files/figure-html/thecode-1.png" /></p>
</div>
</div>
<div id="reorder-variables" class="section level3" number="4.4.6">
<h3><span class="header-section-number">4.4.6</span> Reorder Variables</h3>
<p>It is important to find the best variable order in your parallel coordinates chart. To change it, just change the order in the input dataset.</p>
<p><u>Note</u>: the <code>RColorBrewer</code> package is used to generate a nice and reliable color palette.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="ranking.html#cb280-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You need the MASS library</span></span>
<span id="cb280-2"><a href="ranking.html#cb280-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb280-3"><a href="ranking.html#cb280-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb280-4"><a href="ranking.html#cb280-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Vector color</span></span>
<span id="cb280-5"><a href="ranking.html#cb280-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb280-6"><a href="ranking.html#cb280-6" aria-hidden="true" tabindex="-1"></a>palette <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">3</span>, <span class="st">&quot;Set1&quot;</span>) </span>
<span id="cb280-7"><a href="ranking.html#cb280-7" aria-hidden="true" tabindex="-1"></a> my_colors <span class="ot">&lt;-</span> palette[<span class="fu">as.numeric</span>(iris<span class="sc">$</span>Species)]</span>
<span id="cb280-8"><a href="ranking.html#cb280-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the graph !</span></span>
<span id="cb280-9"><a href="ranking.html#cb280-9" aria-hidden="true" tabindex="-1"></a><span class="fu">parcoord</span>(iris[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>)] , <span class="at">col=</span> my_colors  )</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/93-parrallel-plot_files/figure-html/thecode2-1.png" /></p>
</div>
<div id="highlight-a-group-1" class="section level3" number="4.4.7">
<h3><span class="header-section-number">4.4.7</span> Highlight a Group</h3>
<p>Data visualization aims to highlight a story in the data. If you are interested in a specific group, you can highlight it as follow:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="ranking.html#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You need the MASS library</span></span>
<span id="cb281-2"><a href="ranking.html#cb281-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb281-3"><a href="ranking.html#cb281-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb281-4"><a href="ranking.html#cb281-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s use the Iris dataset as an example</span></span>
<span id="cb281-5"><a href="ranking.html#cb281-5" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb281-6"><a href="ranking.html#cb281-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb281-7"><a href="ranking.html#cb281-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Vector color: red if Setosa, grey otherwise.</span></span>
<span id="cb281-8"><a href="ranking.html#cb281-8" aria-hidden="true" tabindex="-1"></a>isSetosa <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(iris<span class="sc">$</span>Species<span class="sc">==</span><span class="st">&quot;setosa&quot;</span>,<span class="st">&quot;red&quot;</span>,<span class="st">&quot;grey&quot;</span>)</span>
<span id="cb281-9"><a href="ranking.html#cb281-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the graph !</span></span>
<span id="cb281-10"><a href="ranking.html#cb281-10" aria-hidden="true" tabindex="-1"></a><span class="fu">parcoord</span>(iris[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>)] , <span class="at">col=</span>isSetosa  )</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/93-parrallel-plot_files/figure-html/thecode3-1.png" /></p>
</div>
</div>
<div id="lollipop-plot" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Lollipop Plot</h2>
<hr />
<p>A <a href="https://www.data-to-viz.com/graph/lollipop.html">lollipop plot</a> is basically a <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a>, where the bar is transformed in a line and a dot. It shows the relationship between a numeric and a categorical variable. Lollipop charts can be created using ggplot2: the trick is to combine geom_point() for the dots with geom_segment() for the stems. See this basic example to see how to proceed.</p>
<div id="ggplot2" class="section level4" number="4.5.0.1">
<h4><span class="header-section-number">4.5.0.1</span> <code>GGPLOT2</code></h4>
<p>Lollipop charts can be created using <code>ggplot2</code>: the trick is to combine <code>geom_point()</code> for the dots with <code>geom_segment()</code> for the stems. See this <a href="https://www.r-graph-gallery.com/300-basic-lollipop-plot.html">basic example</a> to see how to proceed.</p>
</div>
<div id="most-basic-lollipop-plot" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Most Basic Lollipop Plot</h3>
<p>How to build a very basic <a href="https://www.r-graph-gallery.com/lollipop-plot.html">lollipop chart</a> with <code>R</code> and <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a>. This section how to use <code>geom_point()</code> and <code>geom_segment()</code> based on different input formats.</p>
<div id="from-2-numeric-variables" class="section level4" number="4.5.1.1">
<h4><span class="header-section-number">4.5.1.1</span> From 2 Numeric Variables</h4>
<p>A <a href="https://www.r-graph-gallery.com/lollipop-plot.html">lollipop plot</a> is very close from both <a href="https://www.r-graph-gallery.com/scatterplot.html">scatterplots</a> and <a href="https://www.r-graph-gallery.com/barplot.html">barplots</a>.</p>
<p>Thus, 2 types of input format work to build it:</p>
<ul>
<li>2 numeric values like for a scatterplot</li>
<li>one numeric and one categorical variable like for the barplot.</li>
</ul>
<p>In any case, a lollipop is built using <code>geom_point()</code> for the circle, and <code>geom_segment()</code> for the stem.</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="ranking.html#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb282-2"><a href="ranking.html#cb282-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb282-3"><a href="ranking.html#cb282-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb282-4"><a href="ranking.html#cb282-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span><span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">30</span>), <span class="at">y=</span><span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">30</span>)))</span>
<span id="cb282-5"><a href="ranking.html#cb282-5" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb282-6"><a href="ranking.html#cb282-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb282-7"><a href="ranking.html#cb282-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb282-8"><a href="ranking.html#cb282-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb282-9"><a href="ranking.html#cb282-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">0</span>, <span class="at">yend=</span>y))</span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-1.png" width="672" /></p>
</div>
</div>
<div id="from-1-numeric-and-1-categorical-variable" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> From 1 Numeric and 1 Categorical Variable</h3>
<p>The code works pretty much the same way, but it is important to note that the X axis can represent a categorical variable as well. In this case, the lollipop chart is a good replacement of the <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a>.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="ranking.html#cb283-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb283-2"><a href="ranking.html#cb283-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb283-3"><a href="ranking.html#cb283-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb283-4"><a href="ranking.html#cb283-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb283-5"><a href="ranking.html#cb283-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>], </span>
<span id="cb283-6"><a href="ranking.html#cb283-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span><span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">26</span>))</span>
<span id="cb283-7"><a href="ranking.html#cb283-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb283-8"><a href="ranking.html#cb283-8" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb283-9"><a href="ranking.html#cb283-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb283-10"><a href="ranking.html#cb283-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb283-11"><a href="ranking.html#cb283-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb283-12"><a href="ranking.html#cb283-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">0</span>, <span class="at">yend=</span>y))</span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-numeric-categorial-1.png" width="672" /></p>
</div>
<div id="custom-lollipop-chart" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Custom Lollipop Chart</h3>
<p>A <a href="https://www.r-graph-gallery.com/lollipop-plot.html">lollipop chart</a> is constituted of a circle (made with <code>geom_point()</code>) and a segment (made with <code>geom_segment()</code>). This page explains how to customize the chart appearance with <code>R</code> and <code>ggplot2</code>.</p>
<div id="marker" class="section level4" number="4.5.3.1">
<h4><span class="header-section-number">4.5.3.1</span> Marker</h4>
<p>A <a href="https://www.r-graph-gallery.com/lollipop-plot.html">lollipop plot</a> is constituted of a marker and a stem. You can customize the marker as usual with <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a>:</p>
<ul>
<li><code>size</code>, <code>color</code></li>
<li><code>alpha</code> : transparency</li>
<li><code>shape</code> : see list of available shape <a href="https://www.r-graph-gallery.com/6-graph-parameters-reminder.html">here</a></li>
<li><code>stroke</code> and <code>fill</code> : only for shapes that have stroke, like the 21</li>
</ul>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="ranking.html#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb284-2"><a href="ranking.html#cb284-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb284-3"><a href="ranking.html#cb284-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb284-4"><a href="ranking.html#cb284-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb284-5"><a href="ranking.html#cb284-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb284-6"><a href="ranking.html#cb284-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>],</span>
<span id="cb284-7"><a href="ranking.html#cb284-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span><span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">26</span>))</span>
<span id="cb284-8"><a href="ranking.html#cb284-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb284-9"><a href="ranking.html#cb284-9" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb284-10"><a href="ranking.html#cb284-10" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb284-11"><a href="ranking.html#cb284-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb284-12"><a href="ranking.html#cb284-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">0</span>, <span class="at">yend=</span>y)) <span class="sc">+</span></span>
<span id="cb284-13"><a href="ranking.html#cb284-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="at">size=</span><span class="dv">5</span>, <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">fill=</span><span class="fu">alpha</span>(<span class="st">&quot;orange&quot;</span>, <span class="fl">0.3</span>), <span class="at">alpha=</span><span class="fl">0.7</span>, <span class="at">shape=</span><span class="dv">21</span>, <span class="at">stroke=</span><span class="dv">2</span>) </span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-custom-1.png" width="672" /></p>
</div>
</div>
<div id="stem" class="section level3" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> Stem</h3>
<p>The stem is built using <code>geom_segment()</code> and can be customized as well:</p>
<ul>
<li><code>size</code>, <code>color</code></li>
<li><code>linetype</code>: can be an integer (see <a href="https://www.r-graph-gallery.com/6-graph-parameters-reminder.html">list</a>), a word like <code>dotted</code>, <code>dashed</code>, <code>dotdash</code> and more (type <code>help(linetype)</code>)</li>
</ul>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="ranking.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb285-2"><a href="ranking.html#cb285-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb285-3"><a href="ranking.html#cb285-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb285-4"><a href="ranking.html#cb285-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb285-5"><a href="ranking.html#cb285-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>],</span>
<span id="cb285-6"><a href="ranking.html#cb285-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span><span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">26</span>))</span>
<span id="cb285-7"><a href="ranking.html#cb285-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb285-8"><a href="ranking.html#cb285-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb285-9"><a href="ranking.html#cb285-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb285-10"><a href="ranking.html#cb285-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">0</span>, <span class="at">yend=</span>y) , <span class="at">size=</span><span class="dv">1</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">linetype=</span><span class="st">&quot;dotdash&quot;</span> ) <span class="sc">+</span></span>
<span id="cb285-11"><a href="ranking.html#cb285-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="r-graph_files/figure-html/stem-plot-ggplot-1.png" width="672" /></p>
</div>
<div id="general-appearance-with-theme" class="section level3" number="4.5.5">
<h3><span class="header-section-number">4.5.5</span> General Appearance with <code>theme()</code></h3>
<p>As usual, you can customize the general appearance of the chart using the <code>theme()</code> function.</p>
<p><u>Note</u>: another solution is to use the pre-built <code>theme_ipsum()</code> offered in the <code>hrbrthemes</code> package.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="ranking.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb286-2"><a href="ranking.html#cb286-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb286-3"><a href="ranking.html#cb286-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>],</span>
<span id="cb286-4"><a href="ranking.html#cb286-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span><span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">26</span>))</span>
<span id="cb286-5"><a href="ranking.html#cb286-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb286-6"><a href="ranking.html#cb286-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb286-7"><a href="ranking.html#cb286-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb286-8"><a href="ranking.html#cb286-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">0</span>, <span class="at">yend=</span>y), <span class="at">color=</span><span class="st">&quot;grey&quot;</span>) <span class="sc">+</span></span>
<span id="cb286-9"><a href="ranking.html#cb286-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">size=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb286-10"><a href="ranking.html#cb286-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb286-11"><a href="ranking.html#cb286-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb286-12"><a href="ranking.html#cb286-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb286-13"><a href="ranking.html#cb286-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb286-14"><a href="ranking.html#cb286-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb286-15"><a href="ranking.html#cb286-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb286-16"><a href="ranking.html#cb286-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb286-17"><a href="ranking.html#cb286-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Value of Y&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-general-apperence-1.png" width="672" /></p>
</div>
<div id="horizontal-version" class="section level3" number="4.5.6">
<h3><span class="header-section-number">4.5.6</span> Horizontal Version</h3>
<p>It is pretty straightforward to flip the chart using the <code>coord_flip()</code> function.</p>
<p>It makes sense to do so if you have long labels they will be much easier to read.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="ranking.html#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb287-2"><a href="ranking.html#cb287-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb287-3"><a href="ranking.html#cb287-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb287-4"><a href="ranking.html#cb287-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb287-5"><a href="ranking.html#cb287-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>],</span>
<span id="cb287-6"><a href="ranking.html#cb287-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span><span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">26</span>))</span>
<span id="cb287-7"><a href="ranking.html#cb287-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb287-8"><a href="ranking.html#cb287-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Horizontal version</span></span>
<span id="cb287-9"><a href="ranking.html#cb287-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb287-10"><a href="ranking.html#cb287-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">0</span>, <span class="at">yend=</span>y), <span class="at">color=</span><span class="st">&quot;skyblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb287-11"><a href="ranking.html#cb287-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="at">size=</span><span class="dv">4</span>, <span class="at">alpha=</span><span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb287-12"><a href="ranking.html#cb287-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb287-13"><a href="ranking.html#cb287-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb287-14"><a href="ranking.html#cb287-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb287-15"><a href="ranking.html#cb287-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb287-16"><a href="ranking.html#cb287-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb287-17"><a href="ranking.html#cb287-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb287-18"><a href="ranking.html#cb287-18" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-horizontal-1.png" width="672" /></p>
</div>
<div id="baseline" class="section level3" number="4.5.7">
<h3><span class="header-section-number">4.5.7</span> Baseline</h3>
<p>Lastly, you can easily change the baseline of the chart. It gives more insight to the figure if there is a specific threshold in the data that interests you.</p>
<p>You just have to change the y argument in the <code>geom_segment()</code> call.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="ranking.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb288-2"><a href="ranking.html#cb288-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb288-3"><a href="ranking.html#cb288-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb288-4"><a href="ranking.html#cb288-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb288-5"><a href="ranking.html#cb288-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>],</span>
<span id="cb288-6"><a href="ranking.html#cb288-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span><span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">26</span>))</span>
<span id="cb288-7"><a href="ranking.html#cb288-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb288-8"><a href="ranking.html#cb288-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Change baseline</span></span>
<span id="cb288-9"><a href="ranking.html#cb288-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb288-10"><a href="ranking.html#cb288-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">1</span>, <span class="at">yend=</span>y), <span class="at">color=</span><span class="st">&quot;grey&quot;</span>) <span class="sc">+</span></span>
<span id="cb288-11"><a href="ranking.html#cb288-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">size=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb288-12"><a href="ranking.html#cb288-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb288-13"><a href="ranking.html#cb288-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb288-14"><a href="ranking.html#cb288-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb288-15"><a href="ranking.html#cb288-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb288-16"><a href="ranking.html#cb288-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb288-17"><a href="ranking.html#cb288-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb288-18"><a href="ranking.html#cb288-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb288-19"><a href="ranking.html#cb288-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Value of Y&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-baseline-1.png" width="672" /></p>
</div>
<div id="lollipop-chart-with-2-groups" class="section level3" number="4.5.8">
<h3><span class="header-section-number">4.5.8</span> Lollipop Chart with 2 Groups</h3>
<p>A <a href="https://www.r-graph-gallery.com/lollipop-plot.html">lollipop chart</a> can be used to compare 2 categories, linking them with a segment to stress out their difference. This section explains how to do it with <code>R</code> and <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a>.</p>
<p><a href="https://www.r-graph-gallery.com/lollipop-plot.html">Lollipop plots</a> can be very appropriate when it comes to compare 2 values for several entities. For each entity, one point is drawn for each variable, with a different color. Their difference is then highlighted using a segment. This type of visualisation is also called <a href="https://www.data-to-viz.com/graph/lollipop.html">Cleveland dot plots</a>.</p>
<p>As usual, it is advised to <a href="https://www.r-graph-gallery.com/267-reorder-a-variable-in-ggplot2.html">order your individuals</a> by mean, median, or group difference to give even more insight to the figure.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="ranking.html#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb289-2"><a href="ranking.html#cb289-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb289-3"><a href="ranking.html#cb289-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb289-4"><a href="ranking.html#cb289-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb289-5"><a href="ranking.html#cb289-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb289-6"><a href="ranking.html#cb289-6" aria-hidden="true" tabindex="-1"></a>value1 <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">26</span>))<span class="sc">*</span><span class="dv">2</span></span>
<span id="cb289-7"><a href="ranking.html#cb289-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb289-8"><a href="ranking.html#cb289-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>], </span>
<span id="cb289-9"><a href="ranking.html#cb289-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">value1=</span>value1, </span>
<span id="cb289-10"><a href="ranking.html#cb289-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">value2=</span>value1<span class="sc">+</span><span class="dv">1</span><span class="sc">+</span><span class="fu">rnorm</span>(<span class="dv">26</span>, <span class="at">sd=</span><span class="dv">1</span>) </span>
<span id="cb289-11"><a href="ranking.html#cb289-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb289-12"><a href="ranking.html#cb289-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb289-13"><a href="ranking.html#cb289-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder data using average? Learn more about reordering in chart #267</span></span>
<span id="cb289-14"><a href="ranking.html#cb289-14" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb289-15"><a href="ranking.html#cb289-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb289-16"><a href="ranking.html#cb289-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">mymean =</span> <span class="fu">mean</span>(<span class="fu">c</span>(value1,value2) )) <span class="sc">%&gt;%</span> </span>
<span id="cb289-17"><a href="ranking.html#cb289-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(mymean) <span class="sc">%&gt;%</span> </span>
<span id="cb289-18"><a href="ranking.html#cb289-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x=</span><span class="fu">factor</span>(x, x))</span>
<span id="cb289-19"><a href="ranking.html#cb289-19" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb289-20"><a href="ranking.html#cb289-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb289-21"><a href="ranking.html#cb289-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb289-22"><a href="ranking.html#cb289-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span>value1, <span class="at">yend=</span>value2), <span class="at">color=</span><span class="st">&quot;grey&quot;</span>) <span class="sc">+</span></span>
<span id="cb289-23"><a href="ranking.html#cb289-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>value1), <span class="at">color=</span><span class="fu">rgb</span>(<span class="fl">0.2</span>,<span class="fl">0.7</span>,<span class="fl">0.1</span>,<span class="fl">0.5</span>), <span class="at">size=</span><span class="dv">3</span> ) <span class="sc">+</span></span>
<span id="cb289-24"><a href="ranking.html#cb289-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>value2), <span class="at">color=</span><span class="fu">rgb</span>(<span class="fl">0.7</span>,<span class="fl">0.2</span>,<span class="fl">0.1</span>,<span class="fl">0.5</span>), <span class="at">size=</span><span class="dv">3</span> ) <span class="sc">+</span></span>
<span id="cb289-25"><a href="ranking.html#cb289-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb289-26"><a href="ranking.html#cb289-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="sc">+</span></span>
<span id="cb289-27"><a href="ranking.html#cb289-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb289-28"><a href="ranking.html#cb289-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb289-29"><a href="ranking.html#cb289-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb289-30"><a href="ranking.html#cb289-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb289-31"><a href="ranking.html#cb289-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Value of Y&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-two-groups-1.png" width="672" /></p>
</div>
<div id="highlight-a-group-in-a-lollipop-chart" class="section level3" number="4.5.9">
<h3><span class="header-section-number">4.5.9</span> Highlight a Group in a Lollipop Chart</h3>
<p>This section describes how to build a <a href="https://www.r-graph-gallery.com/lollipop-plot.html">lollipop chart</a> with <code>R</code> and <code>ggplot2</code>. It shows how to highlight one or several groups of interest to convey your message more efficiently.</p>
<p><a href="https://www.data-to-viz.com/caveat/annotation.html">Annotation is key</a> in data visualization: it allows the reader to focus on the main message you want to convey. If one or a few groups specifically interest you, it is a good practice to highlight them on the plot. Your reader will understand quicker what the story behind the chart is.</p>
<p>To do so, you can use an <code>ifelse</code> statement to change <code>size</code>, <code>color</code>, <code>alpha</code> or any other aesthetics. Moreover, it is even more insightful to add text annotation directly on the chart.</p>
<p>Learn more about ggplot2 annotation <a href="https://www.r-graph-gallery.com/233-add-annotations-on-ggplot2-chart.html">here</a> and more generally in the <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a> section.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="ranking.html#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb290-2"><a href="ranking.html#cb290-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb290-3"><a href="ranking.html#cb290-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb290-4"><a href="ranking.html#cb290-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb290-5"><a href="ranking.html#cb290-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb290-6"><a href="ranking.html#cb290-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1000</span>)</span>
<span id="cb290-7"><a href="ranking.html#cb290-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb290-8"><a href="ranking.html#cb290-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>], </span>
<span id="cb290-9"><a href="ranking.html#cb290-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span><span class="fu">abs</span>(<span class="fu">rnorm</span>(<span class="dv">26</span>))</span>
<span id="cb290-10"><a href="ranking.html#cb290-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb290-11"><a href="ranking.html#cb290-11" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb290-12"><a href="ranking.html#cb290-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder the data</span></span>
<span id="cb290-13"><a href="ranking.html#cb290-13" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb290-14"><a href="ranking.html#cb290-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(y) <span class="sc">%&gt;%</span></span>
<span id="cb290-15"><a href="ranking.html#cb290-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x=</span><span class="fu">factor</span>(x,x))</span>
<span id="cb290-16"><a href="ranking.html#cb290-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb290-17"><a href="ranking.html#cb290-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb290-18"><a href="ranking.html#cb290-18" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb290-19"><a href="ranking.html#cb290-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">0</span>, <span class="at">yend=</span>y ), <span class="at">color=</span><span class="fu">ifelse</span>(data<span class="sc">$</span>x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;D&quot;</span>), <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;grey&quot;</span>), <span class="at">size=</span><span class="fu">ifelse</span>(data<span class="sc">$</span>x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;D&quot;</span>), <span class="fl">1.3</span>, <span class="fl">0.7</span>) ) <span class="sc">+</span></span>
<span id="cb290-20"><a href="ranking.html#cb290-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="at">color=</span><span class="fu">ifelse</span>(data<span class="sc">$</span>x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;D&quot;</span>), <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;grey&quot;</span>), <span class="at">size=</span><span class="fu">ifelse</span>(data<span class="sc">$</span>x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;D&quot;</span>), <span class="dv">5</span>, <span class="dv">2</span>) ) <span class="sc">+</span></span>
<span id="cb290-21"><a href="ranking.html#cb290-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum</span>() <span class="sc">+</span></span>
<span id="cb290-22"><a href="ranking.html#cb290-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb290-23"><a href="ranking.html#cb290-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb290-24"><a href="ranking.html#cb290-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position=</span><span class="st">&quot;none&quot;</span></span>
<span id="cb290-25"><a href="ranking.html#cb290-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb290-26"><a href="ranking.html#cb290-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb290-27"><a href="ranking.html#cb290-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Value of Y&quot;</span>) <span class="sc">+</span></span>
<span id="cb290-28"><a href="ranking.html#cb290-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;How did groups A and D perform?&quot;</span>)</span>
<span id="cb290-29"><a href="ranking.html#cb290-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Add annotation</span></span>
<span id="cb290-30"><a href="ranking.html#cb290-30" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="fu">grep</span>(<span class="st">&quot;D&quot;</span>, data<span class="sc">$</span>x), <span class="at">y=</span>data<span class="sc">$</span>y[<span class="fu">which</span>(data<span class="sc">$</span>x<span class="sc">==</span><span class="st">&quot;D&quot;</span>)]<span class="sc">*</span><span class="fl">1.2</span>, </span>
<span id="cb290-31"><a href="ranking.html#cb290-31" aria-hidden="true" tabindex="-1"></a>           <span class="at">label=</span><span class="st">&quot;Group D is very impressive&quot;</span>, </span>
<span id="cb290-32"><a href="ranking.html#cb290-32" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">size=</span><span class="dv">4</span> , <span class="at">angle=</span><span class="dv">0</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>, <span class="at">hjust=</span><span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb290-33"><a href="ranking.html#cb290-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb290-34"><a href="ranking.html#cb290-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="fu">grep</span>(<span class="st">&quot;A&quot;</span>, data<span class="sc">$</span>x), <span class="at">y =</span> data<span class="sc">$</span>y[<span class="fu">which</span>(data<span class="sc">$</span>x<span class="sc">==</span><span class="st">&quot;A&quot;</span>)]<span class="sc">*</span><span class="fl">1.2</span>, </span>
<span id="cb290-35"><a href="ranking.html#cb290-35" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">&quot;Group A is not too bad</span><span class="sc">\n</span><span class="st"> (val=&quot;</span>,data<span class="sc">$</span>y[<span class="fu">which</span>(data<span class="sc">$</span>x<span class="sc">==</span><span class="st">&quot;A&quot;</span>)] <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">2</span>),<span class="st">&quot;)&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span> ) , </span>
<span id="cb290-36"><a href="ranking.html#cb290-36" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">&quot;orange&quot;</span>, <span class="at">size=</span><span class="dv">4</span> , <span class="at">angle=</span><span class="dv">0</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>, <span class="at">hjust=</span><span class="dv">0</span>) </span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-highlight-group-1.png" width="672" /></p>
</div>
<div id="lollipop-chart-with-conditional-color" class="section level3" number="4.5.10">
<h3><span class="header-section-number">4.5.10</span> Lollipop Chart with Conditional Color</h3>
<p>If your <a href="https://www.r-graph-gallery.com/lollipop-plot.html">lollipop plot</a> goes on both side of an interesting threshold, you probably want to change the color of its components conditionally. Here is how using R and <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a>.</p>
<div id="marker-1" class="section level4" number="4.5.10.1">
<h4><span class="header-section-number">4.5.10.1</span> Marker</h4>
<p>Here is the process to use conditional color on your <code>ggplot2</code> chart:</p>
</div>
<div id="marker-2" class="section level4" number="4.5.10.2">
<h4><span class="header-section-number">4.5.10.2</span> Marker</h4>
<p>Here is the process to use conditional color on your <code>ggplot2</code> chart:</p>
<ul>
<li>Add a new column to your dataframe specifying if you are over or under the threshold (use an <code>ifelse</code> statement).</li>
<li>Give this column to the <code>color</code> aesthetic.</li>
</ul>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="ranking.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb291-2"><a href="ranking.html#cb291-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb291-3"><a href="ranking.html#cb291-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb291-4"><a href="ranking.html#cb291-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data (this takes more sense with a numerical X axis)</span></span>
<span id="cb291-5"><a href="ranking.html#cb291-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">2</span><span class="sc">*</span>pi, <span class="at">length.out=</span><span class="dv">100</span>)</span>
<span id="cb291-6"><a href="ranking.html#cb291-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb291-7"><a href="ranking.html#cb291-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">x=</span>x, </span>
<span id="cb291-8"><a href="ranking.html#cb291-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">y=</span><span class="fu">sin</span>(x) <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd=</span><span class="fl">0.2</span>)</span>
<span id="cb291-9"><a href="ranking.html#cb291-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb291-10"><a href="ranking.html#cb291-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb291-11"><a href="ranking.html#cb291-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a column with your condition for the color</span></span>
<span id="cb291-12"><a href="ranking.html#cb291-12" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb291-13"><a href="ranking.html#cb291-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mycolor =</span> <span class="fu">ifelse</span>(y<span class="sc">&gt;</span><span class="dv">0</span>, <span class="st">&quot;type1&quot;</span>, <span class="st">&quot;type2&quot;</span>))</span>
<span id="cb291-14"><a href="ranking.html#cb291-14" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb291-15"><a href="ranking.html#cb291-15" aria-hidden="true" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb291-16"><a href="ranking.html#cb291-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb291-17"><a href="ranking.html#cb291-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>( <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">xend=</span>x, <span class="at">y=</span><span class="dv">0</span>, <span class="at">yend=</span>y, <span class="at">color=</span>mycolor), <span class="at">size=</span><span class="fl">1.3</span>, <span class="at">alpha=</span><span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb291-18"><a href="ranking.html#cb291-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb291-19"><a href="ranking.html#cb291-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb291-20"><a href="ranking.html#cb291-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb291-21"><a href="ranking.html#cb291-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb291-22"><a href="ranking.html#cb291-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb291-23"><a href="ranking.html#cb291-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb291-24"><a href="ranking.html#cb291-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Value of Y&quot;</span>)</span></code></pre></div>
<p><img src="r-graph_files/figure-html/lollipop-chart-conditional-color-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="circular-barplot" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Circular Barplot</h2>
<hr />
<p>This is the <a href="https://www.data-to-viz.com/graph/circularbarplot.html">circular barplot</a> section of the gallery, a variation of the well known <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a>. Note that even if visually appealing, circular barplot must be used with care since groups <a href="https://www.data-to-viz.com/graph/circularbarplot.html">do not share the same Y axis</a>. It is very adapted for cyclical data though. Visit <a href="https://www.data-to-viz.com/graph/circularbarplot.html">data-to-viz.com</a> for more info.</p>
<div id="step-by-step" class="section level4" number="4.6.0.1">
<h4><span class="header-section-number">4.6.0.1</span> Step by Step</h4>
<p>Here is a set of examples leading to a proper circular barplot, step by step. The first <a href="https://www.r-graph-gallery.com/295-basic-circular-barplot.html">most basic circular barchart</a> shows how to use <code>coord_polar()</code> to make the barchart circular. Next examples describe the next steps to get a proper figure: <a href="https://www.r-graph-gallery.com/297-circular-barplot-with-groups.html">gap</a> between groups, <a href="https://www.r-graph-gallery.com/296-add-labels-to-circular-barplot.html">labels</a> and customization.</p>
</div>
<div id="most-basic-circular-barplot" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Most Basic Circular Barplot</h3>
<p>A circular <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a> is a barplot where bars are displayed along a circle instead of a line. This section explains how to build a basic version with <code>R</code> and <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a>. It provides the reproducible code and explain how the <code>coord_polar()</code> function works.</p>
<p>A <a href="https://www.r-graph-gallery.com/circular-barplot.html">circular barplot</a> is a <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a> where bars are displayed along a circle instead of a line. The input dataset is the same than for a barplot: we need one numeric value per group (one group = one bar). (See more explanation in the <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a> section).</p>
<p>Basically, the method is the same than to do a classic barplot. At the end, we call <code>coord_polar()</code> to make the chart circular. Note that the <code>ylim()</code> argument is really important. If it starts at 0, the bars will start from the centre of the circle. If you provide a negative value, a white circle space will appear!</p>
<p>This chart is not really insightful, go to the <a href="https://www.r-graph-gallery.com/296-add-labels-to-circular-barplot.html">next example</a> to learn how to add labels!</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="ranking.html#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb292-2"><a href="ranking.html#cb292-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb292-3"><a href="ranking.html#cb292-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb292-4"><a href="ranking.html#cb292-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataset</span></span>
<span id="cb292-5"><a href="ranking.html#cb292-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb292-6"><a href="ranking.html#cb292-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">id=</span><span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>),</span>
<span id="cb292-7"><a href="ranking.html#cb292-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">individual=</span><span class="fu">paste</span>( <span class="st">&quot;Mister &quot;</span>, <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>), <span class="at">sep=</span><span class="st">&quot;&quot;</span>),</span>
<span id="cb292-8"><a href="ranking.html#cb292-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>( <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>), <span class="dv">60</span>, <span class="at">replace=</span>T)</span>
<span id="cb292-9"><a href="ranking.html#cb292-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb292-10"><a href="ranking.html#cb292-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb292-11"><a href="ranking.html#cb292-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the plot</span></span>
<span id="cb292-12"><a href="ranking.html#cb292-12" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(id), <span class="at">y=</span>value)) <span class="sc">+</span>       <span class="co"># Note that id is a factor. If x is numeric, there is some space between the first bar</span></span>
<span id="cb292-13"><a href="ranking.html#cb292-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb292-14"><a href="ranking.html#cb292-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This add the bars with a blue color</span></span>
<span id="cb292-15"><a href="ranking.html#cb292-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="fu">alpha</span>(<span class="st">&quot;blue&quot;</span>, <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb292-16"><a href="ranking.html#cb292-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb292-17"><a href="ranking.html#cb292-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Limits of the plot = very important. The negative value controls the size of the inner circle, the positive one is useful to add size over each bar</span></span>
<span id="cb292-18"><a href="ranking.html#cb292-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">100</span>,<span class="dv">120</span>) <span class="sc">+</span></span>
<span id="cb292-19"><a href="ranking.html#cb292-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb292-20"><a href="ranking.html#cb292-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Custom the theme: no axis title and no cartesian grid</span></span>
<span id="cb292-21"><a href="ranking.html#cb292-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb292-22"><a href="ranking.html#cb292-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb292-23"><a href="ranking.html#cb292-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb292-24"><a href="ranking.html#cb292-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb292-25"><a href="ranking.html#cb292-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb292-26"><a href="ranking.html#cb292-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="dv">4</span>), <span class="st">&quot;cm&quot;</span>)     <span class="co"># This remove unnecessary margin around plot</span></span>
<span id="cb292-27"><a href="ranking.html#cb292-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb292-28"><a href="ranking.html#cb292-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb292-29"><a href="ranking.html#cb292-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This makes the coordinate polar instead of cartesian.</span></span>
<span id="cb292-30"><a href="ranking.html#cb292-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">start =</span> <span class="dv">0</span>)</span>
<span id="cb292-31"><a href="ranking.html#cb292-31" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/295-basic-circular-barplot_files/figure-html/thecode-1.png" /></p>
</div>
<div id="add-labels-to-circular-barplot" class="section level3" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Add Labels to Circular Barplot</h3>
<p>This section explains how to add labels on a <a href="https://www.r-graph-gallery.com/ggplot2-package.html">ggplot2</a> circular barchart, on top of each bar. It follows the previous most basic circular barchart.</p>
<p>The <a href="https://www.r-graph-gallery.com/295-basic-circular-barplot.html">chart #295</a> explains how to make a basic circular barplot. The next step is to add labels to each bar, to give insight to the graphic.</p>
<p>Here I suggest a method to add label at the top of each bar, using the same angle that the central part of the bar. In the code below, a short section creates a dataframe with the feature of each label, that we can then call in <code>geom_text()</code>.</p>
<p>Note that labels are always in an angle that allows to read them easily, what requires a 180 degrees flip for some of them.</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="ranking.html#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb293-2"><a href="ranking.html#cb293-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb293-3"><a href="ranking.html#cb293-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb293-4"><a href="ranking.html#cb293-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataset</span></span>
<span id="cb293-5"><a href="ranking.html#cb293-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb293-6"><a href="ranking.html#cb293-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">id=</span><span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>),</span>
<span id="cb293-7"><a href="ranking.html#cb293-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">individual=</span><span class="fu">paste</span>( <span class="st">&quot;Mister &quot;</span>, <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>), <span class="at">sep=</span><span class="st">&quot;&quot;</span>),</span>
<span id="cb293-8"><a href="ranking.html#cb293-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>( <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>), <span class="dv">60</span>, <span class="at">replace=</span>T)</span>
<span id="cb293-9"><a href="ranking.html#cb293-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb293-10"><a href="ranking.html#cb293-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb293-11"><a href="ranking.html#cb293-11" aria-hidden="true" tabindex="-1"></a><span class="co"># ----- This section prepare a dataframe for labels ---- #</span></span>
<span id="cb293-12"><a href="ranking.html#cb293-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the name and the y position of each label</span></span>
<span id="cb293-13"><a href="ranking.html#cb293-13" aria-hidden="true" tabindex="-1"></a>label_data <span class="ot">&lt;-</span> data</span>
<span id="cb293-14"><a href="ranking.html#cb293-14" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb293-15"><a href="ranking.html#cb293-15" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the ANGLE of the labels</span></span>
<span id="cb293-16"><a href="ranking.html#cb293-16" aria-hidden="true" tabindex="-1"></a>number_of_bar <span class="ot">&lt;-</span> <span class="fu">nrow</span>(label_data)</span>
<span id="cb293-17"><a href="ranking.html#cb293-17" aria-hidden="true" tabindex="-1"></a>angle <span class="ot">&lt;-</span>  <span class="dv">90</span> <span class="sc">-</span> <span class="dv">360</span> <span class="sc">*</span> (label_data<span class="sc">$</span>id<span class="fl">-0.5</span>) <span class="sc">/</span>number_of_bar     <span class="co"># I substract 0.5 because the letter must have the angle of the center of the bars. Not extreme right(1) or extreme left (0)</span></span>
<span id="cb293-18"><a href="ranking.html#cb293-18" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb293-19"><a href="ranking.html#cb293-19" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the alignment of labels: right or left</span></span>
<span id="cb293-20"><a href="ranking.html#cb293-20" aria-hidden="true" tabindex="-1"></a><span class="co"># If I am on the left part of the plot, my labels have currently an angle &lt; -90</span></span>
<span id="cb293-21"><a href="ranking.html#cb293-21" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>hjust<span class="ot">&lt;-</span><span class="fu">ifelse</span>( angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb293-22"><a href="ranking.html#cb293-22" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb293-23"><a href="ranking.html#cb293-23" aria-hidden="true" tabindex="-1"></a><span class="co"># flip angle BY to make them readable</span></span>
<span id="cb293-24"><a href="ranking.html#cb293-24" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>angle<span class="ot">&lt;-</span><span class="fu">ifelse</span>(angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, angle<span class="sc">+</span><span class="dv">180</span>, angle)</span>
<span id="cb293-25"><a href="ranking.html#cb293-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ----- ------------------------------------------- ---- #</span></span>
<span id="cb293-26"><a href="ranking.html#cb293-26" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb293-27"><a href="ranking.html#cb293-27" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb293-28"><a href="ranking.html#cb293-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Start the plot</span></span>
<span id="cb293-29"><a href="ranking.html#cb293-29" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(id), <span class="at">y=</span>value)) <span class="sc">+</span>       <span class="co"># Note that id is a factor. If x is numeric, there is some space between the first bar</span></span>
<span id="cb293-30"><a href="ranking.html#cb293-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb293-31"><a href="ranking.html#cb293-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This add the bars with a blue color</span></span>
<span id="cb293-32"><a href="ranking.html#cb293-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="fu">alpha</span>(<span class="st">&quot;skyblue&quot;</span>, <span class="fl">0.7</span>)) <span class="sc">+</span></span>
<span id="cb293-33"><a href="ranking.html#cb293-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb293-34"><a href="ranking.html#cb293-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Limits of the plot = very important. The negative value controls the size of the inner circle, the positive one is useful to add size over each bar</span></span>
<span id="cb293-35"><a href="ranking.html#cb293-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">100</span>,<span class="dv">120</span>) <span class="sc">+</span></span>
<span id="cb293-36"><a href="ranking.html#cb293-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb293-37"><a href="ranking.html#cb293-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Custom the theme: no axis title and no cartesian grid</span></span>
<span id="cb293-38"><a href="ranking.html#cb293-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb293-39"><a href="ranking.html#cb293-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb293-40"><a href="ranking.html#cb293-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb293-41"><a href="ranking.html#cb293-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb293-42"><a href="ranking.html#cb293-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb293-43"><a href="ranking.html#cb293-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">4</span>), <span class="st">&quot;cm&quot;</span>)      <span class="co"># Adjust the margin to make in sort labels are not truncated!</span></span>
<span id="cb293-44"><a href="ranking.html#cb293-44" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb293-45"><a href="ranking.html#cb293-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb293-46"><a href="ranking.html#cb293-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This makes the coordinate polar instead of cartesian.</span></span>
<span id="cb293-47"><a href="ranking.html#cb293-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb293-48"><a href="ranking.html#cb293-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb293-49"><a href="ranking.html#cb293-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add the labels, using the label_data dataframe that we have created before</span></span>
<span id="cb293-50"><a href="ranking.html#cb293-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>label_data, <span class="fu">aes</span>(<span class="at">x=</span>id, <span class="at">y=</span>value<span class="sc">+</span><span class="dv">10</span>, <span class="at">label=</span>individual, <span class="at">hjust=</span>hjust), <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>,<span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">size=</span><span class="fl">2.5</span>, <span class="at">angle=</span> label_data<span class="sc">$</span>angle, <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) </span>
<span id="cb293-51"><a href="ranking.html#cb293-51" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb293-52"><a href="ranking.html#cb293-52" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/296-add-labels-to-circular-barplot_files/figure-html/thecode-1.png" /></p>
</div>
<div id="circular-barplot-with-groups" class="section level3" number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> Circular Barplot with Groups</h3>
<p>This section explains how to build a <a href="https://www.r-graph-gallery.com/circular-barplot.html">circular barchart</a> with groups. A gap is added between groups to highlight them. Bars are labeled, group names are annotated</p>
<div id="add-a-gap-in-the-circle" class="section level4" number="4.6.3.1">
<h4><span class="header-section-number">4.6.3.1</span> Add a Gap in the Circle</h4>
<p>A <a href="https://www.r-graph-gallery.com/circular-barplot.html">circular barplot</a> is a <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a> where bars are displayed along a circle instead of a line. This page aims to teach you how to make a circular barplot with groups.</p>
<p>Since this kind of chart is a bit tricky, I strongly advise to understand <a href="https://www.r-graph-gallery.com/295-basic-circular-barplot.html">graph #295</a> and <a href="https://www.r-graph-gallery.com/296-add-labels-to-circular-barplot.html">#296</a> that will teach you the basics.</p>
<p>The first step is to build a circular barplot with a break in the circle. Actually, I just added a few empty lines at the end of the initial data frame:</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="ranking.html#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb294-2"><a href="ranking.html#cb294-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb294-3"><a href="ranking.html#cb294-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb294-4"><a href="ranking.html#cb294-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataset</span></span>
<span id="cb294-5"><a href="ranking.html#cb294-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb294-6"><a href="ranking.html#cb294-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">individual=</span><span class="fu">paste</span>( <span class="st">&quot;Mister &quot;</span>, <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>), <span class="at">sep=</span><span class="st">&quot;&quot;</span>),</span>
<span id="cb294-7"><a href="ranking.html#cb294-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>( <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>), <span class="dv">60</span>, <span class="at">replace=</span>T)</span>
<span id="cb294-8"><a href="ranking.html#cb294-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb294-9"><a href="ranking.html#cb294-9" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb294-10"><a href="ranking.html#cb294-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a number of &#39;empty bar&#39;</span></span>
<span id="cb294-11"><a href="ranking.html#cb294-11" aria-hidden="true" tabindex="-1"></a>empty_bar <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb294-12"><a href="ranking.html#cb294-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb294-13"><a href="ranking.html#cb294-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add lines to the initial dataset</span></span>
<span id="cb294-14"><a href="ranking.html#cb294-14" aria-hidden="true" tabindex="-1"></a>to_add <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, empty_bar, <span class="fu">ncol</span>(data))</span>
<span id="cb294-15"><a href="ranking.html#cb294-15" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(to_add) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(data)</span>
<span id="cb294-16"><a href="ranking.html#cb294-16" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data, to_add)</span>
<span id="cb294-17"><a href="ranking.html#cb294-17" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(data))</span>
<span id="cb294-18"><a href="ranking.html#cb294-18" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb294-19"><a href="ranking.html#cb294-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the name and the y position of each label</span></span>
<span id="cb294-20"><a href="ranking.html#cb294-20" aria-hidden="true" tabindex="-1"></a>label_data <span class="ot">&lt;-</span> data</span>
<span id="cb294-21"><a href="ranking.html#cb294-21" aria-hidden="true" tabindex="-1"></a>number_of_bar <span class="ot">&lt;-</span> <span class="fu">nrow</span>(label_data)</span>
<span id="cb294-22"><a href="ranking.html#cb294-22" aria-hidden="true" tabindex="-1"></a>angle <span class="ot">&lt;-</span> <span class="dv">90</span> <span class="sc">-</span> <span class="dv">360</span> <span class="sc">*</span> (label_data<span class="sc">$</span>id<span class="fl">-0.5</span>) <span class="sc">/</span>number_of_bar     <span class="co"># I substract 0.5 because the letter must have the angle of the center of the bars. Not extreme right(1) or extreme left (0)</span></span>
<span id="cb294-23"><a href="ranking.html#cb294-23" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>hjust <span class="ot">&lt;-</span> <span class="fu">ifelse</span>( angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb294-24"><a href="ranking.html#cb294-24" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>angle <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, angle<span class="sc">+</span><span class="dv">180</span>, angle)</span>
<span id="cb294-25"><a href="ranking.html#cb294-25" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb294-26"><a href="ranking.html#cb294-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the plot</span></span>
<span id="cb294-27"><a href="ranking.html#cb294-27" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(id), <span class="at">y=</span>value)) <span class="sc">+</span>       <span class="co"># Note that id is a factor. If x is numeric, there is some space between the first bar</span></span>
<span id="cb294-28"><a href="ranking.html#cb294-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">fill=</span><span class="fu">alpha</span>(<span class="st">&quot;green&quot;</span>, <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb294-29"><a href="ranking.html#cb294-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">100</span>,<span class="dv">120</span>) <span class="sc">+</span></span>
<span id="cb294-30"><a href="ranking.html#cb294-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb294-31"><a href="ranking.html#cb294-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb294-32"><a href="ranking.html#cb294-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb294-33"><a href="ranking.html#cb294-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb294-34"><a href="ranking.html#cb294-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb294-35"><a href="ranking.html#cb294-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">4</span>), <span class="st">&quot;cm&quot;</span>) </span>
<span id="cb294-36"><a href="ranking.html#cb294-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb294-37"><a href="ranking.html#cb294-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">start =</span> <span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb294-38"><a href="ranking.html#cb294-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>label_data, <span class="fu">aes</span>(<span class="at">x=</span>id, <span class="at">y=</span>value<span class="sc">+</span><span class="dv">10</span>, <span class="at">label=</span>individual, <span class="at">hjust=</span>hjust), <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>,<span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">size=</span><span class="fl">2.5</span>, <span class="at">angle=</span> label_data<span class="sc">$</span>angle, <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) </span>
<span id="cb294-39"><a href="ranking.html#cb294-39" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb294-40"><a href="ranking.html#cb294-40" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/297-circular-barplot-with-groups_files/figure-html/thecode-1.png" /></p>
</div>
</div>
<div id="space-between-groups" class="section level3" number="4.6.4">
<h3><span class="header-section-number">4.6.4</span> Space between Groups</h3>
<p>This concept can now be used to add space between each group of the dataset. Added <code>n</code> lines with only <code>NA</code> at the bottom of each group.</p>
<p>This chart is far more insightful since it allows one to quickly compare the different groups, and to compare the value of items within each group.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="ranking.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb295-2"><a href="ranking.html#cb295-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb295-3"><a href="ranking.html#cb295-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb295-4"><a href="ranking.html#cb295-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataset</span></span>
<span id="cb295-5"><a href="ranking.html#cb295-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb295-6"><a href="ranking.html#cb295-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">individual=</span><span class="fu">paste</span>( <span class="st">&quot;Mister &quot;</span>, <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>), <span class="at">sep=</span><span class="st">&quot;&quot;</span>),</span>
<span id="cb295-7"><a href="ranking.html#cb295-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">group=</span><span class="fu">c</span>( <span class="fu">rep</span>(<span class="st">&#39;A&#39;</span>, <span class="dv">10</span>), <span class="fu">rep</span>(<span class="st">&#39;B&#39;</span>, <span class="dv">30</span>), <span class="fu">rep</span>(<span class="st">&#39;C&#39;</span>, <span class="dv">14</span>), <span class="fu">rep</span>(<span class="st">&#39;D&#39;</span>, <span class="dv">6</span>)) ,</span>
<span id="cb295-8"><a href="ranking.html#cb295-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>( <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>), <span class="dv">60</span>, <span class="at">replace=</span>T)</span>
<span id="cb295-9"><a href="ranking.html#cb295-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb295-10"><a href="ranking.html#cb295-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb295-11"><a href="ranking.html#cb295-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a number of &#39;empty bar&#39; to add at the end of each group</span></span>
<span id="cb295-12"><a href="ranking.html#cb295-12" aria-hidden="true" tabindex="-1"></a>empty_bar <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb295-13"><a href="ranking.html#cb295-13" aria-hidden="true" tabindex="-1"></a>to_add <span class="ot">&lt;-</span> <span class="fu">data.frame</span>( <span class="fu">matrix</span>(<span class="cn">NA</span>, empty_bar<span class="sc">*</span><span class="fu">nlevels</span>(data<span class="sc">$</span>group), <span class="fu">ncol</span>(data)) )</span>
<span id="cb295-14"><a href="ranking.html#cb295-14" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(to_add) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(data)</span>
<span id="cb295-15"><a href="ranking.html#cb295-15" aria-hidden="true" tabindex="-1"></a>to_add<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">levels</span>(data<span class="sc">$</span>group), <span class="at">each=</span>empty_bar)</span>
<span id="cb295-16"><a href="ranking.html#cb295-16" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data, to_add)</span>
<span id="cb295-17"><a href="ranking.html#cb295-17" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(group)</span>
<span id="cb295-18"><a href="ranking.html#cb295-18" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(data))</span>
<span id="cb295-19"><a href="ranking.html#cb295-19" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb295-20"><a href="ranking.html#cb295-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the name and the y position of each label</span></span>
<span id="cb295-21"><a href="ranking.html#cb295-21" aria-hidden="true" tabindex="-1"></a>label_data <span class="ot">&lt;-</span> data</span>
<span id="cb295-22"><a href="ranking.html#cb295-22" aria-hidden="true" tabindex="-1"></a>number_of_bar <span class="ot">&lt;-</span> <span class="fu">nrow</span>(label_data)</span>
<span id="cb295-23"><a href="ranking.html#cb295-23" aria-hidden="true" tabindex="-1"></a>angle <span class="ot">&lt;-</span> <span class="dv">90</span> <span class="sc">-</span> <span class="dv">360</span> <span class="sc">*</span> (label_data<span class="sc">$</span>id<span class="fl">-0.5</span>) <span class="sc">/</span>number_of_bar     <span class="co"># I substract 0.5 because the letter must have the angle of the center of the bars. Not extreme right(1) or extreme left (0)</span></span>
<span id="cb295-24"><a href="ranking.html#cb295-24" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>hjust <span class="ot">&lt;-</span> <span class="fu">ifelse</span>( angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb295-25"><a href="ranking.html#cb295-25" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>angle <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, angle<span class="sc">+</span><span class="dv">180</span>, angle)</span>
<span id="cb295-26"><a href="ranking.html#cb295-26" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb295-27"><a href="ranking.html#cb295-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the plot</span></span>
<span id="cb295-28"><a href="ranking.html#cb295-28" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(id), <span class="at">y=</span>value, <span class="at">fill=</span>group)) <span class="sc">+</span>       <span class="co"># Note that id is a factor. If x is numeric, there is some space between the first bar</span></span>
<span id="cb295-29"><a href="ranking.html#cb295-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb295-30"><a href="ranking.html#cb295-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">100</span>,<span class="dv">120</span>) <span class="sc">+</span></span>
<span id="cb295-31"><a href="ranking.html#cb295-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb295-32"><a href="ranking.html#cb295-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb295-33"><a href="ranking.html#cb295-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb295-34"><a href="ranking.html#cb295-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb295-35"><a href="ranking.html#cb295-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb295-36"><a href="ranking.html#cb295-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb295-37"><a href="ranking.html#cb295-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">4</span>), <span class="st">&quot;cm&quot;</span>) </span>
<span id="cb295-38"><a href="ranking.html#cb295-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb295-39"><a href="ranking.html#cb295-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>() <span class="sc">+</span> </span>
<span id="cb295-40"><a href="ranking.html#cb295-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>label_data, <span class="fu">aes</span>(<span class="at">x=</span>id, <span class="at">y=</span>value<span class="sc">+</span><span class="dv">10</span>, <span class="at">label=</span>individual, <span class="at">hjust=</span>hjust), <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>,<span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">size=</span><span class="fl">2.5</span>, <span class="at">angle=</span> label_data<span class="sc">$</span>angle, <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) </span>
<span id="cb295-41"><a href="ranking.html#cb295-41" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb295-42"><a href="ranking.html#cb295-42" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/297-circular-barplot-with-groups_files/figure-html/thecode2-1.png" /></p>
</div>
<div id="order-bars" class="section level3" number="4.6.5">
<h3><span class="header-section-number">4.6.5</span> Order Bars</h3>
<p>Here observations are sorted by bar height within each group. It can be useful if your goal is to understand what are the highest / lowest observations within and across groups.</p>
<p>The method used to order groups in ggplot2 is extensively described in this <a href="https://www.r-graph-gallery.com/267-reorder-a-variable-in-ggplot2.html">dedicated page</a>. Basically, you just have to add the following piece of code right after the data frame creation:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="ranking.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Order data:</span></span>
<span id="cb296-2"><a href="ranking.html#cb296-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> data <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(group, value)</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/297-circular-barplot-with-groups_files/figure-html/unnamed-chunk-1-1.png" /></p>
</div>
<div id="circular-barchart-customization" class="section level3" number="4.6.6">
<h3><span class="header-section-number">4.6.6</span> Circular Barchart Customization</h3>
<p>Last but not least, it is highly advisable to add some customisation to your chart. Here we add group names (A, B, C and D), and we add a scale to help compare the sizes of the bars.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="ranking.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb297-2"><a href="ranking.html#cb297-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb297-3"><a href="ranking.html#cb297-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb297-4"><a href="ranking.html#cb297-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataset</span></span>
<span id="cb297-5"><a href="ranking.html#cb297-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb297-6"><a href="ranking.html#cb297-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">individual=</span><span class="fu">paste</span>( <span class="st">&quot;Mister &quot;</span>, <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>), <span class="at">sep=</span><span class="st">&quot;&quot;</span>),</span>
<span id="cb297-7"><a href="ranking.html#cb297-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">group=</span><span class="fu">c</span>( <span class="fu">rep</span>(<span class="st">&#39;A&#39;</span>, <span class="dv">10</span>), <span class="fu">rep</span>(<span class="st">&#39;B&#39;</span>, <span class="dv">30</span>), <span class="fu">rep</span>(<span class="st">&#39;C&#39;</span>, <span class="dv">14</span>), <span class="fu">rep</span>(<span class="st">&#39;D&#39;</span>, <span class="dv">6</span>)) ,</span>
<span id="cb297-8"><a href="ranking.html#cb297-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">sample</span>( <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>), <span class="dv">60</span>, <span class="at">replace=</span>T)</span>
<span id="cb297-9"><a href="ranking.html#cb297-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb297-10"><a href="ranking.html#cb297-10" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb297-11"><a href="ranking.html#cb297-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a number of &#39;empty bar&#39; to add at the end of each group</span></span>
<span id="cb297-12"><a href="ranking.html#cb297-12" aria-hidden="true" tabindex="-1"></a>empty_bar <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb297-13"><a href="ranking.html#cb297-13" aria-hidden="true" tabindex="-1"></a>to_add <span class="ot">&lt;-</span> <span class="fu">data.frame</span>( <span class="fu">matrix</span>(<span class="cn">NA</span>, empty_bar<span class="sc">*</span><span class="fu">nlevels</span>(data<span class="sc">$</span>group), <span class="fu">ncol</span>(data)) )</span>
<span id="cb297-14"><a href="ranking.html#cb297-14" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(to_add) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(data)</span>
<span id="cb297-15"><a href="ranking.html#cb297-15" aria-hidden="true" tabindex="-1"></a>to_add<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">levels</span>(data<span class="sc">$</span>group), <span class="at">each=</span>empty_bar)</span>
<span id="cb297-16"><a href="ranking.html#cb297-16" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data, to_add)</span>
<span id="cb297-17"><a href="ranking.html#cb297-17" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(group)</span>
<span id="cb297-18"><a href="ranking.html#cb297-18" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(data))</span>
<span id="cb297-19"><a href="ranking.html#cb297-19" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb297-20"><a href="ranking.html#cb297-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the name and the y position of each label</span></span>
<span id="cb297-21"><a href="ranking.html#cb297-21" aria-hidden="true" tabindex="-1"></a>label_data <span class="ot">&lt;-</span> data</span>
<span id="cb297-22"><a href="ranking.html#cb297-22" aria-hidden="true" tabindex="-1"></a>number_of_bar <span class="ot">&lt;-</span> <span class="fu">nrow</span>(label_data)</span>
<span id="cb297-23"><a href="ranking.html#cb297-23" aria-hidden="true" tabindex="-1"></a>angle <span class="ot">&lt;-</span> <span class="dv">90</span> <span class="sc">-</span> <span class="dv">360</span> <span class="sc">*</span> (label_data<span class="sc">$</span>id<span class="fl">-0.5</span>) <span class="sc">/</span>number_of_bar     <span class="co"># I substract 0.5 because the letter must have the angle of the center of the bars. Not extreme right(1) or extreme left (0)</span></span>
<span id="cb297-24"><a href="ranking.html#cb297-24" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>hjust <span class="ot">&lt;-</span> <span class="fu">ifelse</span>( angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb297-25"><a href="ranking.html#cb297-25" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>angle <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, angle<span class="sc">+</span><span class="dv">180</span>, angle)</span>
<span id="cb297-26"><a href="ranking.html#cb297-26" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb297-27"><a href="ranking.html#cb297-27" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare a data frame for base lines</span></span>
<span id="cb297-28"><a href="ranking.html#cb297-28" aria-hidden="true" tabindex="-1"></a>base_data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb297-29"><a href="ranking.html#cb297-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(group) <span class="sc">%&gt;%</span> </span>
<span id="cb297-30"><a href="ranking.html#cb297-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">start=</span><span class="fu">min</span>(id), <span class="at">end=</span><span class="fu">max</span>(id) <span class="sc">-</span> empty_bar) <span class="sc">%&gt;%</span> </span>
<span id="cb297-31"><a href="ranking.html#cb297-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb297-32"><a href="ranking.html#cb297-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">title=</span><span class="fu">mean</span>(<span class="fu">c</span>(start, end)))</span>
<span id="cb297-33"><a href="ranking.html#cb297-33" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb297-34"><a href="ranking.html#cb297-34" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare a data frame for grid (scales)</span></span>
<span id="cb297-35"><a href="ranking.html#cb297-35" aria-hidden="true" tabindex="-1"></a>grid_data <span class="ot">&lt;-</span> base_data</span>
<span id="cb297-36"><a href="ranking.html#cb297-36" aria-hidden="true" tabindex="-1"></a>grid_data<span class="sc">$</span>end <span class="ot">&lt;-</span> grid_data<span class="sc">$</span>end[ <span class="fu">c</span>( <span class="fu">nrow</span>(grid_data), <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(grid_data)<span class="sc">-</span><span class="dv">1</span>)] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb297-37"><a href="ranking.html#cb297-37" aria-hidden="true" tabindex="-1"></a>grid_data<span class="sc">$</span>start <span class="ot">&lt;-</span> grid_data<span class="sc">$</span>start <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb297-38"><a href="ranking.html#cb297-38" aria-hidden="true" tabindex="-1"></a>grid_data <span class="ot">&lt;-</span> grid_data[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb297-39"><a href="ranking.html#cb297-39" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb297-40"><a href="ranking.html#cb297-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the plot</span></span>
<span id="cb297-41"><a href="ranking.html#cb297-41" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(id), <span class="at">y=</span>value, <span class="at">fill=</span>group)) <span class="sc">+</span>       <span class="co"># Note that id is a factor. If x is numeric, there is some space between the first bar</span></span>
<span id="cb297-42"><a href="ranking.html#cb297-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb297-43"><a href="ranking.html#cb297-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(id), <span class="at">y=</span>value, <span class="at">fill=</span>group), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb297-44"><a href="ranking.html#cb297-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb297-45"><a href="ranking.html#cb297-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a val=100/75/50/25 lines. I do it at the beginning to make sur barplots are OVER it.</span></span>
<span id="cb297-46"><a href="ranking.html#cb297-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">80</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">80</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb297-47"><a href="ranking.html#cb297-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">60</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">60</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb297-48"><a href="ranking.html#cb297-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">40</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">40</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb297-49"><a href="ranking.html#cb297-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">20</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">20</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb297-50"><a href="ranking.html#cb297-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb297-51"><a href="ranking.html#cb297-51" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add text showing the value of each 100/75/50/25 lines</span></span>
<span id="cb297-52"><a href="ranking.html#cb297-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="fu">rep</span>(<span class="fu">max</span>(data<span class="sc">$</span>id),<span class="dv">4</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>), <span class="at">label =</span> <span class="fu">c</span>(<span class="st">&quot;20&quot;</span>, <span class="st">&quot;40&quot;</span>, <span class="st">&quot;60&quot;</span>, <span class="st">&quot;80&quot;</span>) , <span class="at">color=</span><span class="st">&quot;grey&quot;</span>, <span class="at">size=</span><span class="dv">3</span> , <span class="at">angle=</span><span class="dv">0</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>, <span class="at">hjust=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb297-53"><a href="ranking.html#cb297-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb297-54"><a href="ranking.html#cb297-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(id), <span class="at">y=</span>value, <span class="at">fill=</span>group), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb297-55"><a href="ranking.html#cb297-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">100</span>,<span class="dv">120</span>) <span class="sc">+</span></span>
<span id="cb297-56"><a href="ranking.html#cb297-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb297-57"><a href="ranking.html#cb297-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb297-58"><a href="ranking.html#cb297-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb297-59"><a href="ranking.html#cb297-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb297-60"><a href="ranking.html#cb297-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb297-61"><a href="ranking.html#cb297-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb297-62"><a href="ranking.html#cb297-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">4</span>), <span class="st">&quot;cm&quot;</span>) </span>
<span id="cb297-63"><a href="ranking.html#cb297-63" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb297-64"><a href="ranking.html#cb297-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>() <span class="sc">+</span> </span>
<span id="cb297-65"><a href="ranking.html#cb297-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>label_data, <span class="fu">aes</span>(<span class="at">x=</span>id, <span class="at">y=</span>value<span class="sc">+</span><span class="dv">10</span>, <span class="at">label=</span>individual, <span class="at">hjust=</span>hjust), <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>,<span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">size=</span><span class="fl">2.5</span>, <span class="at">angle=</span> label_data<span class="sc">$</span>angle, <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb297-66"><a href="ranking.html#cb297-66" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb297-67"><a href="ranking.html#cb297-67" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add base line information</span></span>
<span id="cb297-68"><a href="ranking.html#cb297-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>base_data, <span class="fu">aes</span>(<span class="at">x =</span> start, <span class="at">y =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">xend =</span> end, <span class="at">yend =</span> <span class="sc">-</span><span class="dv">5</span>), <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha=</span><span class="fl">0.8</span>, <span class="at">size=</span><span class="fl">0.6</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> )  <span class="sc">+</span></span>
<span id="cb297-69"><a href="ranking.html#cb297-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>base_data, <span class="fu">aes</span>(<span class="at">x =</span> title, <span class="at">y =</span> <span class="sc">-</span><span class="dv">18</span>, <span class="at">label=</span>group), <span class="at">hjust=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha=</span><span class="fl">0.8</span>, <span class="at">size=</span><span class="dv">4</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>, <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb297-70"><a href="ranking.html#cb297-70" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb297-71"><a href="ranking.html#cb297-71" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<p><img src="https://www.r-graph-gallery.com/297-circular-barplot-with-groups_files/figure-html/thecode4-1.png" /></p>
</div>
<div id="circular-stacked-barplot" class="section level3" number="4.6.7">
<h3><span class="header-section-number">4.6.7</span> Circular Stacked Barplot</h3>
<p>A <a href="https://www.r-graph-gallery.com/circular-barplot.html">circular barplot</a> is a <a href="https://www.r-graph-gallery.com/barplot.html">barplot</a> where bars are displayed along a circle instead of a line. This page aims to teach you how to make a grouped and stacked circular barplot with <code>R</code> and <code>ggplot2</code>.</p>
<p>A circular barplot is a barplot where bars are displayed along a circle instead of a line. This page aims to teach you how to make a grouped and stacked circular barplot. I highly recommend to visit graph <a href="https://www.r-graph-gallery.com/295-basic-circular-barplot.html">#295</a>, <a href="https://www.r-graph-gallery.com/296-add-labels-to-circular-barplot.html">#296</a> and <a href="https://www.r-graph-gallery.com/297-circular-barplot-with-groups.html">#297</a> Before diving into this code, which is a bit rough.</p>
<p>I tried to add as many comments as possible in the code, and thus hope that the method is understandable. If it is not, please comment and ask supplementary explanations.</p>
<p>You first need to understand how to make a <a href="https://www.r-graph-gallery.com/stacked-barplot.html">stacked barplot</a> with ggplot2. Then understand how to properly add labels, calculating the good angles, flipping them if necessary, and adjusting their position. The trickiest part is probably the one allowing to add space between each group. All these steps are described one by one in the circular barchart <a href="https://www.r-graph-gallery.com/circular-barplot.html">section</a>.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="ranking.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb298-2"><a href="ranking.html#cb298-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb298-3"><a href="ranking.html#cb298-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb298-4"><a href="ranking.html#cb298-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb298-5"><a href="ranking.html#cb298-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create dataset</span></span>
<span id="cb298-6"><a href="ranking.html#cb298-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb298-7"><a href="ranking.html#cb298-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">individual=</span><span class="fu">paste</span>( <span class="st">&quot;Mister &quot;</span>, <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">60</span>), <span class="at">sep=</span><span class="st">&quot;&quot;</span>),</span>
<span id="cb298-8"><a href="ranking.html#cb298-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">group=</span><span class="fu">c</span>( <span class="fu">rep</span>(<span class="st">&#39;A&#39;</span>, <span class="dv">10</span>), <span class="fu">rep</span>(<span class="st">&#39;B&#39;</span>, <span class="dv">30</span>), <span class="fu">rep</span>(<span class="st">&#39;C&#39;</span>, <span class="dv">14</span>), <span class="fu">rep</span>(<span class="st">&#39;D&#39;</span>, <span class="dv">6</span>)) ,</span>
<span id="cb298-9"><a href="ranking.html#cb298-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">value1=</span><span class="fu">sample</span>( <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>), <span class="dv">60</span>, <span class="at">replace=</span>T),</span>
<span id="cb298-10"><a href="ranking.html#cb298-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">value2=</span><span class="fu">sample</span>( <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>), <span class="dv">60</span>, <span class="at">replace=</span>T),</span>
<span id="cb298-11"><a href="ranking.html#cb298-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">value3=</span><span class="fu">sample</span>( <span class="fu">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>), <span class="dv">60</span>, <span class="at">replace=</span>T)</span>
<span id="cb298-12"><a href="ranking.html#cb298-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb298-13"><a href="ranking.html#cb298-13" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb298-14"><a href="ranking.html#cb298-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform data in a tidy format (long format)</span></span>
<span id="cb298-15"><a href="ranking.html#cb298-15" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">&quot;observation&quot;</span>, <span class="at">value=</span><span class="st">&quot;value&quot;</span>, <span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)) </span>
<span id="cb298-16"><a href="ranking.html#cb298-16" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb298-17"><a href="ranking.html#cb298-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Set a number of &#39;empty bar&#39; to add at the end of each group</span></span>
<span id="cb298-18"><a href="ranking.html#cb298-18" aria-hidden="true" tabindex="-1"></a>empty_bar <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb298-19"><a href="ranking.html#cb298-19" aria-hidden="true" tabindex="-1"></a>nObsType <span class="ot">&lt;-</span> <span class="fu">nlevels</span>(<span class="fu">as.factor</span>(data<span class="sc">$</span>observation))</span>
<span id="cb298-20"><a href="ranking.html#cb298-20" aria-hidden="true" tabindex="-1"></a>to_add <span class="ot">&lt;-</span> <span class="fu">data.frame</span>( <span class="fu">matrix</span>(<span class="cn">NA</span>, empty_bar<span class="sc">*</span><span class="fu">nlevels</span>(data<span class="sc">$</span>group)<span class="sc">*</span>nObsType, <span class="fu">ncol</span>(data)) )</span>
<span id="cb298-21"><a href="ranking.html#cb298-21" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(to_add) <span class="ot">&lt;-</span> <span class="fu">colnames</span>(data)</span>
<span id="cb298-22"><a href="ranking.html#cb298-22" aria-hidden="true" tabindex="-1"></a>to_add<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">levels</span>(data<span class="sc">$</span>group), <span class="at">each=</span>empty_bar<span class="sc">*</span>nObsType )</span>
<span id="cb298-23"><a href="ranking.html#cb298-23" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data, to_add)</span>
<span id="cb298-24"><a href="ranking.html#cb298-24" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(group, individual)</span>
<span id="cb298-25"><a href="ranking.html#cb298-25" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">rep</span>( <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">nrow</span>(data)<span class="sc">/</span>nObsType) , <span class="at">each=</span>nObsType)</span>
<span id="cb298-26"><a href="ranking.html#cb298-26" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb298-27"><a href="ranking.html#cb298-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the name and the y position of each label</span></span>
<span id="cb298-28"><a href="ranking.html#cb298-28" aria-hidden="true" tabindex="-1"></a>label_data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(id, individual) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">tot=</span><span class="fu">sum</span>(value))</span>
<span id="cb298-29"><a href="ranking.html#cb298-29" aria-hidden="true" tabindex="-1"></a>number_of_bar <span class="ot">&lt;-</span> <span class="fu">nrow</span>(label_data)</span>
<span id="cb298-30"><a href="ranking.html#cb298-30" aria-hidden="true" tabindex="-1"></a>angle <span class="ot">&lt;-</span> <span class="dv">90</span> <span class="sc">-</span> <span class="dv">360</span> <span class="sc">*</span> (label_data<span class="sc">$</span>id<span class="fl">-0.5</span>) <span class="sc">/</span>number_of_bar     <span class="co"># I substract 0.5 because the letter must have the angle of the center of the bars. Not extreme right(1) or extreme left (0)</span></span>
<span id="cb298-31"><a href="ranking.html#cb298-31" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>hjust <span class="ot">&lt;-</span> <span class="fu">ifelse</span>( angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb298-32"><a href="ranking.html#cb298-32" aria-hidden="true" tabindex="-1"></a>label_data<span class="sc">$</span>angle <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(angle <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">90</span>, angle<span class="sc">+</span><span class="dv">180</span>, angle)</span>
<span id="cb298-33"><a href="ranking.html#cb298-33" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb298-34"><a href="ranking.html#cb298-34" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare a data frame for base lines</span></span>
<span id="cb298-35"><a href="ranking.html#cb298-35" aria-hidden="true" tabindex="-1"></a>base_data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb298-36"><a href="ranking.html#cb298-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(group) <span class="sc">%&gt;%</span> </span>
<span id="cb298-37"><a href="ranking.html#cb298-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">start=</span><span class="fu">min</span>(id), <span class="at">end=</span><span class="fu">max</span>(id) <span class="sc">-</span> empty_bar) <span class="sc">%&gt;%</span> </span>
<span id="cb298-38"><a href="ranking.html#cb298-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb298-39"><a href="ranking.html#cb298-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">title=</span><span class="fu">mean</span>(<span class="fu">c</span>(start, end)))</span>
<span id="cb298-40"><a href="ranking.html#cb298-40" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb298-41"><a href="ranking.html#cb298-41" aria-hidden="true" tabindex="-1"></a><span class="co"># prepare a data frame for grid (scales)</span></span>
<span id="cb298-42"><a href="ranking.html#cb298-42" aria-hidden="true" tabindex="-1"></a>grid_data <span class="ot">&lt;-</span> base_data</span>
<span id="cb298-43"><a href="ranking.html#cb298-43" aria-hidden="true" tabindex="-1"></a>grid_data<span class="sc">$</span>end <span class="ot">&lt;-</span> grid_data<span class="sc">$</span>end[ <span class="fu">c</span>( <span class="fu">nrow</span>(grid_data), <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(grid_data)<span class="sc">-</span><span class="dv">1</span>)] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb298-44"><a href="ranking.html#cb298-44" aria-hidden="true" tabindex="-1"></a>grid_data<span class="sc">$</span>start <span class="ot">&lt;-</span> grid_data<span class="sc">$</span>start <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb298-45"><a href="ranking.html#cb298-45" aria-hidden="true" tabindex="-1"></a>grid_data <span class="ot">&lt;-</span> grid_data[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb298-46"><a href="ranking.html#cb298-46" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb298-47"><a href="ranking.html#cb298-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the plot</span></span>
<span id="cb298-48"><a href="ranking.html#cb298-48" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data) <span class="sc">+</span>      </span>
<span id="cb298-49"><a href="ranking.html#cb298-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb298-50"><a href="ranking.html#cb298-50" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add the stacked bar</span></span>
<span id="cb298-51"><a href="ranking.html#cb298-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(id), <span class="at">y=</span>value, <span class="at">fill=</span>observation), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb298-52"><a href="ranking.html#cb298-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis</span>(<span class="at">discrete=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb298-53"><a href="ranking.html#cb298-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb298-54"><a href="ranking.html#cb298-54" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a val=100/75/50/25 lines. I do it at the beginning to make sur barplots are OVER it.</span></span>
<span id="cb298-55"><a href="ranking.html#cb298-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">0</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb298-56"><a href="ranking.html#cb298-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">50</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">50</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb298-57"><a href="ranking.html#cb298-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">100</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">100</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb298-58"><a href="ranking.html#cb298-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">150</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">150</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb298-59"><a href="ranking.html#cb298-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>grid_data, <span class="fu">aes</span>(<span class="at">x =</span> end, <span class="at">y =</span> <span class="dv">200</span>, <span class="at">xend =</span> start, <span class="at">yend =</span> <span class="dv">200</span>), <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">size=</span><span class="fl">0.3</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb298-60"><a href="ranking.html#cb298-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb298-61"><a href="ranking.html#cb298-61" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add text showing the value of each 100/75/50/25 lines</span></span>
<span id="cb298-62"><a href="ranking.html#cb298-62" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> <span class="fu">rep</span>(<span class="fu">max</span>(data<span class="sc">$</span>id),<span class="dv">5</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>), <span class="at">label =</span> <span class="fu">c</span>(<span class="st">&quot;0&quot;</span>, <span class="st">&quot;50&quot;</span>, <span class="st">&quot;100&quot;</span>, <span class="st">&quot;150&quot;</span>, <span class="st">&quot;200&quot;</span>) , <span class="at">color=</span><span class="st">&quot;grey&quot;</span>, <span class="at">size=</span><span class="dv">6</span> , <span class="at">angle=</span><span class="dv">0</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>, <span class="at">hjust=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb298-63"><a href="ranking.html#cb298-63" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb298-64"><a href="ranking.html#cb298-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="sc">-</span><span class="dv">150</span>,<span class="fu">max</span>(label_data<span class="sc">$</span>tot, <span class="at">na.rm=</span>T)) <span class="sc">+</span></span>
<span id="cb298-65"><a href="ranking.html#cb298-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb298-66"><a href="ranking.html#cb298-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb298-67"><a href="ranking.html#cb298-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb298-68"><a href="ranking.html#cb298-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb298-69"><a href="ranking.html#cb298-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb298-70"><a href="ranking.html#cb298-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb298-71"><a href="ranking.html#cb298-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">4</span>), <span class="st">&quot;cm&quot;</span>) </span>
<span id="cb298-72"><a href="ranking.html#cb298-72" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb298-73"><a href="ranking.html#cb298-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>() <span class="sc">+</span></span>
<span id="cb298-74"><a href="ranking.html#cb298-74" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb298-75"><a href="ranking.html#cb298-75" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add labels on top of each bar</span></span>
<span id="cb298-76"><a href="ranking.html#cb298-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>label_data, <span class="fu">aes</span>(<span class="at">x=</span>id, <span class="at">y=</span>tot<span class="sc">+</span><span class="dv">10</span>, <span class="at">label=</span>individual, <span class="at">hjust=</span>hjust), <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>,<span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">angle=</span> label_data<span class="sc">$</span>angle, <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> ) <span class="sc">+</span></span>
<span id="cb298-77"><a href="ranking.html#cb298-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb298-78"><a href="ranking.html#cb298-78" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add base line information</span></span>
<span id="cb298-79"><a href="ranking.html#cb298-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">data=</span>base_data, <span class="fu">aes</span>(<span class="at">x =</span> start, <span class="at">y =</span> <span class="sc">-</span><span class="dv">5</span>, <span class="at">xend =</span> end, <span class="at">yend =</span> <span class="sc">-</span><span class="dv">5</span>), <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha=</span><span class="fl">0.8</span>, <span class="at">size=</span><span class="fl">0.6</span> , <span class="at">inherit.aes =</span> <span class="cn">FALSE</span> )  <span class="sc">+</span></span>
<span id="cb298-80"><a href="ranking.html#cb298-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>base_data, <span class="fu">aes</span>(<span class="at">x =</span> title, <span class="at">y =</span> <span class="sc">-</span><span class="dv">18</span>, <span class="at">label=</span>group), <span class="at">hjust=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha=</span><span class="fl">0.8</span>, <span class="at">size=</span><span class="dv">4</span>, <span class="at">fontface=</span><span class="st">&quot;bold&quot;</span>, <span class="at">inherit.aes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb298-81"><a href="ranking.html#cb298-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Save at png</span></span>
<span id="cb298-82"><a href="ranking.html#cb298-82" aria-hidden="true" tabindex="-1"></a><span class="co">#ggsave(p, file=&quot;output.png&quot;, width=10, height=10)</span></span>
<span id="cb298-83"><a href="ranking.html#cb298-83" aria-hidden="true" tabindex="-1"></a>p</span></code></pre></div>
<center>
<img src="https://www.r-graph-gallery.com/img/graph/299-circular-stacked-barplotBig.png" style="width:75.0%" />
</center>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="correlation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="part.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
